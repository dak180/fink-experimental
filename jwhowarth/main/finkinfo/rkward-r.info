Info2: <<
Package: rkward-r%type_pkg[rversion]
Version: 0.6.1
Revision: 1
Description: KDE IDE for R
Type: rversion (2.15 3.0 3.1)
Source: http://hivelocity.dl.sourceforge.net/project/rkward/Current_Stable_Releases/rkward-%v.tar.gz
Source-MD5: aa2c16c4b76f729289bd2853fa4da2a8
PatchFile: rkward.patch
PatchFile-MD5: ebe16cec04f8829fcd49f492f482673a 
Depends: <<
	kdelibs4-mac-shlibs,
	libgettext8-shlibs,
	qt4-base-mac-qtcore-shlibs,
	qt4-base-mac-qtgui-shlibs,
	qt4-base-mac-qtnetwork-shlibs,
	qt4-base-mac-qtscript-shlibs,
	qt4-base-mac-qtxml-shlibs,
	r-base%type_pkg[rversion]-shlibs
<<
RunTimeDepends: <<
	kate4-mac,
	okular4-mac,
	r-base%type_pkg[rversion]
<<
BuildDepends: <<
	cmake,
	fink (>= 0.32),
	kde4-buildenv (>= 4.13.1-1),
	kdelibs4-mac-dev (>= %v-1),
	libgettext8-dev,
	qt4-base-mac,
	r-base%type_pkg[rversion]-dev
<<
Conflicts: rkward-r215, rkward-r30, rkward-r31
Replaces: rkward-r215, rkward-r30, rkward-r31
Maintainer: Jack Howarth <howarth.at.fink@gmail.com>
SetCXXFLAGS: -I%p/include
CompileScript: <<
#!/bin/sh -ev
export KDE4_PREFIX="%p" KDE4_TYPE="mac"
. %p/sbin/kde4.12-buildenv.sh

mkdir -p build
pushd build
	cmake $KDE4_CMAKE_ARGS -DBUNDLE_INSTALL_DIR=%p/Applications -DNO_R_XML=1 -DRKVERSION_NUMBER=%type_raw[rversion] -DR_EXECUTABLE=%p/Library/Frameworks/R.framework/Versions/%type_raw[rversion]/Resources/bin/R -DCMAKE_BUILD_TYPE=Release ..
	make
popd
<<
InstallScript: <<
#!/bin/sh -ev
pushd build
	make install DESTDIR="%d"
popd
<<
DocFiles: README TODO
PostInstScript: <<
ln -sf %p/Applications/RKWard.app /Applications/fink/RKWard.app
<<
PreRmScript: <<
if [ $1 != "upgrade" ]; then
  rm -f /Applications/fink/RKWard.app
fi
<<
DescPort: <<
<<
License: GPL
Homepage: http://rkward.sourceforge.net
<<
