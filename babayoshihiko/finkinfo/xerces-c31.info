Package: xerces-c31
Version: 3.1.0
Revision: 0.2
Maintainer: BABA Yoshihiko <babayoshihiko@mac.com>
License: BSD
Homepage: http://xml.apache.org/xerces-c/

BuildDepends: fink (>= 0.24.12)
Depends: %N-shlibs (= %v-%r)
Conflicts: xerces-c23, xerces-c
Replaces: xerces-c23, xerces-c

Source: http://archive.apache.org/dist/xml/xerces-c/Xerces-C_3_1_0/sources/xerces-c-%v.tar.gz
Source-MD5: 4dc9460e011ed4857dcd290f22dd6f1b
CompileScript: <<
#!/bin/sh -ev
  ./configure %c
  perl -pi -e 's| -install_name | -compatibility_version %v -current_version %v -install_name |' libtool
  make
<<
InstallScript: <<
#!/bin/sh -ev
  make install DESTDIR=%d
<<
DocFiles: LICENSE*
SplitOff: <<
 Package: %N-shlibs
 Files: lib/libxerces-c-3.1.dylib lib/pkgconfig
 Shlibs: <<
  %p/lib/libxerces-c-3.1.dylib 3.1.0 %n (>= 3.1.0-0.1)
 <<
 DocFiles: LICENSE*
<<
SplitOff2: <<
 Package: %N-dev
 Conflicts: xerces-c23-dev, %N-dev (<< %v-%r)
 Replaces: xerces-c23-dev, %N-dev (<< %v-%r)
 BuildDependsOnly: True
 Depends: %N-shlibs (= %v-%r)
 Files: include lib/libxerces-c.dylib lib/libxerces-c.a lib/libxerces-c.la share/doc/%N
 DocFiles: LICENSE*
<<
Description: XML parser in C++
DescDetail: <<
 Xerces-C is a validating XML parser written in C++.  Xerces-C
 conforms with the XML-1.0 W3C recommendation.
<<
DescPackaging: <<
 The extensive documentation is in the -dev splitoff
 .
 The main package contains the sample applications, installed in bin.
 .
 If building the Perl XML::Xerces package (sold separately), it should
 set the following envvars:
   XERCESCROOT=%%p
   XERCES_CONFIG=%%p/share/%n-dev/config.status
<<
DescPort: <<
 Patched samples/runConfigure to support a -C flag just like
 src/xercesc/runConfigure

 dmacks updated/fixed libverisoning flag hacks.

 dmacks patched a lot of makefile fragments to link directly to
 build-dir libs in order to avoid libs that might be installed already.
 See: https://issues.apache.org/jira/browse/XERCESC-1765

	dmacks applied patch for 64bit (32-bit-only system funtions)
	to MacCarbonFile.cpp and MacOSPlatformUtils.cpp from
	https://issues.apache.org/jira/browse/XERCESC-1772 and pass
	64-bit flag on that platform.
<<
