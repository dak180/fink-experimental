--- configure	2010-07-25 15:30:13.000000000 -0400
+++ configure.new	2011-03-27 20:36:27.000000000 -0400
@@ -4187,16 +4187,16 @@
     ;;
   darwin*)
     LIBNETTLE_FORLINK=libnettle.dylib
-    LIBNETTLE_SONAME='$(LIBNETTLE_FORLINK).$(LIBNETTLE_MAJOR)'
-    LIBNETTLE_FILE='$(LIBNETTLE_SONAME).$(LIBNETTLE_MINOR)'
+    LIBNETTLE_SONAME='libnettle.$(LIBNETTLE_MAJOR).dylib'
+    LIBNETTLE_FILE='libnettle.$(LIBNETTLE_MAJOR).$(LIBNETTLE_MINOR).dylib'
     LIBNETTLE_LINK='$(CC) -dynamiclib $(LDFLAGS)'
     LIBNETTLE_LIBS=''
 
     LIBHOGWEED_FORLINK=libhogweed.dylib
-    LIBHOGWEED_SONAME='$(LIBHOGWEED_FORLINK).$(LIBHOGWEED_MAJOR)'
-    LIBHOGWEED_FILE='$(LIBHOGWEED_SONAME).$(LIBHOGWEED_MINOR)'
+    LIBHOGWEED_SONAME='libhogweed.$(LIBHOGWEED_MAJOR).dylib'
+    LIBHOGWEED_FILE='libhogweed.$(LIBHOGWEED_MAJOR).$(LIBHOGWEED_MINOR).dylib'
     LIBHOGWEED_LINK='$(CC) -dynamiclib $(LDFLAGS)'
-    LIBHOGWEED_LIBS=''
+    LIBHOGWEED_LIBS='-lgmp $(LIBNETTLE_FORLINK)'
     ;;
   *)
     LIBNETTLE_FORLINK=libnettle.so
--- Makefile.in	2011-04-03 22:48:12.000000000 -0400
+++ MakefileNew.in	2011-04-06 00:37:27.000000000 -0400
@@ -155,13 +155,13 @@
 
 # Rules building shared libraries
 $(LIBNETTLE_FORLINK): $(nettle_PURE_OBJS)
-	$(LIBNETTLE_LINK) $(nettle_PURE_OBJS) -o $@ $(LIBNETTLE_LIBS)
+	$(LIBNETTLE_LINK) $(nettle_PURE_OBJS) -install_name @FINKPREFIX@/lib/$(LIBNETTLE_SONAME) -o $@ $(LIBNETTLE_LIBS)
 	-mkdir .lib 2>/dev/null
 	[ -z "$(LIBNETTLE_SONAME)" ] || (cd .lib \
           && ln -sf ../$(LIBNETTLE_FORLINK) $(LIBNETTLE_SONAME))
 
 $(LIBHOGWEED_FORLINK): $(hogweed_PURE_OBJS) $(LIBNETTLE_FORLINK)
-	$(LIBHOGWEED_LINK) $(hogweed_PURE_OBJS) -o $@ $(LIBHOGWEED_LIBS)
+	$(LIBHOGWEED_LINK) $(hogweed_PURE_OBJS) -install_name @FINKPREFIX@/lib/$(LIBHOGWEED_SONAME) -o $@ $(LIBHOGWEED_LIBS)
 	-mkdir .lib 2>/dev/null
 	[ -z "$(LIBHOGWEED_SONAME)" ] || (cd .lib \
           && ln -sf ../$(LIBHOGWEED_FORLINK) $(LIBHOGWEED_SONAME))
