Package: dh-autoreconf
Version: 9
Revision: 1
###
Depends: <<
	debhelper,
	autoconf2.6,
	automake1.11 | automaken,
	gettext-tools,
	coreutils
<<
###
Source: mirror:debian:pool/main/d/%n/%n_%v.tar.gz
Source-MD5: 8ee1d5b7f31c36de89ec37c81ae54973
SourceDirectory: %n-%v
###
PatchScript: <<
#!/bin/sh -ev
BASE=$(echo %p | perl -pi -e 's,/,,'); \
for i in `find debian -type f`; do perl -pi -e "s,usr,${BASE},g" $i; done

cat << EOF >> debian/rules 

override_dh_auto_test:

override_dh_installman:
EOF

perl -pi -e 's,md5sum,gmd5sum,g' dh_autoreconf
perl -pi -e 's,find \$find,find . \$find,g' dh_autoreconf
<<
CompileScript: <<
debian/rules build
<<
InfoTest: <<
	TestScript: <<
dh_auto_test || exit 2
	<<
<<
InstallScript: <<
debian/rules install
dh_installdeb

cp -R debian/%N%p/* %i/

### override_dh_installman
install -d 0755 %i/share/man/man1
install -d 0755 %i/share/man/man7
install -m 0644 dh_autoreconf.1 %i/share/man/man1
install -m 0644 dh_autoreconf_clean.1 %i/share/man/man1
install -m 0644 dh-autoreconf.7 %i/share/man/man7

### Fix perl location
install -d -m 0755 %i/lib
mv %i/share/perl5 %i/lib/perl5
<<
###
Description: Add-on to call autoreconf and clean up after
DescDetail: <<
dh-autoreconf provides a debhelper sequence addon named 'autoreconf' and two
commands, dh_autoreconf and dh_autoreconf_clean.

The dh_autoreconf command creates a list of the files and their checksums,
calls autoreconf and then creates a second list for the new files.

The dh_autoreconf_clean command compares these two lists and removes all
files which have been added or changed (files may be excluded if needed).

For CDBS users, a rule is provided to call the dh-autoreconf programs at
the right time.
<<
DescUsage: <<
All packages that use this one need to declare a BuildDepends on
libtool2 (>= 2.4.2), since libtool2 is a BuildDependsOnly package I can not
depend on it directly.
<<
###
License: GPL
Homepage: http://packages.debian.org/source/unstable/dh-autoreconf
Maintainer: Justin F. Hallett <thesin@users.sourceforge.net>
