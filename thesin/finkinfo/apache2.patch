diff -ruN httpd-2.4.6.orig/fink/a2enmod httpd-2.4.6/fink/a2enmod
--- httpd-2.4.6.orig/fink/a2enmod	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/a2enmod	2013-08-08 09:21:22.000000000 -0600
@@ -0,0 +1,530 @@
+#!/usr/bin/perl -w
+#
+# a2enmod by Stefan Fritsch <sf@debian.org>
+# Licensed under Apache License 2.0
+#
+# The coding style is "perltidy -pbp"
+
+use strict;
+use Cwd 'realpath';
+use File::Spec;
+use File::Basename;
+use File::Path;
+use Getopt::Long;
+
+my $quiet;
+my $force;
+my $maintmode;
+my $purge;
+
+Getopt::Long::Configure('bundling');
+GetOptions(
+    'quiet|q'     => \$quiet,
+    'force|f'     => \$force,
+    'maintmode|m' => \$maintmode,
+    'purge|p'     => \$purge
+) or exit 2;
+
+my $basename = basename($0);
+$basename =~ /^a2(en|dis)(mod|site|conf)((?:-.+)?)$/
+    or die "$basename call name unknown\n";
+my $act        = $1;
+my $obj        = $2;
+my $dir_suffix = $3;
+
+my $env_file = $ENV{APACHE_ENVVARS}
+    || (
+    $ENV{APACHE_CONFDIR}
+    ? "$ENV{APACHE_CONFDIR}/envvars"
+    : "@FINKPREFIX@/etc/apache2$dir_suffix/envvars"
+    );
+$ENV{LANG} = 'C';
+read_env_file($env_file);
+
+$act .= 'able';
+my ( $name, $dir, $sffx, $reload );
+if ( $obj eq 'mod' ) {
+    $obj    = 'module';
+    $dir    = 'mods';
+    $sffx   = '.load';
+    $reload = 'restart';
+}
+elsif ( $obj eq 'conf' ) {
+    $obj    = 'conf';
+    $dir    = 'conf';
+    $sffx   = '.conf';
+    $reload = 'reload';
+}
+else {
+    $dir    = 'sites';
+    $sffx   = '.conf';
+    $reload = 'reload';
+}
+$name = ucfirst($obj);
+
+my $confdir = $ENV{APACHE_CONFDIR} || "@FINKPREFIX@/etc/apache2$dir_suffix";
+my $availdir = $ENV{ uc("APACHE_${dir}_AVAILABLE") }
+    || "$confdir/$dir-available";
+my $enabldir = $ENV{ uc("APACHE_${dir}_ENABLED") } || "$confdir/$dir-enabled";
+my $statedir = $ENV{ uc("APACHE_STATE_DIRECTORY") } || "@FINKPREFIX@/var/lib/apache2";
+
+$statedir .= "/$obj";
+
+my $choicedir = $act eq 'enable' ? $availdir : $enabldir;
+my $linkdir = File::Spec->abs2rel( $availdir, $enabldir );
+
+my $request_reload = 0;
+
+my $rc = 0;
+
+if ( !scalar @ARGV ) {
+    my @choices = myglob('*');
+    print "Your choices are: @choices\n";
+    print "Which ${obj}(s) do you want to $act (wildcards ok)?\n";
+    my $input = <>;
+    @ARGV = split /\s+/, $input;
+
+}
+
+my @objs;
+foreach my $arg (@ARGV) {
+    $arg =~ s/${sffx}$//;
+    my @glob = myglob($arg);
+    if ( !@glob ) {
+        error("No $obj found matching $arg!\n");
+        $rc = 1;
+    }
+    else {
+        push @objs, @glob;
+    }
+}
+
+foreach my $acton (@objs) {
+    doit($acton) or $rc = 1;
+}
+
+info(
+    "To activate the new configuration, you need to run:\n  apache2ctl restart\n"
+) if $request_reload;
+
+exit($rc);
+
+##############################################################################
+
+sub myglob {
+    my $arg = shift;
+
+    my @glob = map {
+        s{^$choicedir/}{};
+        s{$sffx$}{};
+        $_
+    } glob("$choicedir/$arg$sffx");
+
+    return @glob;
+}
+
+sub doit {
+    my $acton = shift;
+
+    my ( $conftgt, $conflink );
+    if ( $obj eq 'module' ) {
+        if ( $acton eq 'cgi' && threaded() ) {
+            print
+                "Your MPM seems to be threaded. Selecting cgid instead of cgi.\n";
+            $acton = 'cgid';
+        }
+
+        $conftgt = "$availdir/$acton.conf";
+        if ( -e $conftgt ) {
+            $conflink = "$enabldir/$acton.conf";
+        }
+    }
+
+    my $tgt  = "$availdir/$acton$sffx";
+    my $link = "$enabldir/$acton$sffx";
+
+    if ( !-e $tgt ) {
+        if ( -l $link && !-e $link ) {
+            if ( $act eq 'disable' ) {
+                info("removing dangling symlink $link\n");
+                unlink($link);
+
+                # force a .conf path. It may exist as dangling link, too
+                $conflink = "$enabldir/$acton.conf";
+
+                if ( -l $conflink && !-e $conflink ) {
+                    info("removing dangling symlink $conflink\n");
+                    unlink($conflink);
+                }
+
+                return 1;
+            }
+            else {
+                error("$link is a dangling symlink!\n");
+            }
+        }
+
+        if ( $purge ) {
+            switch_marker( $obj, $act, $acton );
+        }
+
+        error("$name $acton does not exist!\n");
+        return 0;
+    }
+
+    # handle module dependencies
+    if ( $obj eq 'module' ) {
+        if ( $act eq 'enable' ) {
+            if ( $acton eq 'mpm_itk' ) {
+                warning(  "MPM_ITK is a third party module that is not part "
+                        . "of the official Apache HTTPD. It has seen less "
+                        . "testing than the official MPM modules." );
+            }
+            my @depends = get_deps("$availdir/$acton.load");
+            do_deps( $acton, @depends ) or return 0;
+
+            my @conflicts = get_deps( "$availdir/$acton.load", "Conflicts" );
+            check_conflicts( $acton, @conflicts ) or return 0;
+        }
+        else {
+            my @depending;
+            foreach my $d ( glob("$enabldir/*.load") ) {
+                my @deps = get_deps($d);
+                if ( is_in( $acton, @deps ) ) {
+                    $d =~ m,/([^/]+).load$,;
+                    push @depending, $1;
+                }
+            }
+            if ( scalar @depending ) {
+                if ($force) {
+                    do_deps( $acton, @depending ) or return 0;
+                }
+                else {
+                    error(
+                        "The following modules depend on $acton ",
+                        "and need to be disabled first: @depending\n"
+                    );
+                    return 0;
+                }
+            }
+        }
+    }
+    elsif ( $act eq 'enable' ) {
+        my @depends = get_deps("$availdir/$acton$sffx");
+        warn_deps( $acton, @depends ) or return 0;
+    }
+
+    if ( $act eq 'enable' ) {
+        my $check = check_link( $tgt, $link );
+        if ( $check eq 'ok' ) {
+            if ($conflink) {
+
+                # handle .conf file
+                my $confcheck = check_link( $conftgt, $conflink );
+                if ( $confcheck eq 'ok' ) {
+                    info("$name $acton already enabled\n");
+                    return 1;
+                }
+                elsif ( $confcheck eq 'missing' ) {
+                    print "Enabling config file $acton.conf.\n";
+                    add_link( $conftgt, $conflink ) or return 0;
+                }
+                else {
+                    error(
+                        "Config file $acton.conf not properly enabled: $confcheck\n"
+                    );
+                    return 0;
+                }
+            }
+            else {
+                info("$name $acton already enabled\n");
+                return 1;
+            }
+        }
+        elsif ( $check eq 'missing' ) {
+            if ($conflink) {
+
+                # handle .conf file
+                my $confcheck = check_link( $conftgt, $conflink );
+                if ( $confcheck eq 'missing' ) {
+                    add_link( $conftgt, $conflink ) or return 0;
+                }
+                elsif ( $confcheck ne 'ok' ) {
+                    error(
+                        "Config file $acton.conf not properly enabled: $confcheck\n"
+                    );
+                    return 0;
+                }
+            }
+
+            print "Enabling $obj $acton.\n";
+            if ( $acton eq 'ssl' ) {
+                info(     "See @FINKPREFIX@/share/doc/apache2/README on "
+                        . "how to configure SSL and create self-signed certificates.\n"
+                );
+            }
+            return add_link( $tgt, $link )
+                && switch_marker( $obj, $act, $acton );
+        }
+        else {
+            error("$name $acton not properly enabled: $check\n");
+            return 0;
+        }
+    }
+    else {
+        if ( -e $link || -l $link ) {
+            remove_link($link);
+            if ( $conflink && -e $conflink ) {
+                remove_link($conflink);
+            }
+            switch_marker( $obj, $act, $acton );
+            print "$name $acton disabled.\n";
+        }
+        elsif ( $conflink && -e $conflink ) {
+            print "Disabling stale config file $acton.conf.\n";
+            remove_link($conflink);
+        }
+        else {
+            info("$name $acton already disabled\n");
+            if ( $purge ) {
+                switch_marker( $obj, $act, $acton );
+            }
+            return 1;
+        }
+    }
+
+    return 1;
+}
+
+sub get_deps {
+    my $file = shift;
+    my $type = shift || "Depends";
+
+    my $fd;
+    if ( !open( $fd, '<', $file ) ) {
+        error("Can't open $file: $!");
+        return;
+    }
+    my $line;
+    while ( defined( $line = <$fd> ) ) {
+        chomp $line;
+        if ( $line =~ /^# $type:\s+(.*?)\s*$/ ) {
+            my $deps = $1;
+            return split( /[\n\s]+/, $deps );
+        }
+
+        # only check until the first non-empty non-comment line
+        last if ( $line !~ /^\s*(?:#.*)?$/ );
+    }
+    return;
+}
+
+sub do_deps {
+    my $acton = shift;
+    foreach my $d (@_) {
+        info("Considering dependency $d for $acton:\n");
+        if ( !doit($d) ) {
+            error("Could not $act dependency $d for $acton, aborting\n");
+            return 0;
+        }
+    }
+    return 1;
+}
+
+sub warn_deps {
+    my $acton = shift;
+    my $modsenabldir = $ENV{APACHE_MODS_ENABLED} || "$confdir/mods-enabled";
+    foreach my $d (@_) {
+        info("Checking dependency $d for $acton:\n");
+        if ( !-e "$modsenabldir/$d.load" ) {
+            warning(
+                "Module $d is not enabled, but $acton depends on it, aborting\n"
+            );
+            return 0;
+        }
+    }
+    return 1;
+}
+
+sub check_conflicts {
+    my $acton    = shift;
+    my $haderror = 0;
+    foreach my $d (@_) {
+        info("Considering conflict $d for $acton:\n");
+
+        my $tgt  = "$availdir/$d$sffx";
+        my $link = "$enabldir/$d$sffx";
+
+        my $confcheck = check_link( $tgt, $link );
+        if ( $confcheck eq 'ok' ) {
+            error(
+                "Module $d is enabled - cannot proceed due to conflicts. It needs to be disabled first!\n"
+            );
+
+            # Don't return immediately, there could be several conflicts
+            $haderror++;
+        }
+    }
+
+    if ($haderror) {
+        return 0;
+    }
+
+    return 1;
+}
+
+sub add_link {
+    my ( $tgt, $link ) = @_;
+
+    # create relative link
+    if ( !symlink( File::Spec->abs2rel( $tgt, dirname($link) ), $link ) ) {
+        die("Could not create $link: $!\n");
+    }
+    $request_reload = 1;
+    return 1;
+}
+
+sub check_link {
+    my ( $tgt, $link ) = @_;
+
+    if ( !-e $link ) {
+        if ( -l $link ) {
+
+            # points to nowhere
+            info("Removing dangling link $link");
+            unlink($link) or die "Could not remove $link\n";
+        }
+        return 'missing';
+    }
+
+    if ( -e $link && !-l $link ) {
+        return "$link is a real file, not touching it";
+    }
+    if ( realpath($link) ne realpath($tgt) ) {
+        return "$link exists but does not point to $tgt, not touching it";
+    }
+    return 'ok';
+}
+
+sub remove_link {
+    my ($link) = @_;
+
+    if ( -l $link ) {
+        unlink($link) or die "Could not remove $link: $!\n";
+    }
+    elsif ( -e $link ) {
+        error("$link is not a symbolic link, not deleting\n");
+        return 0;
+    }
+    $request_reload = 1;
+    return 1;
+}
+
+sub threaded {
+    my $result = "";
+    $result = qx{@FINKPREFIX@/sbin/apache2ctl -V | grep 'threaded'}
+        if -x '@FINKPREFIX@/sbin/apache2ctl';
+    if ( $? != 0 ) {
+
+        # config doesn't work
+        if ( -e "$enabldir/mpm_prefork.load" || -e "$enabldir/mpm_itk.load" )
+        {
+            return 0;
+        }
+        elsif (-e "$enabldir/mpm_worker.load"
+            || -e "$enabldir/mpm_event.load" )
+        {
+            return 1;
+        }
+        else {
+            error("Can't determine enabled MPM");
+
+            # do what user requested
+            return 0;
+        }
+    }
+    if ( $result =~ / no/ ) {
+        return 0;
+    }
+    elsif ( $result =~ / yes/ ) {
+        return 1;
+    }
+    else {
+        die("Can't parse output from apache2ctl -V:\n$result\n");
+    }
+}
+
+sub info {
+    print @_ if !$quiet;
+}
+
+sub error {
+    print STDERR 'ERROR: ', @_;
+}
+
+sub warning {
+    print STDERR 'WARNING: ', @_;
+}
+
+sub is_in {
+    my $needle = shift;
+    foreach my $e (@_) {
+        return 1 if $needle eq $e;
+    }
+    return 0;
+}
+
+sub read_env_file {
+    my $file = shift;
+
+    -r $file or return;
+    my @lines = qx{env - sh -c '. $file && env'};
+    if ($?) {
+        die "Could not read $file\n";
+    }
+
+    foreach my $l (@lines) {
+        chomp $l;
+        $l =~ /^(.*)?=(.*)$/ or die "Could not parse $file\n";
+        $ENV{$1} = $2;
+    }
+}
+
+sub switch_marker {
+    die('usage: switch_marker([module|site|conf], [enable|disable], $name)')
+        if @_ != 3;
+    my $which = shift;
+    my $what  = shift;
+    my $name  = shift;
+
+    my $mode = "admin";
+    $mode = "maint" if $maintmode;
+
+    #print("switch_marker $which $what $name\n");
+    # TODO: get rid of the magic string(s)
+    my $state_marker_dir = "$statedir/$what" . "d" . "_by_$mode";
+    my $state_marker     = "$state_marker_dir/$name";
+    if ( !-d $state_marker_dir ) {
+        File::Path::mkpath("$state_marker_dir")
+            || error(
+            "Failed to create marker directory: '$state_marker_dir'\n");
+    }
+
+    # XXX: swap find with perl alternative
+    my @markers = qx{find "$statedir" -type f -a -name "$name"};
+    chomp(@markers);
+    foreach (@markers) {
+        unless ( unlink $_ ) {
+            error("Failed to remove old marker '$_'!\n") && return 0;
+        }
+    }
+    unless ($purge) {
+        qx{touch "$state_marker"};
+        if ( $? != 0 ) {
+            error("Failed to create marker '$state_marker'!\n") && return 0;
+        }
+        return 1;
+    }
+}
+
+# vim: syntax=perl sw=4 sts=4 sr et
diff -ruN httpd-2.4.6.orig/fink/a2query.in httpd-2.4.6/fink/a2query.in
--- httpd-2.4.6.orig/fink/a2query.in	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/a2query.in	2013-08-06 13:56:38.000000000 -0600
@@ -0,0 +1,426 @@
+#! /usr/bin/perl
+
+# a2query - Apache2 helper to retrieve configuration informations
+# Copyright (C) 2012 Arno Töll <debian@toell.net>
+#
+# This program is licensed at your choice under the terms of the GNU General
+# Public License vserion 2+ or under the terms of the Apache Software License
+# 2.0.
+#
+# For GPL-2+:
+# This program is free software; you can redistribute it and/or
+# modify it under the terms of the GNU General Public License
+# as published by the Free Software Foundation; either version 2
+# of the License, or (at your option) any later version.
+#
+# This program is distributed in the hope that it will be useful,
+# but WITHOUT ANY WARRANTY; without even the implied warranty of
+# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+# GNU General Public License for more details.
+#
+# You should have received a copy of the GNU General Public License
+# along with this program; if not, write to the Free Software
+# Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301,
+# USA.
+#
+# For ASF 2.0:
+# Licensed under the Apache License, Version 2.0 (the "License");
+# you may not use this file except in compliance with the License.
+# You may obtain a copy of the License at
+#
+# http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing, software
+# distributed under the License is distributed on an "AS IS" BASIS,
+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+# See the License for the specific language governing permissions and
+# limitations under the License.
+
+
+use feature "switch";
+use strict;
+use Getopt::Std;
+
+=head1 NAME
+
+a2query - retrieve runtime configuration from a local Apache 2 HTTP server
+
+=cut
+
+
+our $APACHE2 = "apache2ctl";
+our $API = "__API__";
+our $MODULE_DIR = "__MODULE_DIR__";
+our $SERVER_VERSION = "__SERVER_VERSION__";
+our $MODULE_DIR = "@FINKPREFIX@/lib/apache2/modules/";
+our $STATE_DIR = "@FINKPREFIX@/var/lib/apache2";
+our @STATES = ("maint", "admin");
+
+our $MPM = "invalid";
+our $CONFIG_DIR = "@FINKPREFIX@/etc/apache2";
+our $QUIET = 0;
+
+# time to introduce more _exit_ values
+our $E_OK = '0';
+our $E_FOUND = '0';
+our $E_NOTFOUND = '1';
+our $E_OFFBYADMIN = '32';
+our $E_OFFBYMAINT = '33';
+our @RETVALS = ( $E_OK, $E_FOUND, $E_OFFBYADMIN, $E_NOTFOUND, $E_OFFBYMAINT );
+
+our @MODULES = ();
+our @CONFS = ();
+our @SITES =();
+our @HELP = ();
+our %verbose_state = ( 'admin' => 'site administrator', 'maint' => 'maintainer script', 'unknown' => 'unknown' );
+
+=head1 SYNOPSIS
+
+B<a2query>  [S<-m> [I<MODULE>]] [S<-s> [I<SITE>]] [S<-c> [I<CONF>]] [S<-a>] [S<-v>]
+[S<-M>] [S<-d>] [S<-h>]
+
+=head1 DESCRIPTION
+
+B<a2query> is a program designed to retrieve configuration values from a locally
+available Apache 2 HTTP web server. It was designed to be as robust as possible
+by returning feasible values even if the Apache 2 syntax validator fails.
+
+This program is primarily meant to be used from maintainer scripts.
+
+=head1 OPTIONS
+
+=over 4
+
+=item S<-a>
+
+Returns the Apache 2 "Module Magic Version" (API version) number, the server was
+compiled with. The returned version does not contain any minor versions which
+are known to be compatible with the major version returned.
+
+=item S<-c> [I<CONF>]
+
+Checks whether the configuration I<CONF> is enabled. If no argument was given,
+all enabled configuration files are being returned. I<CONF> is compared by
+string comparison by ignoring a leading "mod_" prefix and possibly a '.conf' or
+'.load' suffix.
+
+=item S<-h>
+
+Displays a brief summary how the program can be called and exits.
+
+=item S<-m> [I<MODULE>]
+
+Checks whether the module I<MODULE> is enabled, The argument is interpreted in
+the same way, as for configuration files queried by the S<-c> switch.
+
+=item S<-M>
+
+Returns the currently enabled Apache 2 MPM (Multi Processing Module).
+
+=item S<-s> [I<SITE>]
+
+Checks whether the module I<SITE> is enabled, The argument is interpreted in
+the same way, as for configuration files queried by the S<-c> switch.
+
+
+=item S<-v>
+
+returns the currently installed Apache 2 HTTP server version
+
+=item S<-q>
+
+suppress any output. This is useful to invoke a2query from another script. This
+is useful if only the return code is of interest.
+
+=back
+
+=head1 EXIT CODES
+
+B<a2query> returns with a zero (S<0>) exit status if the requested operation was
+effectuated successfully and with a non-zero status otherwise. In case of an
+error it leaves with error code S<32> if a requested module, site or
+configuration was not found and S<33> if a module, site or configuration was
+disabled by a maintainer script. However, exit status S<1> is returned if the
+module was not found at all
+
+=head1 SEE ALSO
+
+L<apache2ctl>(8), L<apache2>(8), L<perl>(1)
+
+=head1 AUTHOR
+
+This manual and L<a2query> was written by Arno Toell <debian@toell.net>.
+
+=cut
+
+sub output
+{
+	print @_ unless $QUIET;
+}
+
+sub warning
+{
+	print STDERR @_ unless $QUIET;
+}
+
+sub fail
+{
+	die('usage: fail($reason, $retval)') if @_ != 2;
+	my $reason = shift;
+	my $retval = shift;
+	warning "$reason\n";
+	exit $retval;
+}
+
+sub load_defaults
+{
+	my @out = `$APACHE2 -V 2>/dev/null`;
+	return if $?;
+	for (my $line; $line <= $#out; $line++)
+	{
+		if ($out[$line] =~ m/(Server version|Server MPM|Magic Number):\s+(.*?)$/)
+		{
+			my ($pattern, $value) = ($1, $2);
+			if ($pattern =~ /version/)
+			{
+				$SERVER_VERSION = $value;
+				$SERVER_VERSION =~ s/[^\d\.]//g;
+			}
+			elsif($pattern =~ /MPM/)
+			{
+				$MPM = $value;
+			}
+			elsif($pattern =~ /Magic/)
+			{
+				$API = $value;
+				$API =~ s/\:\d+//;
+			}
+		}
+	}
+
+}
+
+sub load_modules
+{
+	my $conf_dir = $CONFIG_DIR . "/mods-enabled";
+	opendir(DIR, $conf_dir) || fail("$conf_dir: $!");
+	while( readdir(DIR) )
+	{
+		my $file = $_;
+		next if $file !~ m/\.load$/;
+		$file =~ s/\.load//;
+		if ($file =~ /mpm_(\w+)/)
+		{
+			$MPM = $1 if $MPM eq 'invalid';
+			if(grep { $_ =~ m/^mpm_/ } @MODULES)
+			{
+				fail("There is more than one MPM loaded. Do not proceed due to undefined results");
+			}
+		}
+		push @MODULES, $file;
+	}
+	closedir(DIR);
+}
+
+
+sub load_conf
+{
+	if ($#CONFS >= 0)
+	{
+		return;
+	}
+	my $conf_dir = $CONFIG_DIR . "/conf-enabled";
+	opendir(DIR, $conf_dir) || fail("$conf_dir: $!");
+	while( readdir(DIR) )
+	{
+		my $file = $_;
+		next if $file !~ m/\.conf$/;
+		$file =~ s/\.conf$//;
+		push @CONFS, $file;
+	}
+	closedir(DIR);
+}
+
+
+sub load_sites
+{
+	if ($#SITES >= 0)
+	{
+		return;
+	}
+	my $conf_dir = $CONFIG_DIR . "/sites-enabled";
+	opendir(DIR, $conf_dir) || fail("$conf_dir: $!");
+	while( readdir(DIR) )
+	{
+		my $file = $_;
+		next if $file !~ m/\.conf$/;
+		$file =~ s/\.conf$//;
+		push @SITES, $file;
+	}
+	closedir(DIR);
+}
+
+sub switch_history
+{
+	die('usage: switch_history([module|site|conf], [enabled|disabled], $name)') if @_ != 3;
+	my $which = shift;
+	my $what = shift;
+	my $name = shift;
+
+	$name =~ s/\.conf$//;
+
+	foreach my $state (@STATES)
+	{
+		my $state_token = "$STATE_DIR/$which/$what" . "_by_$state/" . $name;
+		if (-e $state_token)
+		{
+			return $state;
+		}
+	}
+	return 0;
+}
+
+
+sub query_state
+{
+	my $type    = shift;
+	my $pattern = shift;
+	my $listref = shift;
+
+	$pattern =~ s/^mod//;
+	$pattern =~ s/\.(conf|load)//;
+	my @candidates;
+
+	if ($pattern)
+	{
+		@candidates = grep { $_ eq $pattern } @{ $listref };
+	}
+	else
+	{
+		@candidates = @{ $listref }
+	}
+
+	my $matches = 0;
+	foreach my $module (@candidates)
+	{
+		my $state = switch_history($type, "enabled", $module);
+		if (!$state)
+		{
+			$state = "unknown";
+		}
+		output("$module (enabled by $verbose_state{$state})\n");
+		$matches++;
+	}
+	if (!$matches)
+	{
+		my $reason = "No $type matches $pattern";
+		my $retval = $E_NOTFOUND;
+		my $state = switch_history($type, "disabled", $pattern);
+		if ($state)
+		{
+			$reason .= " (disabled by $verbose_state{$state})";
+			if ($state eq 'maint')
+			{
+				$retval = $E_OFFBYMAINT;
+			}
+			if ($state eq 'admin')
+			{
+				$retval = $E_OFFBYADMIN;
+			}
+		}
+		fail($reason, $retval);
+	}
+}
+
+load_defaults();
+load_modules();
+
+my %opts;
+my $help = 1;
+getopts('m:s:c:havMdq', \%opts);
+#foreach my $key (keys %opts) { print("$key=$opts{$key}\n");}
+
+push @HELP, ["q", "suppress any output. Useful for invocation from scripts"];
+if (exists $opts{'q'})
+{
+	--$help;
+	$QUIET=1;
+}
+
+push @HELP, ["m [MODULE]", "checks whether the module MODULE is enabled, lists all enabled modules if no argument was given"];
+if (exists $opts{'m'})
+{
+	--$help;
+	query_state('module', $opts{'m'}, \@MODULES);
+}
+
+push @HELP, ["s [SITE]", "checks whether the site SITE is enabled, lists all sites if no argument was given"];
+if (exists $opts{'s'})
+{
+	--$help;
+	load_sites();
+	query_state('site', $opts{'s'}, \@SITES);
+}
+
+
+push @HELP, ["c [CONF]", "checks whether the configuration CONF is enabled, lists all configurations if no argument was given"];
+if (exists $opts{'c'})
+{
+	--$help;
+	load_conf();
+	query_state('conf', $opts{'c'}, \@CONFS);
+}
+
+
+push @HELP, ["a", "returns the current Apache 2 module magic version"];
+if (exists $opts{'a'})
+{
+	--$help;
+	output("$API\n");
+}
+
+
+push @HELP, ["v", "returns the current Apache 2 version"];
+if (exists $opts{'v'})
+{
+	--$help;
+	output("$SERVER_VERSION\n");
+}
+
+push @HELP, ["M", "returns the enabled Apache 2 MPM"];
+if (exists $opts{'M'})
+{
+	--$help;
+	output("$MPM\n");
+}
+
+push @HELP, ["d", "returns the Apache 2 module directory"];
+if (exists $opts{'d'})
+{
+	--$help;
+	output("$MODULE_DIR\n");
+}
+
+push @HELP, ["h", "display this help"];
+if (exists $opts{'h'} or $help == 1)
+{
+	my $usage = "$0 ";
+	map { $usage .= "-$_->[0] " } @HELP;
+	print("Usage: $usage\n");
+	my $switch_name;
+	my $description;
+	format STDOUT =
+@<<<<<<<<<<<<	^<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<
+"-$switch_name",        $description,
+~~	        ^<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<
+			$description,
+.
+	foreach my $switch (@HELP)
+	{
+		($switch_name, $description) = ($switch->[0], $switch->[1]);
+		write STDOUT;
+	}
+	exit $E_OK;
+}
+
+# vim: syntax=perl sw=8 sts=8 sr noet
diff -ruN httpd-2.4.6.orig/fink/apache2-doc.conf httpd-2.4.6/fink/apache2-doc.conf
--- httpd-2.4.6.orig/fink/apache2-doc.conf	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/apache2-doc.conf	2013-08-06 15:41:38.000000000 -0600
@@ -0,0 +1,9 @@
+Alias /manual @FINKPREFIX@/share/doc/apache2-doc/manual/
+
+<Directory "@FINKPREFIX@/share/doc/apache2-doc/manual/">
+    Options Indexes FollowSymlinks
+    AllowOverride None
+    Require all granted
+    AddDefaultCharset off
+</Directory>
+
diff -ruN httpd-2.4.6.orig/fink/apache2.conf httpd-2.4.6/fink/apache2.conf
--- httpd-2.4.6.orig/fink/apache2.conf	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/apache2.conf	2013-08-07 21:56:21.000000000 -0600
@@ -0,0 +1,666 @@
+#
+# Based upon the NCSA server configuration files originally by Rob McCool.
+#
+# This is the main Apache server configuration file.  It contains the
+# configuration directives that give the server its instructions.
+# See <URL:http://httpd.apache.org/docs-2.1/> for detailed information about
+# the directives.
+#
+# Do NOT simply read the instructions in here without understanding
+# what they do.  They're here only as hints or reminders.  If you are unsure
+# consult the online docs. You have been warned.  
+#
+# The configuration directives are grouped into three basic sections:
+#  1. Directives that control the operation of the Apache server process as a
+#     whole (the 'global environment').
+#  2. Directives that define the parameters of the 'main' or 'default' server,
+#     which responds to requests that aren't handled by a virtual host.
+#     These directives also provide default values for the settings
+#     of all virtual hosts.
+#  3. Settings for virtual hosts, which allow Web requests to be sent to
+#     different IP addresses or hostnames and have them handled by the
+#     same Apache server process.
+#
+# Configuration and logfile names: If the filenames you specify for many
+# of the server's control files begin with "/" (or "drive:/" for Win32), the
+# server will use that explicit path.  If the filenames do *not* begin
+# with "/", the value of ServerRoot is prepended -- so "@FINKPREFIX@/var/log/apache2/foo.log"
+# with ServerRoot set to "" will be interpreted by the
+# server as "@FINKPREFIX@/var/log/apache2/foo.log".
+#
+
+### Section 1: Global Environment
+#
+# The directives in this section affect the overall operation of Apache,
+# such as the number of concurrent requests it can handle or where it
+# can find its configuration files.
+#
+
+#
+# ServerRoot: The top of the directory tree under which the server's
+# configuration, error, and log files are kept.
+#
+# NOTE!  If you intend to place this on an NFS (or otherwise network)
+# mounted filesystem then please read the LockFile documentation (available
+# at <URL:http://httpd.apache.org/docs-2.1/mod/mpm_common.html#lockfile>);
+# you will save yourself a lot of trouble.
+#
+# Do NOT add a slash at the end of the directory path.
+#
+ServerRoot "@FINKPREFIX@/etc/apache2"
+
+#
+# The accept serialization lock file MUST BE STORED ON A LOCAL DISK.
+#
+#<IfModule !mpm_winnt.c>
+#<IfModule !mpm_netware.c>
+LockFile @FINKPREFIX@/var/lock/apache2/accept.lock
+#</IfModule>
+#</IfModule>
+
+#
+# PidFile: The file in which the server should record its process
+# identification number when it starts.
+#
+PidFile @FINKPREFIX@/var/run/apache2/apache2.pid
+
+#
+# Timeout: The number of seconds before receives and sends time out.
+#
+Timeout 300
+
+#
+# KeepAlive: Whether or not to allow persistent connections (more than
+# one request per connection). Set to "Off" to deactivate.
+#
+KeepAlive On
+
+#
+# MaxKeepAliveRequests: The maximum number of requests to allow
+# during a persistent connection. Set to 0 to allow an unlimited amount.
+# We recommend you leave this number high, for maximum performance.
+#
+MaxKeepAliveRequests 100
+
+#
+# KeepAliveTimeout: Number of seconds to wait for the next request from the
+# same client on the same connection.
+#
+KeepAliveTimeout 15
+
+##
+## Server-Pool Size Regulation (MPM specific)
+## 
+
+# prefork MPM
+# StartServers: number of server processes to start
+# MinSpareServers: minimum number of server processes which are kept spare
+# MaxSpareServers: maximum number of server processes which are kept spare
+# MaxClients: maximum number of server processes allowed to start
+# MaxRequestsPerChild: maximum number of requests a server process serves
+<IfModule prefork.c>
+    StartServers          5
+    MinSpareServers       5
+    MaxSpareServers      10
+    MaxClients          150
+    MaxRequestsPerChild   0
+</IfModule>
+
+# worker MPM
+# StartServers: initial number of server processes to start
+# MaxClients: maximum number of simultaneous client connections
+# MinSpareThreads: minimum number of worker threads which are kept spare
+# MaxSpareThreads: maximum number of worker threads which are kept spare
+# ThreadsPerChild: constant number of worker threads in each server process
+# MaxRequestsPerChild: maximum number of requests a server process serves
+<IfModule worker.c>
+    StartServers          2
+    MaxClients          150
+    MinSpareThreads      25
+    MaxSpareThreads      75 
+    ThreadsPerChild      25
+    MaxRequestsPerChild   0
+</IfModule>
+
+# perchild MPM
+# NumServers: constant number of server processes
+# StartThreads: initial number of worker threads in each server process
+# MinSpareThreads: minimum number of worker threads which are kept spare
+# MaxSpareThreads: maximum number of worker threads which are kept spare
+# MaxThreadsPerChild: maximum number of worker threads in each server process
+# MaxRequestsPerChild: maximum number of connections per server process
+<IfModule perchild.c>
+    NumServers            5
+    StartThreads          5
+    MinSpareThreads       5
+    MaxSpareThreads      10
+    MaxThreadsPerChild   20
+    MaxRequestsPerChild   0
+    AcceptMutex fcntl
+</IfModule>
+
+User www
+Group www
+
+AccessFileName .htaccess
+#
+# The following lines prevent .htaccess and .htpasswd files from being 
+# viewed by Web clients. 
+#
+<Files ~ "^\.ht">
+    Order allow,deny
+    Deny from all
+</Files>
+
+TypesConfig @FINKPREFIX@/etc/apache2/mime.types
+
+#
+# DefaultType is the default MIME type the server will use for a document
+# if it cannot otherwise determine one, such as from filename extensions.
+# If your server contains mostly text or HTML documents, "text/plain" is
+# a good value.  If most of your content is binary, such as applications
+# or images, you may want to use "application/octet-stream" instead to
+# keep browsers from trying to display binary files as though they are
+# text.
+#
+DefaultType text/plain
+
+
+#
+# HostnameLookups: Log the names of clients or just their IP addresses
+# e.g., www.apache.org (on) or 204.62.129.132 (off).
+# The default is off because it'd be overall better for the net if people
+# had to knowingly turn this feature on, since enabling it means that
+# each client request will result in AT LEAST one lookup request to the
+# nameserver.
+#
+HostnameLookups Off
+
+# ErrorLog: The location of the error log file.
+# If you do not specify an ErrorLog directive within a <VirtualHost>
+# container, error messages relating to that virtual host will be
+# logged here.  If you *do* define an error logfile for a <VirtualHost>
+# container, that host's errors will be logged there and not here.
+#
+ErrorLog @FINKPREFIX@/var/log/apache2/error_log
+
+#
+# LogLevel: Control the number of messages logged to the error_log.
+# Possible values include: debug, info, notice, warn, error, crit,
+# alert, emerg.
+#
+LogLevel warn
+
+# Include module configuration:
+Include @FINKPREFIX@/etc/apache2/mods-enabled/*.load
+Include @FINKPREFIX@/etc/apache2/mods-enabled/*.conf
+
+# Include all the user configurations:
+# Include @FINKPREFIX@/etc/apache2/httpd.conf
+
+# Include ports listing
+Include @FINKPREFIX@/etc/apache2/ports.conf
+
+# Include generic snippets of statements
+Include @FINKPREFIX@/etc/apache2/conf.d/[^.#]*
+
+#
+# The following directives define some format nicknames for use with
+# a CustomLog directive (see below).
+#
+LogFormat "%h %l %u %t \"%r\" %>s %b \"%{Referer}i\" \"%{User-Agent}i\"" combined
+LogFormat "%h %l %u %t \"%r\" %>s %b" common
+LogFormat "%{Referer}i -> %U" referer
+LogFormat "%{User-agent}i" agent
+
+#
+# ServerTokens
+# This directive configures what you return as the Server HTTP response
+# Header. The default is 'Full' which sends information about the OS-Type
+# and compiled in modules.
+# Set to one of:  Full | OS | Minor | Minimal | Major | Prod
+# where Full conveys the most information, and Prod the least.
+#
+ServerTokens Full
+
+#
+# Optionally add a line containing the server version and virtual host
+# name to server-generated pages (internal error documents, FTP directory 
+# listings, mod_status and mod_info output etc., but not CGI generated 
+# documents or custom error documents).
+# Set to "EMail" to also include a mailto: link to the ServerAdmin.
+# Set to one of:  On | Off | EMail
+#
+ServerSignature On
+
+<IfModule mod_alias.c>
+    #
+    # Aliases: Add here as many aliases as you need (with no limit). The format is 
+    # Alias fakename realname
+    #
+    # Note that if you include a trailing / on fakename then the server will
+    # require it to be present in the URL.  So "/icons" isn't aliased in this
+    # example, only "/icons/".  If the fakename is slash-terminated, then the 
+    # realname must also be slash terminated, and if the fakename omits the 
+    # trailing slash, the realname must also omit it.
+    #
+    # We include the /icons/ alias for FancyIndexed directory listings.  If
+    # you do not use FancyIndexing, you may comment this out.
+    #
+    Alias /icons/ "@FINKPREFIX@/share/apache2/icons/"
+
+    <Directory "@FINKPREFIX@/share/apache2/icons">
+        Options Indexes MultiViews
+        AllowOverride None
+        Order allow,deny
+        Allow from all
+    </Directory>
+
+</IfModule>
+
+#
+# Directives controlling the display of server-generated directory listings.
+#
+<IfModule mod_autoindex.c>
+
+    #
+    # IndexOptions: Controls the appearance of server-generated directory
+    # listings.
+    #
+    IndexOptions FancyIndexing VersionSort
+
+    #
+    # AddIcon* directives tell the server which icon to show for different
+    # files or filename extensions.  These are only displayed for
+    # FancyIndexed directories.
+    #
+    AddIconByEncoding (CMP,/icons/compressed.gif) x-compress x-gzip
+
+    AddIconByType (TXT,/icons/text.gif) text/*
+    AddIconByType (IMG,/icons/image2.gif) image/*
+    AddIconByType (SND,/icons/sound2.gif) audio/*
+    AddIconByType (VID,/icons/movie.gif) video/*
+
+    AddIcon /icons/binary.gif .bin .exe
+    AddIcon /icons/binhex.gif .hqx
+    AddIcon /icons/tar.gif .tar
+    AddIcon /icons/world2.gif .wrl .wrl.gz .vrml .vrm .iv
+    AddIcon /icons/compressed.gif .Z .z .tgz .gz .zip
+    AddIcon /icons/a.gif .ps .ai .eps
+    AddIcon /icons/layout.gif .html .shtml .htm .pdf
+    AddIcon /icons/text.gif .txt
+    AddIcon /icons/c.gif .c
+    AddIcon /icons/p.gif .pl .py
+    AddIcon /icons/f.gif .for
+    AddIcon /icons/dvi.gif .dvi
+    AddIcon /icons/uuencoded.gif .uu
+    AddIcon /icons/script.gif .conf .sh .shar .csh .ksh .tcl
+    AddIcon /icons/tex.gif .tex
+    AddIcon /icons/bomb.gif core
+
+    AddIcon /icons/back.gif ..
+    AddIcon /icons/hand.right.gif README
+    AddIcon /icons/folder.gif ^^DIRECTORY^^
+    AddIcon /icons/blank.gif ^^BLANKICON^^
+
+    #
+    # DefaultIcon is which icon to show for files which do not have an icon
+    # explicitly set.
+    #
+    DefaultIcon /icons/unknown.gif
+
+    #
+    # AddDescription allows you to place a short description after a file in
+    # server-generated indexes.  These are only displayed for FancyIndexed
+    # directories.
+    # Format: AddDescription "description" filename
+    #
+    #AddDescription "GZIP compressed document" .gz
+    #AddDescription "tar archive" .tar
+    #AddDescription "GZIP compressed tar archive" .tgz
+
+    #
+    # ReadmeName is the name of the README file the server will look for by
+    # default, and append to directory listings.
+    #
+    # HeaderName is the name of a file which should be prepended to
+    # directory indexes. 
+    ReadmeName README.html
+    HeaderName HEADER.html
+
+    #
+    # IndexIgnore is a set of filenames which directory indexing should ignore
+    # and not include in the listing.  Shell-style wildcarding is permitted.
+    #
+    IndexIgnore .??* *~ *# RCS CVS *,v *,t 
+</IfModule>
+
+<IfModule mod_mime.c>
+
+    #
+    # AddType allows you to add to or override the MIME configuration
+    # file mime.types for specific file types.
+    #
+    #AddType application/x-gzip .tgz
+    #
+    # AddEncoding allows you to have certain browsers uncompress
+    # information on the fly. Note: Not all browsers support this.
+    # Despite the name similarity, the following Add* directives have
+    # nothing to do with the FancyIndexing customization directives above.
+    #
+    #AddEncoding x-compress .Z
+    #AddEncoding x-gzip .gz .tgz
+    #
+    # If the AddEncoding directives above are commented-out, then you
+    # probably should define those extensions to indicate media types:
+    #
+    AddType application/x-compress .Z
+    AddType application/x-gzip .gz .tgz
+
+    #
+    # DefaultLanguage and AddLanguage allows you to specify the language of 
+    # a document. You can then use content negotiation to give a browser a 
+    # file in a language the user can understand.
+    #
+    # Specify a default language. This means that all data
+    # going out without a specific language tag (see below) will 
+    # be marked with this one. You probably do NOT want to set
+    # this unless you are sure it is correct for all cases.
+    #
+    # * It is generally better to not mark a page as 
+    # * being a certain language than marking it with the wrong
+    # * language!
+    #
+    # DefaultLanguage nl
+    #
+    # Note 1: The suffix does not have to be the same as the language
+    # keyword --- those with documents in Polish (whose net-standard
+    # language code is pl) may wish to use "AddLanguage pl .po" to
+    # avoid the ambiguity with the common suffix for perl scripts.
+    #
+    # Note 2: The example entries below illustrate that in some cases 
+    # the two character 'Language' abbreviation is not identical to 
+    # the two character 'Country' code for its country,
+    # E.g. 'Danmark/dk' versus 'Danish/da'.
+    #
+    # Note 3: In the case of 'ltz' we violate the RFC by using a three char
+    # specifier. There is 'work in progress' to fix this and get
+    # the reference data for rfc1766 cleaned up.
+    #
+    # Catalan (ca) - Croatian (hr) - Czech (cs) - Danish (da) - Dutch (nl)
+    # English (en) - Esperanto (eo) - Estonian (et) - French (fr) - German (de)
+    # Greek-Modern (el) - Hebrew (he) - Italian (it) - Japanese (ja)
+    # Korean (ko) - Luxembourgeois* (ltz) - Norwegian Nynorsk (nn)
+    # Norwegian (no) - Polish (pl) - Portugese (pt)
+    # Brazilian Portuguese (pt-BR) - Russian (ru) - Swedish (sv)
+    # Simplified Chinese (zh-CN) - Spanish (es) - Traditional Chinese (zh-TW)
+    #
+    AddLanguage ca .ca
+    AddLanguage cs .cz .cs
+    AddLanguage da .dk
+    AddLanguage de .de
+    AddLanguage el .el
+    AddLanguage en .en
+    AddLanguage eo .eo
+    AddLanguage es .es
+    AddLanguage et .et
+    AddLanguage fr .fr
+    AddLanguage he .he
+    AddLanguage hr .hr
+    AddLanguage it .it
+    AddLanguage ja .ja
+    AddLanguage ko .ko
+    AddLanguage ltz .ltz
+    AddLanguage nl .nl
+    AddLanguage nn .nn
+    AddLanguage no .no
+    AddLanguage pl .po
+    AddLanguage pt .pt
+    AddLanguage pt-BR .pt-br
+    AddLanguage ru .ru
+    AddLanguage sv .sv
+    AddLanguage zh-CN .zh-cn
+    AddLanguage zh-TW .zh-tw
+</IfModule>
+
+<IfModule mod_negotiation.c>
+    #
+    # LanguagePriority allows you to give precedence to some languages
+    # in case of a tie during content negotiation.
+    #
+    # Just list the languages in decreasing order of preference. We have
+    # more or less alphabetized them here. You probably want to change this.
+    #
+    LanguagePriority en ca cs da de el eo es et fr he hr it ja ko ltz nl nn no pl pt pt-BR ru sv zh-CN zh-TW
+
+    #
+    # ForceLanguagePriority allows you to serve a result page rather than
+    # MULTIPLE CHOICES (Prefer) [in case of a tie] or NOT ACCEPTABLE (Fallback)
+    # [in case no accepted languages matched the available variants]
+    #
+    ForceLanguagePriority Prefer Fallback
+
+</IfModule>
+
+<IfModule mod_mime.c>
+    #
+    # Commonly used filename extensions to character sets. You probably
+    # want to avoid clashes with the language extensions, unless you
+    # are good at carefully testing your setup after each change.
+    # See http://www.iana.org/assignments/character-sets for the
+    # official list of charset names and their respective RFCs.
+    #
+    AddCharset us-ascii    .ascii .us-ascii
+    AddCharset ISO-8859-1  .iso8859-1  .latin1
+    AddCharset ISO-8859-2  .iso8859-2  .latin2 .cen
+    AddCharset ISO-8859-3  .iso8859-3  .latin3
+    AddCharset ISO-8859-4  .iso8859-4  .latin4
+    AddCharset ISO-8859-5  .iso8859-5  .cyr .iso-ru
+    AddCharset ISO-8859-6  .iso8859-6  .arb .arabic
+    AddCharset ISO-8859-7  .iso8859-7  .grk .greek
+    AddCharset ISO-8859-8  .iso8859-8  .heb .hebrew
+    AddCharset ISO-8859-9  .iso8859-9  .latin5 .trk
+    AddCharset ISO-8859-10  .iso8859-10  .latin6
+    AddCharset ISO-8859-13  .iso8859-13
+    AddCharset ISO-8859-14  .iso8859-14  .latin8
+    AddCharset ISO-8859-15  .iso8859-15  .latin9
+    AddCharset ISO-8859-16  .iso8859-16  .latin10
+    AddCharset ISO-2022-JP .iso2022-jp .jis
+    AddCharset ISO-2022-KR .iso2022-kr .kis
+    AddCharset ISO-2022-CN .iso2022-cn .cis
+    AddCharset Big5        .Big5       .big5 .b5
+    AddCharset cn-Big5     .cn-big5
+    # For russian, more than one charset is used (depends on client, mostly):
+    AddCharset WINDOWS-1251 .cp-1251   .win-1251
+    AddCharset CP866       .cp866
+    AddCharset KOI8      .koi8
+    AddCharset KOI8-E      .koi8-e
+    AddCharset KOI8-r      .koi8-r .koi8-ru
+    AddCharset KOI8-U      .koi8-u
+    AddCharset KOI8-ru     .koi8-uk .ua
+    AddCharset ISO-10646-UCS-2 .ucs2
+    AddCharset ISO-10646-UCS-4 .ucs4
+    AddCharset UTF-7       .utf7
+    AddCharset UTF-8       .utf8
+    AddCharset UTF-16      .utf16
+    AddCharset UTF-16BE    .utf16be
+    AddCharset UTF-16LE    .utf16le
+    AddCharset UTF-32      .utf32
+    AddCharset UTF-32BE    .utf32be
+    AddCharset UTF-32LE    .utf32le
+    AddCharset euc-cn      .euc-cn
+    AddCharset euc-gb      .euc-gb
+    AddCharset euc-jp      .euc-jp
+    AddCharset euc-kr      .euc-kr
+    #Not sure how euc-tw got in - IANA doesn't list it???
+    AddCharset EUC-TW      .euc-tw
+    AddCharset gb2312      .gb2312 .gb
+    AddCharset iso-10646-ucs-2 .ucs-2 .iso-10646-ucs-2
+    AddCharset iso-10646-ucs-4 .ucs-4 .iso-10646-ucs-4
+    AddCharset shift_jis   .shift_jis .sjis
+
+    #
+    # AddHandler allows you to map certain file extensions to "handlers":
+    # actions unrelated to filetype. These can be either built into the server
+    # or added with the Action directive (see below)
+    #
+    # To use CGI scripts outside of ScriptAliased directories:
+    # (You will also need to add "ExecCGI" to the "Options" directive.)
+    #
+    #AddHandler cgi-script .cgi
+
+    #
+    # For files that include their own HTTP headers:
+    #
+    #AddHandler send-as-is asis
+
+    #
+    # For server-parsed imagemap files:
+    #
+    #AddHandler imap-file map
+
+    #
+    # For type maps (negotiated resources):
+    # (This is enabled by default to allow the Apache "It Worked" page
+    #  to be distributed in multiple languages.)
+    #
+    AddHandler type-map var
+
+    #
+    # Filters allow you to process content before it is sent to the client.
+    #
+    # To parse .shtml files for server-side includes (SSI):
+    # (You will also need to add "Includes" to the "Options" directive.)
+    #
+    <IfModule mod_include.c>
+        AddType text/html .shtml
+        AddOutputFilter INCLUDES .shtml
+    </IfModule>
+</IfModule>
+
+#
+# Action lets you define media types that will execute a script whenever
+# a matching file is called. This eliminates the need for repeated URL
+# pathnames for oft-used CGI file processors.
+# Format: Action media/type /cgi-script/location
+# Format: Action handler-name /cgi-script/location
+#
+
+#
+# Customizable error responses come in three flavors:
+# 1) plain text 2) local redirects 3) external redirects
+#
+# Some examples:
+#ErrorDocument 500 "The server made a boo boo."
+#ErrorDocument 404 /missing.html
+#ErrorDocument 404 "/cgi-bin/missing_handler.pl"
+#ErrorDocument 402 http://www.example.com/subscription_info.html
+#
+
+#
+# Putting this all together, we can internationalize error responses.
+#
+# We use Alias to redirect any /error/HTTP_<error>.html.var response to
+# our collection of by-error message multi-language collections.  We use 
+# includes to substitute the appropriate text.
+#
+# You can modify the messages' appearance without changing any of the
+# default HTTP_<error>.html.var files by adding the line:
+#
+#   Alias /error/include/ "/your/include/path/"
+#
+# which allows you to create your own set of files by starting with the
+# @FINKPREFIX@/share/apache2/error/include/ files and copying them to /your/include/path/, 
+# even on a per-VirtualHost basis.  The default include files will display
+# your Apache version number and your ServerAdmin email address regardless
+# of the setting of ServerSignature.
+#
+# The internationalized error documents require mod_alias, mod_include
+# and mod_negotiation.  To activate them, uncomment the following 30 lines.
+
+#    Alias /error/ "@FINKPREFIX@/share/apache2/error/"
+#
+#    <Directory "@FINKPREFIX@/share/apache2/error">
+#        AllowOverride None
+#        Options IncludesNoExec
+#        AddOutputFilter Includes html
+#        AddHandler type-map var
+#        Order allow,deny
+#        Allow from all
+#        LanguagePriority en cs de es fr it nl sv pt-br ro
+#        ForceLanguagePriority Prefer Fallback
+#    </Directory>
+#
+#    ErrorDocument 400 /error/HTTP_BAD_REQUEST.html.var
+#    ErrorDocument 401 /error/HTTP_UNAUTHORIZED.html.var
+#    ErrorDocument 403 /error/HTTP_FORBIDDEN.html.var
+#    ErrorDocument 404 /error/HTTP_NOT_FOUND.html.var
+#    ErrorDocument 405 /error/HTTP_METHOD_NOT_ALLOWED.html.var
+#    ErrorDocument 408 /error/HTTP_REQUEST_TIME_OUT.html.var
+#    ErrorDocument 410 /error/HTTP_GONE.html.var
+#    ErrorDocument 411 /error/HTTP_LENGTH_REQUIRED.html.var
+#    ErrorDocument 412 /error/HTTP_PRECONDITION_FAILED.html.var
+#    ErrorDocument 413 /error/HTTP_REQUEST_ENTITY_TOO_LARGE.html.var
+#    ErrorDocument 414 /error/HTTP_REQUEST_URI_TOO_LARGE.html.var
+#    ErrorDocument 415 /error/HTTP_UNSUPPORTED_MEDIA_TYPE.html.var
+#    ErrorDocument 500 /error/HTTP_INTERNAL_SERVER_ERROR.html.var
+#    ErrorDocument 501 /error/HTTP_NOT_IMPLEMENTED.html.var
+#    ErrorDocument 502 /error/HTTP_BAD_GATEWAY.html.var
+#    ErrorDocument 503 /error/HTTP_SERVICE_UNAVAILABLE.html.var
+#    ErrorDocument 506 /error/HTTP_VARIANT_ALSO_VARIES.html.var
+
+<IfModule mod_setenvif.c>
+    #
+    # The following directives modify normal HTTP response behavior to
+    # handle known problems with browser implementations.
+    #
+    BrowserMatch "Mozilla/2" nokeepalive
+    BrowserMatch "MSIE 4\.0b2;" nokeepalive downgrade-1.0 force-response-1.0
+    BrowserMatch "RealPlayer 4\.0" force-response-1.0
+    BrowserMatch "Java/1\.0" force-response-1.0
+    BrowserMatch "JDK/1\.0" force-response-1.0
+
+    #
+    # The following directive disables redirects on non-GET requests for
+    # a directory that does not include the trailing slash.  This fixes a 
+    # problem with Microsoft WebFolders which does not appropriately handle 
+    # redirects for folders with DAV methods.
+    # Same deal with Apple's DAV filesystem and Gnome VFS support for DAV.
+    #
+    BrowserMatch "Microsoft Data Access Internet Publishing Provider" redirect-carefully
+    BrowserMatch "^WebDrive" redirect-carefully
+    BrowserMatch "^WebDAVFS/1.[012]" redirect-carefully
+    BrowserMatch "^gnome-vfs/1.0" redirect-carefully
+    BrowserMatch "^XML Spy" redirect-carefully
+</IfModule>
+
+#<IfModule mod_status.c>
+    #
+    # Allow server status reports generated by mod_status,
+    # with the URL of http://servername/server-status
+    # Change the ".example.com" to match your domain to enable.
+    #
+    #<Location /server-status>
+    #    SetHandler server-status
+    #    Order deny,allow
+    #    Deny from all
+    #    Allow from .example.com
+    #</Location>
+#</IfModule>
+
+#<IfModule mod_info.c>
+    #
+    # Allow remote server configuration reports, with the URL of
+    #  http://servername/server-info (requires that mod_info.c be loaded).
+    # Change the ".example.com" to match your domain to enable.
+    #
+    #<Location /server-info>
+    #    SetHandler server-info
+    #    Order deny,allow
+    #    Deny from all
+    #    Allow from .example.com
+    #</Location>
+#</IfModule>
+
+# Include the virtual host configurations:
+Include @FINKPREFIX@/etc/apache2/sites-enabled/[^.#]*
diff -ruN httpd-2.4.6.orig/fink/apache2.monit httpd-2.4.6/fink/apache2.monit
--- httpd-2.4.6.orig/fink/apache2.monit	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/apache2.monit	2013-08-06 16:22:59.000000000 -0600
@@ -0,0 +1,7 @@
+check process apache2 with pidfile @FINKPREFIX@/var/run/apache2.pid
+   group www
+   start program = "@FINKPREFIX@/sbin/apache2ctl start"
+   stop  program = "@FINKPREFIX@/sbin/apache2ctl stop"
+   if failed host localhost port 80 
+        protocol HTTP request "/" then restart
+   if 5 restarts within 5 cycles then timeout
diff -ruN httpd-2.4.6.orig/fink/apache2ctl httpd-2.4.6/fink/apache2ctl
--- httpd-2.4.6.orig/fink/apache2ctl	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/apache2ctl	2013-08-07 21:14:10.000000000 -0600
@@ -0,0 +1,183 @@
+#!/bin/sh
+#
+# Licensed to the Apache Software Foundation (ASF) under one or more
+# contributor license agreements.  See the NOTICE file distributed with
+# this work for additional information regarding copyright ownership.
+# The ASF licenses this file to You under the Apache License, Version 2.0
+# (the "License"); you may not use this file except in compliance with
+# the License.  You may obtain a copy of the License at
+#
+#     http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing, software
+# distributed under the License is distributed on an "AS IS" BASIS,
+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+# See the License for the specific language governing permissions and
+# limitations under the License.
+#
+#
+# Apache control script designed to allow an easy command line interface
+# to controlling Apache.  Written by Marc Slemko, 1997/08/23
+#
+# Heavily modified for Debian by Stefan Fritsch 2007-2010
+# 
+# The exit codes returned are:
+#   XXX this doc is no longer correct now that the interesting
+#   XXX functions are handled by httpd
+#	0 - operation completed successfully
+#	1 - 
+#	2 - usage error
+#	3 - httpd could not be started
+#	4 - httpd could not be stopped
+#	5 - httpd could not be started during a restart
+#	6 - httpd could not be restarted during a restart
+#	7 - httpd could not be restarted during a graceful restart
+#	8 - configuration syntax error
+#
+# When multiple arguments are given, only the error from the _last_
+# one is reported.  Run "apachectl help" for usage info
+#
+ARGV="$@"
+#
+# |||||||||||||||||||| START CONFIGURATION SECTION  ||||||||||||||||||||
+# --------------------                              --------------------
+#
+# main configuration directory
+if test -z "$APACHE_CONFDIR" ; then
+	if test "${0##*apache2ctl-}" != "$0" ; then
+		APACHE_CONFDIR="@FINKPREFIX@/etc/apache2-${0##*apache2ctl-}"
+	else
+		APACHE_CONFDIR=@FINKPREFIX@/etc/apache2
+	fi
+fi
+# the path to the environment variable file
+test -z "$APACHE_ENVVARS" && APACHE_ENVVARS="$APACHE_CONFDIR/envvars"
+# pick up any necessary environment variables
+if test -f $APACHE_ENVVARS; then
+  . $APACHE_ENVVARS
+fi
+
+if test "$APACHE_CONFDIR" != @FINKPREFIX@/etc/apache2 ; then
+	APACHE_ARGUMENTS="-d $APACHE_CONFDIR $APACHE_ARGUMENTS"
+fi
+# the following APACHE_* variables should be set in @FINKPREFIX@/etc/apache2/envvars
+#
+# the path to your httpd binary, including options if necessary
+HTTPD=${APACHE_HTTPD:-@FINKPREFIX@/sbin/apache2}
+#
+# a command that outputs a formatted text version of the HTML at the
+# url given on the command line.  Designed for lynx, however other
+# programs may work.  
+LYNX="${APACHE_LYNX:-www-browser -dump}"
+#
+# the URL to your server's mod_status status page.  If you do not
+# have one, then status and fullstatus will not work.
+STATUSURL="${APACHE_STATUSURL:-http://localhost:80/server-status}"
+#
+# Set this variable to a command that increases the maximum
+# number of file descriptors allowed per child process. This is
+# critical for configurations that use many file descriptors,
+# such as mass vhosting, or a multithreaded server.
+ULIMIT_MAX_FILES="${APACHE_ULIMIT_MAX_FILES:-ulimit -n 8192}"
+# --------------------                              --------------------
+# ||||||||||||||||||||   END CONFIGURATION SECTION  ||||||||||||||||||||
+
+# Set the maximum number of file descriptors allowed per child process.
+if [ "x$ULIMIT_MAX_FILES" != "x" ] && [ `id -u` -eq 0 ] ; then
+    if ! $ULIMIT_MAX_FILES ; then
+        echo Setting ulimit failed. See README for more information. >&2
+    fi
+fi
+
+ERROR=0
+if [ "x$ARGV" = "x" ] || [ "x$ARGV" = "xusage" ] || [ "x$ARGV" = "xhelp" ] || [ "x$ARGV" = "x--help" ]; then 
+    echo "Usage: $0 start|stop|restart|graceful|graceful-stop|configtest|status|fullstatus|help" >&2
+    echo "       $0 <apache2 args>" >&2
+    echo "       $0 -h            (for help on <apache2 args>)" >&2
+    exit 1
+fi
+
+get_status () {
+    if ! $LYNX $STATUSURL ; then
+        echo "'$LYNX $STATUSURL'" failed. >&2
+        echo Maybe you need to install a package providing www-browser or you >&2
+        echo need to adjust the APACHE_LYNX variable in @FINKPREFIX@/etc/apache2/envvars >&2
+        exit 1
+    fi
+}
+
+mkdir_chown () {
+    local OWNER="$1"
+    local DIR="$2"
+    local STAT="$(LC_ALL=C stat -c %F:%U $DIR 2> /dev/null || true)"
+    if [ "$STAT" = "" ] ; then
+        local TMPNAME=$(gmktemp -d $DIR.XXXXXXXXXX) || exit 1
+        chmod 755 $TMPNAME || exit 1
+        chown $OWNER $TMPNAME || exit 1
+        if ! mv -T $TMPNAME $DIR 2> /dev/null; then
+            rmdir $TMPNAME
+            # check for race with other apachectl
+            if [ "$(LC_ALL=C stat -f %HT: $DIR 2>/dev/null)$(LC_ALL=C stat -f %u $DIR 2>/dev/null | /usr/bin/xargs /usr/bin/id -n -u 2>/dev/null)" != "Directory:$OWNER" ]
+            then
+                echo Cannot create $DIR with owner $OWNER.
+                echo Please fix manually. Aborting.
+                exit 1
+            fi
+        fi
+    elif [ "$STAT" != "directory:$OWNER" ] ; then
+        echo $DIR already exists but is not a directory owned by $OWNER.
+        echo Please fix manually. Aborting.
+        exit 1
+    fi
+}
+
+
+[ ! -d ${APACHE_RUN_DIR:-@FINKPREFIX@/var/run/apache2} ] && mkdir -p ${APACHE_RUN_DIR:-@FINKPREFIX@/var/run/apache2}
+[ ! -d ${APACHE_LOCK_DIR:-@FINKPREFIX@/var/lock/apache2} ] && mkdir_chown ${APACHE_RUN_USER:-www} ${APACHE_LOCK_DIR:-@FINKPREFIX@/var/lock/apache2}
+
+case $ARGV in
+start)
+    # ssl_scache shouldn't be here if we're just starting up.
+    # (this is bad if there are several apache2 instances running)
+    rm -f ${APACHE_RUN_DIR:-@FINKPREFIX@/var/run/apache2}/*ssl_scache*
+    $HTTPD ${APACHE_ARGUMENTS} -k $ARGV
+    ERROR=$?
+    ;;
+stop|graceful-stop)
+    $HTTPD ${APACHE_ARGUMENTS} -k $ARGV
+    ERROR=$?
+    ;;
+restart|graceful)
+    if $HTTPD ${APACHE_ARGUMENTS} -t 2> /dev/null ; then
+        $HTTPD ${APACHE_ARGUMENTS} -k $ARGV
+    else
+        $HTTPD ${APACHE_ARGUMENTS} -t
+    fi
+    ERROR=$?
+    ;;
+startssl|sslstart|start-SSL)
+    echo The startssl option is no longer supported.
+    echo Please edit httpd.conf to include the SSL configuration settings
+    echo and then use "apache2ctl start".
+    ERROR=2
+    ;;
+configtest)
+    $HTTPD ${APACHE_ARGUMENTS} -t
+    ERROR=$?
+    ;;
+status)
+    get_status | awk ' /process$/ { print; exit } { print } '
+    ;;
+fullstatus)
+    get_status
+    ;;
+*)
+    $HTTPD ${APACHE_ARGUMENTS} $ARGV
+    ERROR=$?
+esac
+
+if [ "$ERROR" != 0 ] ; then
+	echo Action \'"$@"\' failed.
+	echo The Apache error log may have more information.
+fi
+exit $ERROR
diff -ruN httpd-2.4.6.orig/fink/bash_completion/apache2 httpd-2.4.6/fink/bash_completion/apache2
--- httpd-2.4.6.orig/fink/bash_completion/apache2	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/bash_completion/apache2	2013-08-06 16:31:38.000000000 -0600
@@ -0,0 +1,89 @@
+# bash completion for Debian apache2 configuration tools
+
+_apache2_allcomp()
+{
+       command ls @FINKPREFIX@/etc/apache2/$1 2>/dev/null
+}
+
+_apache2_mods()
+{
+       COMPREPLY=( $( compgen -W '$( _apache2_allcomp $1 \
+               | sed -e 's/[.]load$//' -e 's/[.]conf$//' )' -- $cur  ) )
+}
+
+_apache2_sites()
+{
+       COMPREPLY=( $( compgen -W '$( _apache2_allcomp $1 )' -- $cur  ) )
+}
+
+_apache2_conf()
+{
+       COMPREPLY=( $( compgen -W '$( _apache2_allcomp $1 \
+               | sed -e 's/[.]conf$//' )' -- $cur  ) )
+}
+
+_a2enmod()
+{
+       local cur
+
+       COMPREPLY=()
+       cur=${COMP_WORDS[COMP_CWORD]}
+
+       _apache2_mods mods-available
+}
+complete -F _a2enmod a2enmod
+
+_a2ensite()
+{
+       local cur
+
+       COMPREPLY=()
+       cur=${COMP_WORDS[COMP_CWORD]}
+
+       _apache2_sites sites-available
+}
+complete -F _a2ensite a2ensite
+
+_a2enconf()
+{
+       local cur
+
+       COMPREPLY=()
+       cur=${COMP_WORDS[COMP_CWORD]}
+
+       _apache2_conf conf-available
+}
+complete -F _a2enconf a2enconf
+
+_a2dismod()
+{
+       local cur
+
+       COMPREPLY=()
+       cur=${COMP_WORDS[COMP_CWORD]}
+
+       _apache2_mods mods-enabled
+}
+complete -F _a2dismod a2dismod
+
+_a2dissite()
+{
+       local cur
+
+       COMPREPLY=()
+       cur=${COMP_WORDS[COMP_CWORD]}
+
+       _apache2_sites sites-enabled
+}
+complete -F _a2dissite a2dissite
+
+_a2disconf()
+{
+       local cur
+
+       COMPREPLY=()
+       cur=${COMP_WORDS[COMP_CWORD]}
+
+       _apache2_conf conf-enabled
+}
+complete -F _a2disconf a2disconf
diff -ruN httpd-2.4.6.orig/fink/config-dir/apache2.conf httpd-2.4.6/fink/config-dir/apache2.conf
--- httpd-2.4.6.orig/fink/config-dir/apache2.conf	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/apache2.conf	2013-08-23 09:28:52.000000000 -0600
@@ -0,0 +1,221 @@
+# This is the main Apache server configuration file.  It contains the
+# configuration directives that give the server its instructions.
+# See http://httpd.apache.org/docs/2.4/ for detailed information about
+# the directives and @FINKPREFIX@/share/doc/apache2/README about Fink specific
+# hints.
+#
+#
+# Summary of how the Apache 2 configuration works in Fink:
+# The Apache 2 web server configuration in Fink is quite different to
+# upstream's suggested way to configure the web server. This is because Fink's
+# default Apache2 installation attempts to make adding and removing modules,
+# virtual hosts, and extra configuration directives as flexible as possible, in
+# order to make automating the changes and administering the server as easy as
+# possible.
+
+# It is split into several files forming the configuration hierarchy outlined
+# below, all located in the @FINKPREFIX@/etc/apache2/ directory:
+#
+#	@FINKPREFIX@/etc/apache2/
+#	|-- apache2.conf
+#	|	`--  ports.conf
+#	|-- mods-enabled
+#	|	|-- *.load
+#	|	`-- *.conf
+#	|-- conf-enabled
+#	|	`-- *.conf
+# 	`-- sites-enabled
+#	 	`-- *.conf
+#
+#
+# * apache2.conf is the main configuration file (this file). It puts the pieces
+#   together by including all remaining configuration files when starting up the
+#   web server.
+#
+# * ports.conf is always included from the main configuration file. It is
+#   supposed to determine listening ports for incoming connections which can be
+#   customized anytime.
+#
+# * Configuration files in the mods-enabled/, conf-enabled/ and sites-enabled/
+#   directories contain particular configuration snippets which manage modules,
+#   global configuration fragments, or virtual host configurations,
+#   respectively.
+#
+#   They are activated by symlinking available configuration files from their
+#   respective *-available/ counterparts. These should be managed by using our
+#   helpers a2enmod/a2dismod, a2ensite/a2dissite and a2enconf/a2disconf. See
+#   their respective man pages for detailed information.
+#
+# * The binary is called apache2. Due to the use of environment variables, in
+#   the default configuration, apache2 needs to be started/stopped with
+#   apache2ctl. Calling @FINKPREFIX@/bin/apache2 directly will not
+#   work with the default configuration.
+
+
+# Global configuration
+#
+
+#
+# ServerRoot: The top of the directory tree under which the server's
+# configuration, error, and log files are kept.
+#
+# NOTE!  If you intend to place this on an NFS (or otherwise network)
+# mounted filesystem then please read the Mutex documentation (available
+# at <URL:http://httpd.apache.org/docs/2.4/mod/core.html#mutex>);
+# you will save yourself a lot of trouble.
+#
+# Do NOT add a slash at the end of the directory path.
+#
+#ServerRoot "@FINKPREFIX@/etc/apache2"
+
+#
+# The accept serialization lock file MUST BE STORED ON A LOCAL DISK.
+#
+Mutex file:${APACHE_LOCK_DIR} default
+
+#
+# PidFile: The file in which the server should record its process
+# identification number when it starts.
+# This needs to be set in @FINKPREFIX@/etc/apache2/envvars
+#
+PidFile ${APACHE_PID_FILE}
+
+#
+# Timeout: The number of seconds before receives and sends time out.
+#
+Timeout 300
+
+#
+# KeepAlive: Whether or not to allow persistent connections (more than
+# one request per connection). Set to "Off" to deactivate.
+#
+KeepAlive On
+
+#
+# MaxKeepAliveRequests: The maximum number of requests to allow
+# during a persistent connection. Set to 0 to allow an unlimited amount.
+# We recommend you leave this number high, for maximum performance.
+#
+MaxKeepAliveRequests 100
+
+#
+# KeepAliveTimeout: Number of seconds to wait for the next request from the
+# same client on the same connection.
+#
+KeepAliveTimeout 5
+
+
+# These need to be set in @FINKPREFIX@/etc/apache2/envvars
+User ${APACHE_RUN_USER}
+Group ${APACHE_RUN_GROUP}
+
+#
+# HostnameLookups: Log the names of clients or just their IP addresses
+# e.g., www.apache.org (on) or 204.62.129.132 (off).
+# The default is off because it'd be overall better for the net if people
+# had to knowingly turn this feature on, since enabling it means that
+# each client request will result in AT LEAST one lookup request to the
+# nameserver.
+#
+HostnameLookups Off
+
+# ErrorLog: The location of the error log file.
+# If you do not specify an ErrorLog directive within a <VirtualHost>
+# container, error messages relating to that virtual host will be
+# logged here.  If you *do* define an error logfile for a <VirtualHost>
+# container, that host's errors will be logged there and not here.
+#
+ErrorLog ${APACHE_LOG_DIR}/error.log
+
+#
+# LogLevel: Control the severity of messages logged to the error_log.
+# Available values: trace8, ..., trace1, debug, info, notice, warn,
+# error, crit, alert, emerg.
+# It is also possible to configure the log level for particular modules, e.g.
+# "LogLevel info ssl:warn"
+#
+LogLevel warn
+
+# Include module configuration:
+IncludeOptional mods-enabled/*.load
+IncludeOptional mods-enabled/*.conf
+
+# Include list of ports to listen on
+Include ports.conf
+
+
+# Sets the default security model of the Apache2 HTTPD server. It does
+# not allow access to the root filesystem outside of @FINKPREFIX@/share and @FINKPREFIX@/var/www.
+# The former is used by web applications packaged in Fink,
+# the latter may be used for local directories served by the web server. If
+# your system is serving content from a sub-directory in /srv you must allow
+# access here, or in any related virtual host.
+<Directory />
+	Options FollowSymLinks
+	AllowOverride None
+	Require all denied
+</Directory>
+
+<Directory @FINKPREFIX@/share>
+	AllowOverride None
+	Require all granted
+</Directory>
+
+<Directory @FINKPREFIX@/var/www/>
+	Options Indexes FollowSymLinks
+	AllowOverride None
+	Require all granted
+</Directory>
+
+#<Directory /srv/>
+#	Options Indexes FollowSymLinks
+#	AllowOverride None
+#	Require all granted
+#</Directory>
+
+
+
+
+# AccessFileName: The name of the file to look for in each directory
+# for additional configuration directives.  See also the AllowOverride
+# directive.
+#
+AccessFileName .htaccess
+
+#
+# The following lines prevent .htaccess and .htpasswd files from being
+# viewed by Web clients.
+#
+<FilesMatch "^\.ht">
+	Require all denied
+</FilesMatch>
+
+
+#
+# The following directives define some format nicknames for use with
+# a CustomLog directive.
+#
+# These deviate from the Common Log Format definitions in that they use %O
+# (the actual bytes sent including headers) instead of %b (the size of the
+# requested file), because the latter makes it impossible to detect partial
+# requests.
+#
+# Note that the use of %{X-Forwarded-For}i instead of %h is not recommended.
+# Use mod_remoteip instead.
+#
+LogFormat "%v:%p %h %l %u %t \"%r\" %>s %O \"%{Referer}i\" \"%{User-Agent}i\"" vhost_combined
+LogFormat "%h %l %u %t \"%r\" %>s %O \"%{Referer}i\" \"%{User-Agent}i\"" combined
+LogFormat "%h %l %u %t \"%r\" %>s %O" common
+LogFormat "%{Referer}i -> %U" referer
+LogFormat "%{User-agent}i" agent
+
+# Include of directories ignores editors' and dpkg's backup files,
+# see README for details.
+
+# Include generic snippets of statements
+IncludeOptional conf-enabled/*.conf
+
+# Include the virtual host configurations:
+IncludeOptional sites-enabled/*.conf
+
+# vim: syntax=apache ts=4 sw=4 sts=4 sr noet
diff -ruN httpd-2.4.6.orig/fink/config-dir/conf-available/charset.conf httpd-2.4.6/fink/config-dir/conf-available/charset.conf
--- httpd-2.4.6.orig/fink/config-dir/conf-available/charset.conf	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/conf-available/charset.conf	2013-07-21 10:47:15.000000000 -0600
@@ -0,0 +1,8 @@
+# Read the documentation before enabling AddDefaultCharset.
+# In general, it is only a good idea if you know that all your files
+# have this encoding. It will override any encoding given in the files
+# in meta http-equiv or xml encoding tags.
+
+#AddDefaultCharset UTF-8
+
+# vim: syntax=apache ts=4 sw=4 sts=4 sr noet
diff -ruN httpd-2.4.6.orig/fink/config-dir/conf-available/localized-error-pages.conf httpd-2.4.6/fink/config-dir/conf-available/localized-error-pages.conf
--- httpd-2.4.6.orig/fink/config-dir/conf-available/localized-error-pages.conf	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/conf-available/localized-error-pages.conf	2013-08-07 21:54:12.000000000 -0600
@@ -0,0 +1,81 @@
+# Customizable error responses come in three flavors:
+# 1) plain text
+# 2) local redirects
+# 3) external redirects
+#
+# Some examples:
+#ErrorDocument 500 "The server made a boo boo."
+#ErrorDocument 404 /missing.html
+#ErrorDocument 404 "/cgi-bin/missing_handler.pl"
+#ErrorDocument 402 http://www.example.com/subscription_info.html
+#
+
+#
+# Putting this all together, we can internationalize error responses.
+#
+# We use Alias to redirect any /error/HTTP_<error>.html.var response to
+# our collection of by-error message multi-language collections.  We use
+# includes to substitute the appropriate text.
+#
+# You can modify the messages' appearance without changing any of the
+# default HTTP_<error>.html.var files by adding the line:
+#
+#Alias /error/include/ "/your/include/path/"
+#
+# which allows you to create your own set of files by starting with the
+# @FINKPREFIX@/share/apache2/error/include/ files and copying them to /your/include/path/,
+# even on a per-VirtualHost basis.  If you include the Alias in the global server
+# context, is has to come _before_ the 'Alias /error/ ...' line.
+#
+# The default include files will display your Apache version number and your
+# ServerAdmin email address regardless of the setting of ServerSignature.
+#
+# WARNING: The configuration below will NOT work out of the box if you have a
+#		  SetHandler directive in a <Location /> context somewhere. Adding
+#		  the following three lines AFTER the <Location /> context should
+#		  make it work in most cases:
+#		  <Location /error/>
+#			 SetHandler none
+#		  </Location>
+#
+# The internationalized error documents require mod_alias, mod_include
+# and mod_negotiation.  To activate them, uncomment the following 37 lines.
+
+#<IfModule mod_negotiation.c>
+#	<IfModule mod_include.c>
+#		<IfModule mod_alias.c>
+#
+#			Alias /error/ "@FINKPREFIX@/share/apache2/error/"
+#
+#			<Directory "@FINKPREFIX@/share/apache2/error">
+#				Options IncludesNoExec
+#				AddOutputFilter Includes html
+#				AddHandler type-map var
+#				Order allow,deny
+#				Allow from all
+#				LanguagePriority en cs de es fr it nl sv pt-br ro
+#				ForceLanguagePriority Prefer Fallback
+#			</Directory>
+#
+#			ErrorDocument 400 /error/HTTP_BAD_REQUEST.html.var
+#			ErrorDocument 401 /error/HTTP_UNAUTHORIZED.html.var
+#			ErrorDocument 403 /error/HTTP_FORBIDDEN.html.var
+#			ErrorDocument 404 /error/HTTP_NOT_FOUND.html.var
+#			ErrorDocument 405 /error/HTTP_METHOD_NOT_ALLOWED.html.var
+#			ErrorDocument 408 /error/HTTP_REQUEST_TIME_OUT.html.var
+#			ErrorDocument 410 /error/HTTP_GONE.html.var
+#			ErrorDocument 411 /error/HTTP_LENGTH_REQUIRED.html.var
+#			ErrorDocument 412 /error/HTTP_PRECONDITION_FAILED.html.var
+#			ErrorDocument 413 /error/HTTP_REQUEST_ENTITY_TOO_LARGE.html.var
+#			ErrorDocument 414 /error/HTTP_REQUEST_URI_TOO_LARGE.html.var
+#			ErrorDocument 415 /error/HTTP_UNSUPPORTED_MEDIA_TYPE.html.var
+#			ErrorDocument 500 /error/HTTP_INTERNAL_SERVER_ERROR.html.var
+#			ErrorDocument 501 /error/HTTP_NOT_IMPLEMENTED.html.var
+#			ErrorDocument 502 /error/HTTP_BAD_GATEWAY.html.var
+#			ErrorDocument 503 /error/HTTP_SERVICE_UNAVAILABLE.html.var
+#			ErrorDocument 506 /error/HTTP_VARIANT_ALSO_VARIES.html.var
+#		</IfModule>
+#	</IfModule>
+#</IfModule>
+
+# vim: syntax=apache ts=4 sw=4 sts=4 sr noet
diff -ruN httpd-2.4.6.orig/fink/config-dir/conf-available/other-vhosts-access-log.conf httpd-2.4.6/fink/config-dir/conf-available/other-vhosts-access-log.conf
--- httpd-2.4.6.orig/fink/config-dir/conf-available/other-vhosts-access-log.conf	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/conf-available/other-vhosts-access-log.conf	2013-07-21 10:47:15.000000000 -0600
@@ -0,0 +1,4 @@
+# Define an access log for VirtualHosts that don't define their own logfile
+CustomLog ${APACHE_LOG_DIR}/other_vhosts_access.log vhost_combined
+
+# vim: syntax=apache ts=4 sw=4 sts=4 sr noet
diff -ruN httpd-2.4.6.orig/fink/config-dir/conf-available/security.conf httpd-2.4.6/fink/config-dir/conf-available/security.conf
--- httpd-2.4.6.orig/fink/config-dir/conf-available/security.conf	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/conf-available/security.conf	2013-07-21 10:47:15.000000000 -0600
@@ -0,0 +1,74 @@
+#
+# Disable access to the entire file system except for the directories that
+# are explicitly allowed later.
+#
+# This currently breaks the configurations that come with some web application
+# Debian packages.
+#
+#<Directory />
+#   AllowOverride None
+#   Order Deny,Allow
+#   Deny from all
+#</Directory>
+
+
+# Changing the following options will not really affect the security of the
+# server, but might make attacks slightly more difficult in some cases.
+
+#
+# ServerTokens
+# This directive configures what you return as the Server HTTP response
+# Header. The default is 'Full' which sends information about the OS-Type
+# and compiled in modules.
+# Set to one of:  Full | OS | Minimal | Minor | Major | Prod
+# where Full conveys the most information, and Prod the least.
+#ServerTokens Minimal
+ServerTokens OS
+#ServerTokens Full
+
+#
+# Optionally add a line containing the server version and virtual host
+# name to server-generated pages (internal error documents, FTP directory
+# listings, mod_status and mod_info output etc., but not CGI generated
+# documents or custom error documents).
+# Set to "EMail" to also include a mailto: link to the ServerAdmin.
+# Set to one of:  On | Off | EMail
+#ServerSignature Off
+ServerSignature On
+
+#
+# Allow TRACE method
+#
+# Set to "extended" to also reflect the request body (only for testing and
+# diagnostic purposes).
+#
+# Set to one of:  On | Off | extended
+TraceEnable Off
+#TraceEnable On
+
+#
+# Forbid access to version control directories
+#
+# If you use version control systems in your document root, you should
+# probably deny access to their directories. For example, for subversion:
+#
+#<DirectoryMatch "/\.svn">
+#   Require all denied
+#</DirectoryMatch>
+
+#
+# Setting this header will prevent MSIE from interpreting files as something
+# else than declared by the content type in the HTTP headers.
+# Requires mod_headers to be enabled.
+#
+#Header set X-Content-Type-Options: "nosniff"
+
+#
+# Setting this header will prevent other sites from embedding pages from this
+# site as frames. This defends against clickjacking attacks.
+# Requires mod_headers to be enabled.
+#
+#Header set X-Frame-Options: "sameorigin"
+
+
+# vim: syntax=apache ts=4 sw=4 sts=4 sr noet
diff -ruN httpd-2.4.6.orig/fink/config-dir/conf-available/serve-cgi-bin.conf httpd-2.4.6/fink/config-dir/conf-available/serve-cgi-bin.conf
--- httpd-2.4.6.orig/fink/config-dir/conf-available/serve-cgi-bin.conf	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/conf-available/serve-cgi-bin.conf	2013-08-06 18:57:08.000000000 -0600
@@ -0,0 +1,20 @@
+<IfModule mod_alias.c>
+	<IfModule mod_cgi.c>
+		Define ENALBLE_USR_LIB_CGI_BIN
+	</IfModule>
+
+	<IfModule mod_cgid.c>
+		Define ENALBLE_USR_LIB_CGI_BIN
+	</IfModule>
+
+	<IfDefine ENALBLE_USR_LIB_CGI_BIN>
+		ScriptAlias /cgi-bin/ @FINKPREFIX@/lib/cgi-bin/
+		<Directory "@FINKPREFIX@/lib/cgi-bin">
+			AllowOverride None
+			Options +ExecCGI -MultiViews +SymLinksIfOwnerMatch
+			Require all granted
+		</Directory>
+	</IfDefine>
+</IfModule>
+
+# vim: syntax=apache ts=4 sw=4 sts=4 sr noet
diff -ruN httpd-2.4.6.orig/fink/config-dir/envvars httpd-2.4.6/fink/config-dir/envvars
--- httpd-2.4.6.orig/fink/config-dir/envvars	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/envvars	2013-08-06 18:55:33.000000000 -0600
@@ -0,0 +1,47 @@
+# envvars - default environment variables for apache2ctl
+
+# this won't be correct after changing uid
+unset HOME
+
+# for supporting multiple apache2 instances
+if [ "${APACHE_CONFDIR##/etc/apache2-}" != "${APACHE_CONFDIR}" ] ; then
+	SUFFIX="-${APACHE_CONFDIR##/etc/apache2-}"
+else
+	SUFFIX=
+fi
+
+# Since there is no sane way to get the parsed apache2 config in scripts, some
+# settings are defined via environment variables and then used in apache2ctl,
+# @FINKPREFIX@/etc/logrotate.d/apache2, etc.
+export APACHE_RUN_USER=www
+export APACHE_RUN_GROUP=www
+# temporary state file location. This might be changed to /run in Wheezy+1
+export APACHE_PID_FILE=@FINKPREFIX@/var/run/apache2/apache2$SUFFIX.pid
+export APACHE_RUN_DIR=@FINKPREFIX@/var/run/apache2$SUFFIX
+export APACHE_LOCK_DIR=@FINKPREFIX@/var/lock/apache2$SUFFIX
+# Only @FINKPREFIX@/var/log/apache2 is handled by @FINKPREFIX@/etc/logrotate.d/apache2.
+export APACHE_LOG_DIR=@FINKPREFIX@/var/log/apache2$SUFFIX
+
+## The locale used by some modules like mod_dav
+export LANG=C
+## Uncomment the following line to use the system default locale instead:
+#. @FINKPREFIX@/etc/default/locale
+
+export LANG
+
+## The command to get the status for 'apache2ctl status'.
+## Some packages providing 'www-browser' need '--dump' instead of '-dump'.
+#export APACHE_LYNX='www-browser -dump'
+
+## If you need a higher file descriptor limit, uncomment and adjust the
+## following line (default is 8192):
+#APACHE_ULIMIT_MAX_FILES='ulimit -n 65536'
+
+## If you would like to pass arguments to the web server, add them below
+## to the APACHE_ARGUMENTS environment.
+#export APACHE_ARGUMENTS=''
+
+## Enable the debug mode for maintainer scripts.
+## This will produce a verbose output on package installations of web server modules and web application
+## installations which interact with Apache
+#export APACHE2_MAINTSCRIPT_DEBUG=1
diff -ruN httpd-2.4.6.orig/fink/config-dir/magic httpd-2.4.6/fink/config-dir/magic
--- httpd-2.4.6.orig/fink/config-dir/magic	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/magic	2013-07-21 10:47:15.000000000 -0600
@@ -0,0 +1,935 @@
+# Magic data for mod_mime_magic (originally for file(1) command)
+#
+# The format is 4-5 columns:
+#    Column #1: byte number to begin checking from, ">" indicates continuation
+#    Column #2: type of data to match
+#    Column #3: contents of data to match
+#    Column #4: MIME type of result
+#    Column #5: MIME encoding of result (optional)
+
+#------------------------------------------------------------------------------
+# Localstuff:  file(1) magic for locally observed files
+# Add any locally observed files here.
+
+# Real Audio (Magic .ra\0375)
+0	belong		0x2e7261fd	audio/x-pn-realaudio
+0	string		.RMF		application/vnd.rn-realmedia
+
+#video/x-pn-realvideo
+#video/vnd.rn-realvideo
+#application/vnd.rn-realmedia
+#	sigh, there are many mimes for that but the above are the most common.
+
+# Taken from magic, converted to magic.mime
+# mime types according to http://www.geocities.com/nevilo/mod.htm:
+#	audio/it	.it
+#	audio/x-zipped-it	.itz
+#	audio/xm	fasttracker modules
+#	audio/x-s3m	screamtracker modules
+#	audio/s3m	screamtracker modules
+#	audio/x-zipped-mod	mdz
+#	audio/mod	mod
+#	audio/x-mod	All modules (mod, s3m, 669, mtm, med, xm, it, mdz, stm, itz, xmz, s3z)
+
+# Taken from loader code from mikmod version 2.14
+# by Steve McIntyre (stevem@chiark.greenend.org.uk)
+# <doj@cubic.org> added title printing on 2003-06-24
+0	string	MAS_UTrack_V00
+>14	string	>/0		audio/x-mod
+#audio/x-tracker-module
+
+#0	string	UN05		MikMod UNI format module sound data
+
+0	string	Extended\ Module: audio/x-mod
+#audio/x-tracker-module
+##>17	string	>\0		Title: "%s"
+
+21	string/c	\!SCREAM!	audio/x-mod
+#audio/x-screamtracker-module
+21	string	BMOD2STM	audio/x-mod
+#audio/x-screamtracker-module
+1080	string	M.K.		audio/x-mod
+#audio/x-protracker-module
+#>0	string	>\0		Title: "%s"
+1080	string	M!K!		audio/x-mod
+#audio/x-protracker-module
+#>0	string	>\0		Title: "%s"
+1080	string	FLT4		audio/x-mod
+#audio/x-startracker-module
+#>0	string	>\0		Title: "%s"
+1080	string	FLT8		audio/x-mod
+#audio/x-startracker-module
+#>0	string	>\0		Title: "%s"
+1080	string	4CHN		audio/x-mod
+#audio/x-fasttracker-module
+#>0	string	>\0		Title: "%s"
+1080	string	6CHN		audio/x-mod
+#audio/x-fasttracker-module
+#>0	string	>\0		Title: "%s"
+1080	string	8CHN		audio/x-mod
+#audio/x-fasttracker-module
+#>0	string	>\0		Title: "%s"
+1080	string	CD81		audio/x-mod
+#audio/x-oktalyzer-tracker-module
+#>0	string	>\0		Title: "%s"
+1080	string	OKTA		audio/x-mod
+#audio/x-oktalyzer-tracker-module
+#>0	string	>\0		Title: "%s"
+# Not good enough.
+#1082	string	CH
+#>1080	string	>/0		%.2s-channel Fasttracker "oktalyzer" module sound data
+1080	string	16CN		audio/x-mod
+#audio/x-taketracker-module
+#>0	string	>\0		Title: "%s"
+1080	string	32CN		audio/x-mod
+#audio/x-taketracker-module
+#>0	string	>\0		Title: "%s"
+
+# Impuse tracker module (it)
+0	string		IMPM		audio/x-mod
+#>4	string		>\0		"%s"
+#>40	leshort		!0		compatible w/ITv%x
+#>42	leshort		!0		created w/ITv%x
+
+#------------------------------------------------------------------------------
+# end local stuff
+#------------------------------------------------------------------------------
+
+# xml based formats!
+
+# svg
+
+0	string		\<?xml
+#			text/xml
+>38	string		\<\!DOCTYPE\040svg	image/svg+xml
+
+
+# xml
+0	string		\<?xml			text/xml
+
+
+#------------------------------------------------------------------------------
+# Java
+
+0	short		0xcafe
+>2	short		0xbabe		application/java
+
+#------------------------------------------------------------------------------
+# audio:  file(1) magic for sound formats
+#
+# from Jan Nicolai Langfeldt <janl@ifi.uio.no>,
+#
+
+# Sun/NeXT audio data
+0	string		.snd
+>12	belong		1		audio/basic
+>12	belong		2		audio/basic
+>12	belong		3		audio/basic
+>12	belong		4		audio/basic
+>12	belong		5		audio/basic
+>12	belong		6		audio/basic
+>12	belong		7		audio/basic
+
+>12	belong		23		audio/x-adpcm
+
+# DEC systems (e.g. DECstation 5000) use a variant of the Sun/NeXT format
+# that uses little-endian encoding and has a different magic number
+# (0x0064732E in little-endian encoding).
+0	lelong		0x0064732E	
+>12	lelong		1		audio/x-dec-basic
+>12	lelong		2		audio/x-dec-basic
+>12	lelong		3		audio/x-dec-basic
+>12	lelong		4		audio/x-dec-basic
+>12	lelong		5		audio/x-dec-basic
+>12	lelong		6		audio/x-dec-basic
+>12	lelong		7		audio/x-dec-basic
+#                                       compressed (G.721 ADPCM)
+>12	lelong		23		audio/x-dec-adpcm
+
+# Bytes 0-3 of AIFF, AIFF-C, & 8SVX audio files are "FORM"
+#					AIFF audio data
+8	string		AIFF		audio/x-aiff	
+#					AIFF-C audio data
+8	string		AIFC		audio/x-aiff	
+#					IFF/8SVX audio data
+8	string		8SVX		audio/x-aiff	
+
+
+
+# Creative Labs AUDIO stuff
+#					Standard MIDI data
+0	string	MThd			audio/unknown	
+#>9 	byte	>0			(format %d)
+#>11	byte	>1			using %d channels
+#					Creative Music (CMF) data
+0	string	CTMF			audio/unknown	
+#					SoundBlaster instrument data
+0	string	SBI			audio/unknown	
+#					Creative Labs voice data
+0	string	Creative\ Voice\ File	audio/unknown	
+## is this next line right?  it came this way...
+#>19	byte	0x1A
+#>23	byte	>0			- version %d
+#>22	byte	>0			\b.%d
+
+# [GRR 950115:  is this also Creative Labs?  Guessing that first line
+#  should be string instead of unknown-endian long...]
+#0	long		0x4e54524b	MultiTrack sound data
+#0	string		NTRK		MultiTrack sound data
+#>4	long		x		- version %ld
+
+# Microsoft WAVE format (*.wav)
+# [GRR 950115:  probably all of the shorts and longs should be leshort/lelong]
+#					Microsoft RIFF
+0	string		RIFF
+#					- WAVE format
+>8	string		WAVE		audio/x-wav
+>8	string/B	AVI		video/x-msvideo
+#
+>8 	string		CDRA		image/x-coreldraw
+
+# AAC (aka MPEG-2 NBC)
+0       beshort&0xfff6    0xfff0          audio/X-HX-AAC-ADTS
+0       string          ADIF            audio/X-HX-AAC-ADIF
+0       beshort&0xffe0  0x56e0          audio/MP4A-LATM
+0       beshort         0x4De1          audio/MP4A-LATM
+
+# MPEG Layer 3 sound files
+0       beshort&0xfffe  =0xfffa         audio/mpeg
+#MP3 with ID3 tag
+0	string		ID3		audio/mpeg
+# Ogg/Vorbis
+0	string		OggS		application/ogg
+
+#------------------------------------------------------------------------------
+# c-lang:  file(1) magic for C programs or various scripts
+#
+
+# XPM icons (Greg Roelofs, newt@uchicago.edu)
+# ideally should go into "images", but entries below would tag XPM as C source
+0	string		/*\ XPM		image/x-xpmi 7bit
+
+# 3DS (3d Studio files)
+#16	beshort		0x3d3d		image/x-3ds
+
+# this first will upset you if you're a PL/1 shop... (are there any left?)
+# in which case rm it; ascmagic will catch real C programs
+#					C or REXX program text
+#0	string		/*		text/x-c
+#					C++ program text
+#0	string		//		text/x-c++
+
+#------------------------------------------------------------------------------
+# commands:  file(1) magic for various shells and interpreters
+#
+#0       string          :\ shell archive or commands for antique kernel text
+0       string          #!/bin/sh               application/x-shellscript
+0       string          #!\ /bin/sh             application/x-shellscript
+0       string          #!/bin/csh              application/x-shellscript
+0       string          #!\ /bin/csh            application/x-shellscript
+# korn shell magic, sent by George Wu, gwu@clyde.att.com
+0       string          #!/bin/ksh              application/x-shellscript
+0       string          #!\ /bin/ksh            application/x-shellscript
+0       string          #!/bin/tcsh             application/x-shellscript
+0       string          #!\ /bin/tcsh           application/x-shellscript
+0       string          #!/usr/local/tcsh       application/x-shellscript
+0       string          #!\ /usr/local/tcsh     application/x-shellscript
+0       string          #!/usr/local/bin/tcsh   application/x-shellscript
+0       string          #!\ /usr/local/bin/tcsh application/x-shellscript
+# bash shell magic, from Peter Tobias (tobias@server.et-inf.fho-emden.de)
+0       string          #!/bin/bash     		application/x-shellscript
+0       string          #!\ /bin/bash           application/x-shellscript
+0       string          #!/usr/local/bin/bash   application/x-shellscript
+0       string          #!\ /usr/local/bin/bash application/x-shellscript
+
+#
+# zsh/ash/ae/nawk/gawk magic from cameron@cs.unsw.oz.au (Cameron Simpson)
+0       string          #!/bin/zsh	        application/x-shellscript
+0       string          #!/usr/bin/zsh	        application/x-shellscript
+0       string          #!/usr/local/bin/zsh    application/x-shellscript
+0       string          #!\ /usr/local/bin/zsh  application/x-shellscript
+0       string          #!/usr/local/bin/ash    application/x-shellscript
+0       string          #!\ /usr/local/bin/ash  application/x-shellscript
+#0       string          #!/usr/local/bin/ae     Neil Brown's ae
+#0       string          #!\ /usr/local/bin/ae   Neil Brown's ae
+0       string          #!/bin/nawk             application/x-nawk
+0       string          #!\ /bin/nawk           application/x-nawk
+0       string          #!/usr/bin/nawk         application/x-nawk
+0       string          #!\ /usr/bin/nawk       application/x-nawk
+0       string          #!/usr/local/bin/nawk   application/x-nawk
+0       string          #!\ /usr/local/bin/nawk application/x-nawk
+0       string          #!/bin/gawk             application/x-gawk
+0       string          #!\ /bin/gawk           application/x-gawk
+0       string          #!/usr/bin/gawk         application/x-gawk
+0       string          #!\ /usr/bin/gawk       application/x-gawk
+0       string          #!/usr/local/bin/gawk   application/x-gawk
+0       string          #!\ /usr/local/bin/gawk application/x-gawk
+#
+0       string          #!/bin/awk              application/x-awk
+0       string          #!\ /bin/awk            application/x-awk
+0       string          #!/usr/bin/awk          application/x-awk
+0       string          #!\ /usr/bin/awk        application/x-awk
+# update to distinguish from *.vcf files by Joerg Jenderek: joerg dot jenderek at web dot de
+#0	regex		BEGIN[[:space:]]*[{]	application/x-awk
+
+# For Larry Wall's perl language.  The ``eval'' line recognizes an
+# outrageously clever hack for USG systems.
+#                               Keith Waclena <keith@cerberus.uchicago.edu>
+0       string          #!/bin/perl                     application/x-perl
+0       string          #!\ /bin/perl                   application/x-perl
+0       string          eval\ "exec\ /bin/perl          application/x-perl
+0       string          #!/usr/bin/perl                 application/x-perl
+0       string          #!\ /usr/bin/perl               application/x-perl
+0       string          eval\ "exec\ /usr/bin/perl      application/x-perl
+0       string          #!/usr/local/bin/perl           application/x-perl
+0       string          #!\ /usr/local/bin/perl         application/x-perl
+0       string          eval\ "exec\ /usr/local/bin/perl application/x-perl
+
+#------------------------------------------------------------------------------
+# compress:  file(1) magic for pure-compression formats (no archives)
+#
+# compress, gzip, pack, compact, huf, squeeze, crunch, freeze, yabba, whap, etc.
+#
+# Formats for various forms of compressed data
+# Formats for "compress" proper have been moved into "compress.c",
+# because it tries to uncompress it to figure out what's inside.
+
+# standard unix compress
+#0	string		\037\235	application/x-compress
+
+# gzip (GNU zip, not to be confused with [Info-ZIP/PKWARE] zip archiver)
+#0       string          \037\213        application/x-gzip
+
+0		string			PK\003\004		application/x-zip
+
+# RAR archiver (Greg Roelofs, newt@uchicago.edu)
+0	string		Rar!		application/x-rar
+
+# According to gzip.h, this is the correct byte order for packed data.
+0	string		\037\036	application/octet-stream
+#
+# This magic number is byte-order-independent.
+#
+0	short		017437		application/octet-stream
+
+# XXX - why *two* entries for "compacted data", one of which is
+# byte-order independent, and one of which is byte-order dependent?
+#
+# compacted data
+0	short		0x1fff		application/octet-stream
+0	string		\377\037	application/octet-stream
+# huf output
+0	short		0145405		application/octet-stream
+
+# Squeeze and Crunch...
+# These numbers were gleaned from the Unix versions of the programs to
+# handle these formats.  Note that I can only uncrunch, not crunch, and
+# I didn't have a crunched file handy, so the crunch number is untested.
+#				Keith Waclena <keith@cerberus.uchicago.edu>
+#0	leshort		0x76FF		squeezed data (CP/M, DOS)
+#0	leshort		0x76FE		crunched data (CP/M, DOS)
+
+# Freeze
+#0	string		\037\237	Frozen file 2.1
+#0	string		\037\236	Frozen file 1.0 (or gzip 0.5)
+
+# lzh?
+#0	string		\037\240	LZH compressed data
+
+257	string		ustar\0		application/x-tar	posix
+257	string		ustar\040\040\0		application/x-tar	gnu
+
+0	short		070707		application/x-cpio
+0	short		0143561		application/x-cpio	swapped
+
+0	string		=<ar>		application/x-archive
+0	string		\!<arch>	application/x-archive
+>8	string		debian		application/x-debian-package
+
+#------------------------------------------------------------------------------
+#
+# RPM: file(1) magic for Red Hat Packages   Erik Troan (ewt@redhat.com)
+#
+0       beshort         0xedab
+>2      beshort         0xeedb          application/x-rpm
+
+0	lelong&0x8080ffff	0x0000081a	application/x-arc	lzw
+0	lelong&0x8080ffff	0x0000091a	application/x-arc	squashed
+0	lelong&0x8080ffff	0x0000021a	application/x-arc	uncompressed
+0	lelong&0x8080ffff	0x0000031a	application/x-arc	packed
+0	lelong&0x8080ffff	0x0000041a	application/x-arc	squeezed
+0	lelong&0x8080ffff	0x0000061a	application/x-arc	crunched
+
+0	leshort	0xea60	application/x-arj
+
+# LHARC/LHA archiver (Greg Roelofs, newt@uchicago.edu)
+2	string	-lh0-	application/x-lharc	lh0
+2	string	-lh1-	application/x-lharc	lh1
+2	string	-lz4-	application/x-lharc	lz4
+2	string	-lz5-	application/x-lharc	lz5
+#	[never seen any but the last; -lh4- reported in comp.compression:]
+2	string	-lzs-	application/x-lha	lzs
+2	string	-lh\ -	application/x-lha	lh
+2	string	-lhd-	application/x-lha	lhd
+2	string	-lh2-	application/x-lha	lh2
+2	string	-lh3-	application/x-lha	lh3
+2	string	-lh4-	application/x-lha	lh4
+2	string	-lh5-	application/x-lha	lh5
+2	string	-lh6-	application/x-lha	lh6
+2	string	-lh7-	application/x-lha	lh7
+# Shell archives
+10	string	#\ This\ is\ a\ shell\ archive	application/octet-stream	x-shell
+
+#------------------------------------------------------------------------------
+# frame:  file(1) magic for FrameMaker files
+#
+# This stuff came on a FrameMaker demo tape, most of which is
+# copyright, but this file is "published" as witness the following:
+#
+0	string		\<MakerFile	application/x-frame
+0	string		\<MIFFile	application/x-frame
+0	string		\<MakerDictionary	application/x-frame
+0	string		\<MakerScreenFon	application/x-frame
+0	string		\<MML		application/x-frame
+0	string		\<Book		application/x-frame
+0	string		\<Maker		application/x-frame
+
+#------------------------------------------------------------------------------
+# html:  file(1) magic for HTML (HyperText Markup Language) docs
+#
+# from Daniel Quinlan <quinlan@yggdrasil.com>
+#
+0	string/cB	\<!DOCTYPE\ html	text/html
+0	string/cb	\<head	text/html
+0	string/cb	\<title	text/html
+0       string/bc	\<html	text/html
+0	string		\<!--	text/html
+0	string/c	\<h1	text/html
+
+0	string		\<?xml			text/xml
+
+#------------------------------------------------------------------------------
+# images:  file(1) magic for image formats (see also "c-lang" for XPM bitmaps)
+#
+# originally from jef@helios.ee.lbl.gov (Jef Poskanzer),
+# additions by janl@ifi.uio.no as well as others. Jan also suggested
+# merging several one- and two-line files into here.
+#
+# XXX - byte order for GIF and TIFF fields?
+# [GRR:  TIFF allows both byte orders; GIF is probably little-endian]
+#
+
+# [GRR:  what the hell is this doing in here?]
+#0	string		xbtoa		btoa'd file
+
+# PBMPLUS
+#					PBM file
+0	string		P1		image/x-portable-bitmap	7bit
+#					PGM file
+0	string		P2		image/x-portable-greymap	7bit
+#					PPM file
+0	string		P3		image/x-portable-pixmap	7bit
+#					PBM "rawbits" file
+0	string		P4		image/x-portable-bitmap
+#					PGM "rawbits" file
+0	string		P5		image/x-portable-greymap
+#					PPM "rawbits" file
+0	string		P6		image/x-portable-pixmap
+
+# NIFF (Navy Interchange File Format, a modification of TIFF)
+# [GRR:  this *must* go before TIFF]
+0	string		IIN1		image/x-niff
+
+# TIFF and friends
+#					TIFF file, big-endian
+0	string		MM		image/tiff
+#					TIFF file, little-endian
+0	string		II		image/tiff
+
+# possible GIF replacements; none yet released!
+# (Greg Roelofs, newt@uchicago.edu)
+#
+# GRR 950115:  this was mine ("Zip GIF"):
+#					ZIF image (GIF+deflate alpha)
+0	string		GIF94z		image/unknown
+#
+# GRR 950115:  this is Jeremy Wohl's Free Graphics Format (better):
+#					FGF image (GIF+deflate beta)
+0	string		FGF95a		image/unknown
+#
+# GRR 950115:  this is Thomas Boutell's Portable Bitmap Format proposal
+# (best; not yet implemented):
+#					PBF image (deflate compression)
+0	string		PBF		image/unknown
+
+# GIF
+0	string		GIF		image/gif
+
+# JPEG images
+0	beshort		0xffd8		image/jpeg
+
+# PC bitmaps (OS/2, Windoze BMP files)  (Greg Roelofs, newt@uchicago.edu)
+0	string		BM		image/x-ms-bmp
+#>14	byte		12		(OS/2 1.x format)
+#>14	byte		64		(OS/2 2.x format)
+#>14	byte		40		(Windows 3.x format)
+#0	string		IC		icon
+#0	string		PI		pointer
+#0	string		CI		color icon
+#0	string		CP		color pointer
+#0	string		BA		bitmap array
+
+# CDROM Filesystems
+32769    string    CD001     application/x-iso9660
+
+# Newer StuffIt archives (grant@netbsd.org)
+0	string		StuffIt			application/x-stuffit
+#>162	string		>0			: %s
+
+# BinHex is the Macintosh ASCII-encoded file format (see also "apple")
+# Daniel Quinlan, quinlan@yggdrasil.com
+11	string	must\ be\ converted\ with\ BinHex\ 4	application/mac-binhex40
+##>41	string	x					\b, version %.3s
+
+
+#------------------------------------------------------------------------------
+# lisp:  file(1) magic for lisp programs
+#
+# various lisp types, from Daniel Quinlan (quinlan@yggdrasil.com)
+0	string	;;			text/plain	8bit
+# Emacs 18 - this is always correct, but not very magical.
+0	string	\012(			application/x-elc
+# Emacs 19
+0	string	;ELC\023\000\000\000	application/x-elc
+
+#------------------------------------------------------------------------------
+# mail.news:  file(1) magic for mail and news
+#
+# There are tests to ascmagic.c to cope with mail and news.
+0	string		Relay-Version: 	message/rfc822	7bit
+0	string		#!\ rnews	message/rfc822	7bit
+0	string		N#!\ rnews	message/rfc822	7bit
+0	string		Forward\ to 	message/rfc822	7bit
+0	string		Pipe\ to 	message/rfc822	7bit
+0	string		Return-Path:	message/rfc822	7bit
+0	string		Received:	message/rfc822
+0	string		Path:		message/news	8bit
+0	string		Xref:		message/news	8bit
+0	string		From:		message/rfc822	7bit
+0	string		Article 	message/news	8bit
+#------------------------------------------------------------------------------
+# msword: file(1) magic for MS Word files
+#
+# Contributor claims:
+# Reversed-engineered MS Word magic numbers
+#
+
+0	string		\376\067\0\043			application/msword
+0	string		\320\317\021\340\241\261	application/msword
+0	string		\333\245-\0\0\0			application/msword
+
+
+
+#------------------------------------------------------------------------------
+# printer:  file(1) magic for printer-formatted files
+#
+
+# PostScript
+0	string		%!		application/postscript
+0	string		\004%!		application/postscript
+
+# Acrobat
+# (due to clamen@cs.cmu.edu)
+0	string		%PDF-		application/pdf
+
+#------------------------------------------------------------------------------
+# sc:  file(1) magic for "sc" spreadsheet
+#
+38	string		Spreadsheet	application/x-sc
+
+#------------------------------------------------------------------------------
+# tex:  file(1) magic for TeX files
+#
+# XXX - needs byte-endian stuff (big-endian and little-endian DVI?)
+#
+# From <conklin@talisman.kaleida.com>
+
+# Although we may know the offset of certain text fields in TeX DVI
+# and font files, we can't use them reliably because they are not
+# zero terminated. [but we do anyway, christos]
+0	string		\367\002	application/x-dvi
+#0	string		\367\203	TeX generic font data
+#0	string		\367\131	TeX packed font data
+#0	string		\367\312	TeX virtual font data
+#0	string		This\ is\ TeX,	TeX transcript text	
+#0	string		This\ is\ METAFONT,	METAFONT transcript text
+
+# There is no way to detect TeX Font Metric (*.tfm) files without
+# breaking them apart and reading the data.  The following patterns
+# match most *.tfm files generated by METAFONT or afm2tfm.
+2	string		\000\021	application/x-tex-tfm
+2	string		\000\022	application/x-tex-tfm
+#>34	string		>\0		(%s)
+
+# Texinfo and GNU Info, from Daniel Quinlan (quinlan@yggdrasil.com)
+0	string		\\input\ texinfo		text/x-texinfo
+0	string		This\ is\ Info\ file	text/x-info
+
+# correct TeX magic for Linux (and maybe more)
+# from Peter Tobias (tobias@server.et-inf.fho-emden.de)
+#
+0	leshort		0x02f7		application/x-dvi
+
+# RTF - Rich Text Format
+0	string		{\\rtf		text/rtf
+
+#------------------------------------------------------------------------------
+# animation:  file(1) magic for animation/movie formats
+#
+# animation formats, originally from vax@ccwf.cc.utexas.edu (VaX#n8)
+#						MPEG file
+# MPEG sequences
+0       belong             0x000001BA
+>4      byte               &0x40          video/mp2p
+>4      byte               ^0x40          video/mpeg
+0       belong             0x000001BB     video/mpeg
+0       belong             0x000001B0     video/mp4v-es
+0       belong             0x000001B5     video/mp4v-es
+0       belong             0x000001B3     video/mpv
+0       belong&0xFF5FFF1F  0x47400010     video/mp2t
+0       belong             0x00000001
+>4      byte&0x1F          0x07           video/h264
+
+# FLI animation format
+0	leshort		0xAF11				video/fli
+# FLC animation format
+0	leshort		0xAF12				video/flc
+#
+# SGI and Apple formats
+# Added ISO mimes
+0	string		MOVI	      video/sgi
+4	string		moov	      video/quicktime
+4	string		mdat	      video/quicktime
+4	string		wide	      video/quicktime
+4	string		skip	      video/quicktime
+4	string		free	      video/quicktime
+4	string		idsc	      image/x-quicktime
+4	string		idat	      image/x-quicktime
+4	string		pckg	      application/x-quicktime
+4	string/B	jP	      image/jp2
+4	string		ftyp
+>8	string		isom	      video/mp4
+>8	string		mp41	      video/mp4
+>8	string		mp42	      video/mp4
+>8	string/B	jp2	      image/jp2
+>8	string		3gp	      video/3gpp
+>8      string          avc1          video/3gpp
+>8	string		mmp4	      video/mp4
+>8	string/B	M4A	      audio/mp4
+>8	string/B	qt	      video/quicktime
+# The contributor claims:
+#   I couldn't find a real magic number for these, however, this
+#   -appears- to work.  Note that it might catch other files, too,
+#   so BE CAREFUL!
+#
+# Note that title and author appear in the two 20-byte chunks
+# at decimal offsets 2 and 22, respectively, but they are XOR'ed with
+# 255 (hex FF)! DL format SUCKS BIG ROCKS.
+#
+#						DL file version 1 , medium format (160x100, 4 images/screen)
+0	byte		1			video/unknown
+0	byte		2			video/unknown
+#
+# Databases
+#
+# GDBM magic numbers
+#  Will be maintained as part of the GDBM distribution in the future.
+#  <downsj@teeny.org>
+0       belong  0x13579ace      application/x-gdbm
+0       lelong  0x13579ace      application/x-gdbm
+0       string  GDBM            application/x-gdbm
+#
+0       belong  0x061561        application/x-dbm
+#
+# Executables
+#
+0	string		\177ELF 
+>16	leshort		0		application/octet-stream
+>16	leshort		1		application/x-object
+>16	leshort		2		application/x-executable
+>16	leshort		3		application/x-sharedlib
+>16	leshort		4		application/x-coredump
+>16	beshort		0		application/octet-stream
+>16	beshort		1		application/x-object
+>16	beshort		2		application/x-executable
+>16	beshort		3		application/x-sharedlib
+>16	beshort		4		application/x-coredump
+#
+# DOS
+0		string			MZ				application/x-dosexec
+#
+# KDE
+0		string	[KDE\ Desktop\ Entry]	application/x-kdelnk
+0		string	\#\ KDE\ Config\ File	application/x-kdelnk
+# xmcd database file for kscd
+0		string	\#\ xmcd                text/xmcd
+
+#------------------------------------------------------------------------------
+# pkgadd:  file(1) magic for SysV R4 PKG Datastreams
+#
+0       string          #\ PaCkAgE\ DaTaStReAm  application/x-svr4-package
+
+#PNG Image Format
+0	string		\x89PNG			image/png
+
+# MNG Video Format, <URL:http://www.libpng.org/pub/mng/spec/>
+0	string		\x8aMNG			video/x-mng
+0	string		\x8aJNG			video/x-jng
+
+#------------------------------------------------------------------------------
+# Hierarchical Data Format, used to facilitate scientific data exchange
+# specifications at http://hdf.ncsa.uiuc.edu/
+#Hierarchical Data Format (version 4) data
+0	belong		0x0e031301		application/x-hdf
+#Hierarchical Data Format (version 5) data
+0	string		\211HDF\r\n\032		application/x-hdf
+
+# Adobe Photoshop
+0	string		8BPS			image/x-photoshop
+
+# Felix von Leitner <felix-file@fefe.de>
+0	string		d8:announce		application/x-bittorrent
+
+
+# lotus 1-2-3 document
+0	belong	0x00001a00	application/x-123
+0	belong	0x00000200 	application/x-123
+
+# MS Access database
+4	string	Standard\ Jet\ DB	application/msaccess
+
+## magic for XBase files
+#0      byte       0x02	
+#>8     leshort	  >0
+#>>12   leshort    0	application/x-dbf
+#
+#0      byte       0x03	
+#>8     leshort	  >0
+#>>12   leshort    0	application/x-dbf
+#
+#0      byte       0x04	
+#>8     leshort	  >0
+#>>12   leshort    0	application/x-dbf
+#
+#0      byte       0x05	
+#>8     leshort	  >0
+#>>12   leshort    0	application/x-dbf
+#
+#0      byte       0x30
+#>8     leshort	  >0
+#>>12   leshort    0	application/x-dbf
+#
+#0      byte       0x43
+#>8     leshort	  >0
+#>>12   leshort    0	application/x-dbf
+#
+#0      byte       0x7b
+#>8     leshort	  >0
+#>>12   leshort    0	application/x-dbf
+#
+#0      byte       0x83	
+#>8     leshort	  >0
+#>>12   leshort    0	application/x-dbf
+#
+#0      byte       0x8b
+#>8     leshort	  >0
+#>>12   leshort    0	application/x-dbf
+#
+#0      byte       0x8e	
+#>8     leshort	  >0
+#>>12   leshort    0	application/x-dbf
+#
+#0      byte       0xb3
+#>8     leshort	  >0
+#>>12   leshort    0	application/x-dbf
+#
+#0      byte       0xf5
+#>8     leshort	  >0
+#>>12   leshort    0	application/x-dbf
+#
+#0	leshort		0x0006		application/x-dbt
+
+# Debian has entries for the old PGP formats:
+# pgp:  file(1) magic for Pretty Good Privacy
+# see http://lists.gnupg.org/pipermail/gnupg-devel/1999-September/016052.html
+#text/PGP key public ring
+0	beshort		0x9900			application/pgp
+#text/PGP key security ring
+0	beshort		0x9501			application/pgp
+#text/PGP key security ring
+0	beshort		0x9500			application/pgp
+#text/PGP encrypted data
+0	beshort		0xa600			application/pgp-encrypted
+#text/PGP armored data
+##public key block
+2	string	---BEGIN\ PGP\ PUBLIC\ KEY\ BLOCK-	application/pgp-keys
+0	string	-----BEGIN\040PGP\40MESSAGE-			application/pgp
+0	string	-----BEGIN\040PGP\40SIGNATURE-			application/pgp-signature
+#
+# GnuPG Magic:
+# 
+#
+#text/GnuPG key public ring
+0	beshort		0x9901			application/pgp
+#text/OpenPGP data
+0	beshort		0x8501			application/pgp-encrypted	
+
+# flash:        file(1) magic for Macromedia Flash file format
+#
+# See
+#
+#       http://www.macromedia.com/software/flash/open/
+#
+0	string		FWS             
+>3	byte		x			application/x-shockwave-flash
+
+# The following paramaters are created for Namazu.
+# <http://www.namazu.org/>
+#
+# 1999/08/13
+#0	string		\<!--\ MHonArc		text/html; x-type=mhonarc
+0	string		BZh			application/x-bzip2
+
+# 1999/09/09
+# VRML (suggested by Masao Takaku)
+0	string		#VRML\ V1.0\ ascii	model/vrml
+0	string		#VRML\ V2.0\ utf8	model/vrml
+
+#------------------------------------------------------------------------------
+# ichitaro456: file(1) magic for Just System Word Processor Ichitaro
+#
+# Contributor kenzo-:
+# Reversed-engineered JS Ichitaro magic numbers
+#
+
+0	string		DOC
+>43	byte		0x14		application/ichitaro4
+>144	string	JDASH		application/ichitaro4
+
+0	string		DOC
+>43	byte		0x15		application/ichitaro5
+
+0	string		DOC
+>43	byte		0x16		application/ichitaro6
+
+#------------------------------------------------------------------------------
+# office97: file(1) magic for MicroSoft Office files
+#
+# Contributor kenzo-:
+# Reversed-engineered MS Office magic numbers
+#
+
+#0       string          \320\317\021\340\241\261\032\341
+#>48     byte            0x1B            application/excel
+
+2080	string	Microsoft\ Excel\ 5.0\ Worksheet	application/excel
+2114	string	Biff5					application/excel
+
+0       string	\224\246\056		application/msword
+
+0	belong	0x31be0000		application/msword
+
+0	string	PO^Q`			application/msword
+
+0	string	\320\317\021\340\241\261\032\341
+>546	string	bjbj			application/msword
+>546	string	jbjb			application/msword
+
+512	string	R\0o\0o\0t\0\ \0E\0n\0t\0r\0y	application/msword
+
+2080	string	Microsoft\ Word\ 6.0\ Document	application/msword
+2080	string	Documento\ Microsoft\ Word\ 6	application/msword
+2112	string	MSWordDoc			application/msword
+
+#0	string	\320\317\021\340\241\261\032\341	application/powerpoint
+0	string	\320\317\021\340\241\261\032\341	application/msword
+
+0       string  #\ PaCkAgE\ DaTaStReAm  application/x-svr4-package
+
+
+# WinNT/WinCE PE files (Warner Losh, imp@village.org)
+#
+128		string	PE\000\000	application/octet-stream
+0		string	PE\000\000	application/octet-stream
+
+# miscellaneous formats
+0		string	LZ		application/octet-stream
+
+
+# .EXE formats (Greg Roelofs, newt@uchicago.edu)
+#
+0		string	MZ
+>24		string	@		application/octet-stream
+
+0		string	MZ
+>30		string	Copyright\ 1989-1990\ PKWARE\ Inc.	application/x-zip
+
+0		string	MZ
+>30		string	PKLITE\ Copr.	application/x-zip
+
+0		string	MZ
+>36		string	LHa's\ SFX	application/x-lha
+
+0		string	MZ		application/octet-stream
+
+# LHA archiver
+2		string	-lh
+>6		string	-		application/x-lha
+
+
+# Zoo archiver
+20		lelong	0xfdc4a7dc	application/x-zoo
+
+# ARC archiver
+0       	lelong&0x8080ffff	0x0000081a	application/x-arc
+0		lelong&0x8080ffff	0x0000091a	application/x-arc
+0		lelong&0x8080ffff	0x0000021a	application/x-arc
+0		lelong&0x8080ffff	0x0000031a	application/x-arc
+0		lelong&0x8080ffff	0x0000041a	application/x-arc
+0		lelong&0x8080ffff	0x0000061a	application/x-arc
+
+# Microsoft Outlook's Transport Neutral Encapsulation Format (TNEF)
+0		lelong	0x223e9f78	application/ms-tnef
+
+# From: stephane.loeuillet@tiscali.f
+# http://www.djvuzone.org/
+0	string		AT&TFORM	image/x.djvu
+
+# Danny Milosavljevic <danny.milo@gmx.net>
+# this are adrift (adventure game standard) game files, extension .taf
+# depending on version magic continues with 0x93453E6139FA (V 4.0)
+# 0x9445376139FA (V 3.90)
+# 0x9445366139FA (V 3.80)
+# this is from source (http://www.adrift.org.uk/) and I have some taf
+# files, and checked them.
+#0	belong	0x3C423FC9
+#>4	belong	0x6A87C2CF	application/x-adrift
+#0	string	\000\000\001\000	image/x-ico
+
+# Quark Xpress 3 Files:
+# (made the mimetype up) 
+0	string	\0\0MMXPR3\0	application/x-quark-xpress-3
+
+# EET archive
+# From: Tilman Sauerbeck <tilman@code-monkey.de>
+0	belong	0x1ee7ff00	application/x-eet
+
+# From: Denis Knauf, via gentoo.
+0	string	fLaC		audio/x-flac
+0	string	CWS		application/x-shockwave-flash
+
+# Gnumeric spreadsheet
+# This entry is only semi-helpful, as Gnumeric compresses its files, so
+# they will ordinarily reported as "compressed", but at least -z helps
+39      string          =<gmr:Workbook           application/x-gnumeric
+
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/access_compat.load httpd-2.4.6/fink/config-dir/mods-available/access_compat.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/access_compat.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/access_compat.load	2013-08-07 21:40:55.000000000 -0600
@@ -0,0 +1 @@
+LoadModule access_compat_module @FINKPREFIX@/lib/apache2/modules/mod_access_compat.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/actions.conf httpd-2.4.6/fink/config-dir/mods-available/actions.conf
--- httpd-2.4.6.orig/fink/config-dir/mods-available/actions.conf	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/actions.conf	2013-07-21 10:47:15.000000000 -0600
@@ -0,0 +1,11 @@
+# a2enmod-note: needs-configuration
+
+#
+# Action lets you define media types that will execute a script whenever
+# a matching file is called. This eliminates the need for repeated URL
+# pathnames for oft-used CGI file processors.
+# Format: Action media/type /cgi-script/location
+# Format: Action handler-name /cgi-script/location
+#
+
+# vim: syntax=apache ts=4 sw=4 sts=4 sr noet
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/actions.load httpd-2.4.6/fink/config-dir/mods-available/actions.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/actions.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/actions.load	2013-08-07 21:41:01.000000000 -0600
@@ -0,0 +1 @@
+LoadModule actions_module @FINKPREFIX@/lib/apache2/modules/mod_actions.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/alias.conf httpd-2.4.6/fink/config-dir/mods-available/alias.conf
--- httpd-2.4.6.orig/fink/config-dir/mods-available/alias.conf	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/alias.conf	2013-08-06 18:59:38.000000000 -0600
@@ -0,0 +1,24 @@
+<IfModule alias_module>
+	# Aliases: Add here as many aliases as you need (with no limit). The format is
+	# Alias fakename realname
+	#
+	# Note that if you include a trailing / on fakename then the server will
+	# require it to be present in the URL.  So "/icons" isn't aliased in this
+	# example, only "/icons/".  If the fakename is slash-terminated, then the
+	# realname must also be slash terminated, and if the fakename omits the
+	# trailing slash, the realname must also omit it.
+	#
+	# We include the /icons/ alias for FancyIndexed directory listings.  If
+	# you do not use FancyIndexing, you may comment this out.
+
+	Alias /icons/ "@FINKPREFIX@/share/apache2/icons/"
+
+	<Directory "@FINKPREFIX@/share/apache2/icons">
+		Options FollowSymlinks
+		AllowOverride None
+		Require all granted
+	</Directory>
+
+</IfModule>
+
+# vim: syntax=apache ts=4 sw=4 sts=4 sr noet
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/alias.load httpd-2.4.6/fink/config-dir/mods-available/alias.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/alias.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/alias.load	2013-08-07 21:41:07.000000000 -0600
@@ -0,0 +1 @@
+LoadModule alias_module @FINKPREFIX@/lib/apache2/modules/mod_alias.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/allowmethods.load httpd-2.4.6/fink/config-dir/mods-available/allowmethods.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/allowmethods.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/allowmethods.load	2013-08-07 21:41:14.000000000 -0600
@@ -0,0 +1 @@
+LoadModule allowmethods_module @FINKPREFIX@/lib/apache2/modules/mod_allowmethods.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/asis.load httpd-2.4.6/fink/config-dir/mods-available/asis.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/asis.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/asis.load	2013-08-07 21:41:20.000000000 -0600
@@ -0,0 +1,2 @@
+# Depends: mime
+LoadModule asis_module @FINKPREFIX@/lib/apache2/modules/mod_asis.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/auth_basic.load httpd-2.4.6/fink/config-dir/mods-available/auth_basic.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/auth_basic.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/auth_basic.load	2013-08-07 21:41:27.000000000 -0600
@@ -0,0 +1,2 @@
+# Depends: authn_core
+LoadModule auth_basic_module @FINKPREFIX@/lib/apache2/modules/mod_auth_basic.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/auth_digest.load httpd-2.4.6/fink/config-dir/mods-available/auth_digest.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/auth_digest.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/auth_digest.load	2013-08-07 21:41:34.000000000 -0600
@@ -0,0 +1,2 @@
+# Depends: authn_core
+LoadModule auth_digest_module @FINKPREFIX@/lib/apache2/modules/mod_auth_digest.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/auth_form.load httpd-2.4.6/fink/config-dir/mods-available/auth_form.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/auth_form.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/auth_form.load	2013-08-07 21:41:41.000000000 -0600
@@ -0,0 +1,2 @@
+# Depends: session authn_core
+LoadModule auth_form_module @FINKPREFIX@/lib/apache2/modules/mod_auth_form.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/authn_anon.load httpd-2.4.6/fink/config-dir/mods-available/authn_anon.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/authn_anon.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/authn_anon.load	2013-08-07 21:41:48.000000000 -0600
@@ -0,0 +1 @@
+LoadModule authn_anon_module @FINKPREFIX@/lib/apache2/modules/mod_authn_anon.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/authn_core.load httpd-2.4.6/fink/config-dir/mods-available/authn_core.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/authn_core.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/authn_core.load	2013-08-07 21:41:54.000000000 -0600
@@ -0,0 +1 @@
+LoadModule authn_core_module @FINKPREFIX@/lib/apache2/modules/mod_authn_core.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/authn_dbd.load httpd-2.4.6/fink/config-dir/mods-available/authn_dbd.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/authn_dbd.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/authn_dbd.load	2013-08-07 21:42:00.000000000 -0600
@@ -0,0 +1,2 @@
+# Depends: dbd
+LoadModule authn_dbd_module @FINKPREFIX@/lib/apache2/modules/mod_authn_dbd.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/authn_dbm.load httpd-2.4.6/fink/config-dir/mods-available/authn_dbm.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/authn_dbm.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/authn_dbm.load	2013-08-07 21:42:06.000000000 -0600
@@ -0,0 +1 @@
+LoadModule authn_dbm_module @FINKPREFIX@/lib/apache2/modules/mod_authn_dbm.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/authn_file.load httpd-2.4.6/fink/config-dir/mods-available/authn_file.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/authn_file.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/authn_file.load	2013-08-07 21:42:13.000000000 -0600
@@ -0,0 +1 @@
+LoadModule authn_file_module @FINKPREFIX@/lib/apache2/modules/mod_authn_file.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/authn_socache.load httpd-2.4.6/fink/config-dir/mods-available/authn_socache.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/authn_socache.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/authn_socache.load	2013-08-07 21:42:19.000000000 -0600
@@ -0,0 +1 @@
+LoadModule authn_socache_module @FINKPREFIX@/lib/apache2/modules/mod_authn_socache.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/authnz_ldap.load httpd-2.4.6/fink/config-dir/mods-available/authnz_ldap.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/authnz_ldap.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/authnz_ldap.load	2013-08-07 21:42:26.000000000 -0600
@@ -0,0 +1,2 @@
+# Depends: ldap
+LoadModule authnz_ldap_module @FINKPREFIX@/lib/apache2/modules/mod_authnz_ldap.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/authz_core.load httpd-2.4.6/fink/config-dir/mods-available/authz_core.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/authz_core.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/authz_core.load	2013-08-07 21:42:32.000000000 -0600
@@ -0,0 +1 @@
+LoadModule authz_core_module @FINKPREFIX@/lib/apache2/modules/mod_authz_core.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/authz_dbd.load httpd-2.4.6/fink/config-dir/mods-available/authz_dbd.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/authz_dbd.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/authz_dbd.load	2013-08-07 21:42:38.000000000 -0600
@@ -0,0 +1,2 @@
+# Depends: dbd authz_core
+LoadModule authz_dbd_module @FINKPREFIX@/lib/apache2/modules/mod_authz_dbd.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/authz_dbm.load httpd-2.4.6/fink/config-dir/mods-available/authz_dbm.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/authz_dbm.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/authz_dbm.load	2013-08-07 21:42:45.000000000 -0600
@@ -0,0 +1,2 @@
+# Depends: authz_core
+LoadModule authz_dbm_module @FINKPREFIX@/lib/apache2/modules/mod_authz_dbm.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/authz_groupfile.load httpd-2.4.6/fink/config-dir/mods-available/authz_groupfile.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/authz_groupfile.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/authz_groupfile.load	2013-08-07 21:42:52.000000000 -0600
@@ -0,0 +1,2 @@
+# Depends: authz_core
+LoadModule authz_groupfile_module @FINKPREFIX@/lib/apache2/modules/mod_authz_groupfile.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/authz_host.load httpd-2.4.6/fink/config-dir/mods-available/authz_host.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/authz_host.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/authz_host.load	2013-08-07 21:42:58.000000000 -0600
@@ -0,0 +1,2 @@
+# Depends: authz_core
+LoadModule authz_host_module @FINKPREFIX@/lib/apache2/modules/mod_authz_host.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/authz_owner.load httpd-2.4.6/fink/config-dir/mods-available/authz_owner.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/authz_owner.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/authz_owner.load	2013-08-07 21:43:04.000000000 -0600
@@ -0,0 +1 @@
+LoadModule authz_owner_module @FINKPREFIX@/lib/apache2/modules/mod_authz_owner.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/authz_user.load httpd-2.4.6/fink/config-dir/mods-available/authz_user.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/authz_user.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/authz_user.load	2013-08-07 21:43:11.000000000 -0600
@@ -0,0 +1,2 @@
+# Depends: authz_core
+LoadModule authz_user_module @FINKPREFIX@/lib/apache2/modules/mod_authz_user.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/autoindex.conf httpd-2.4.6/fink/config-dir/mods-available/autoindex.conf
--- httpd-2.4.6.orig/fink/config-dir/mods-available/autoindex.conf	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/autoindex.conf	2013-07-21 10:47:15.000000000 -0600
@@ -0,0 +1,96 @@
+<IfModule mod_autoindex.c>
+	# Directives controlling the display of server-generated directory listings.
+
+	#
+	# IndexOptions: Controls the appearance of server-generated directory
+	# listings.
+	# Remove/replace the "Charset=UTF-8" if you don't use UTF-8 for your filenames.
+	IndexOptions FancyIndexing VersionSort HTMLTable NameWidth=* DescriptionWidth=* Charset=UTF-8
+
+	#
+	# AddIcon* directives tell the server which icon to show for different
+	# files or filename extensions.  These are only displayed for
+	# FancyIndexed directories.
+	AddIconByEncoding (CMP,/icons/compressed.gif) x-compress x-gzip x-bzip2
+
+	AddIconByType (TXT,/icons/text.gif) text/*
+	AddIconByType (IMG,/icons/image2.gif) image/*
+	AddIconByType (SND,/icons/sound2.gif) audio/*
+	AddIconByType (VID,/icons/movie.gif) video/*
+
+	AddIcon /icons/binary.gif .bin .exe
+	AddIcon /icons/binhex.gif .hqx
+	AddIcon /icons/tar.gif .tar
+	AddIcon /icons/world2.gif .wrl .wrl.gz .vrml .vrm .iv
+	AddIcon /icons/compressed.gif .Z .z .tgz .gz .zip
+	AddIcon /icons/a.gif .ps .ai .eps
+	AddIcon /icons/layout.gif .html .shtml .htm .pdf
+	AddIcon /icons/text.gif .txt
+	AddIcon /icons/c.gif .c
+	AddIcon /icons/p.gif .pl .py
+	AddIcon /icons/f.gif .for
+	AddIcon /icons/dvi.gif .dvi
+	AddIcon /icons/uuencoded.gif .uu
+	AddIcon /icons/script.gif .conf .sh .shar .csh .ksh .tcl
+	AddIcon /icons/tex.gif .tex
+	# It's a suffix rule, so simply matching "core" matches "score" as well !
+	AddIcon /icons/bomb.gif /core
+	AddIcon (SND,/icons/sound2.gif) .ogg
+	AddIcon (VID,/icons/movie.gif) .ogm
+
+	AddIcon /icons/back.gif ..
+	AddIcon /icons/hand.right.gif README
+	AddIcon /icons/folder.gif ^^DIRECTORY^^
+	AddIcon /icons/blank.gif ^^BLANKICON^^
+
+	# Default icons for OpenDocument format
+	AddIcon /icons/odf6odt-20x22.png .odt
+	AddIcon /icons/odf6ods-20x22.png .ods
+	AddIcon /icons/odf6odp-20x22.png .odp
+	AddIcon /icons/odf6odg-20x22.png .odg
+	AddIcon /icons/odf6odc-20x22.png .odc
+	AddIcon /icons/odf6odf-20x22.png .odf
+	AddIcon /icons/odf6odb-20x22.png .odb
+	AddIcon /icons/odf6odi-20x22.png .odi
+	AddIcon /icons/odf6odm-20x22.png .odm
+
+	AddIcon /icons/odf6ott-20x22.png .ott
+	AddIcon /icons/odf6ots-20x22.png .ots
+	AddIcon /icons/odf6otp-20x22.png .otp
+	AddIcon /icons/odf6otg-20x22.png .otg
+	AddIcon /icons/odf6otc-20x22.png .otc
+	AddIcon /icons/odf6otf-20x22.png .otf
+	AddIcon /icons/odf6oti-20x22.png .oti
+	AddIcon /icons/odf6oth-20x22.png .oth
+
+	#
+	# DefaultIcon is which icon to show for files which do not have an icon
+	# explicitly set.
+	DefaultIcon /icons/unknown.gif
+
+	#
+	# AddDescription allows you to place a short description after a file in
+	# server-generated indexes.  These are only displayed for FancyIndexed
+	# directories.
+	# Format: AddDescription "description" filename
+	#AddDescription "GZIP compressed document" .gz
+	#AddDescription "tar archive" .tar
+	#AddDescription "GZIP compressed tar archive" .tgz
+
+	#
+	# ReadmeName is the name of the README file the server will look for by
+	# default, and append to directory listings.
+	#
+	# HeaderName is the name of a file which should be prepended to
+	# directory indexes
+	ReadmeName README.html
+	HeaderName HEADER.html
+
+	#
+	# IndexIgnore is a set of filenames which directory indexing should ignore
+	# and not include in the listing.  Shell-style wildcarding is permitted.
+	IndexIgnore .??* *~ *# RCS CVS *,v *,t
+
+</IfModule>
+
+# vim: syntax=apache ts=4 sw=4 sts=4 sr noet
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/autoindex.load httpd-2.4.6/fink/config-dir/mods-available/autoindex.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/autoindex.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/autoindex.load	2013-08-07 21:43:16.000000000 -0600
@@ -0,0 +1 @@
+LoadModule autoindex_module @FINKPREFIX@/lib/apache2/modules/mod_autoindex.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/buffer.load httpd-2.4.6/fink/config-dir/mods-available/buffer.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/buffer.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/buffer.load	2013-08-07 21:43:22.000000000 -0600
@@ -0,0 +1 @@
+LoadModule buffer_module @FINKPREFIX@/lib/apache2/modules/mod_buffer.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/cache.load httpd-2.4.6/fink/config-dir/mods-available/cache.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/cache.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/cache.load	2013-08-07 21:43:28.000000000 -0600
@@ -0,0 +1 @@
+LoadModule cache_module @FINKPREFIX@/lib/apache2/modules/mod_cache.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/cache_disk.conf httpd-2.4.6/fink/config-dir/mods-available/cache_disk.conf
--- httpd-2.4.6.orig/fink/config-dir/mods-available/cache_disk.conf	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/cache_disk.conf	2013-08-06 19:00:23.000000000 -0600
@@ -0,0 +1,27 @@
+<IfModule mod_cache_disk.c>
+
+	# cache cleaning is done by htcacheclean, which can be configured in
+	# @FINKPREFIX@/etc/default/apache2
+	#
+	# For further information, see the comments in that file,
+	# @FINKPREFIX@/share/doc/apache2/README, and the htcacheclean(8)
+	# man page.
+
+	# This path must be the same as the one in @FINKPREFIX@/etc/default/apache2
+	CacheRoot @FINKPREFIX@/var/cache/apache2/mod_cache_disk
+
+	# This will also cache local documents. It usually makes more sense to
+	# put this into the configuration for just one virtual host.
+	#CacheEnable disk /
+
+
+    # The result of CacheDirLevels * CacheDirLength must not be higher than
+    # 20. Moreover, pay attention on file system limits. Some file systems
+    # do not support more than a certain number of inodes and
+    # subdirectories (e.g. 32000 for ext3)
+    CacheDirLevels 2
+    CacheDirLength 1
+
+</IfModule>
+
+# vim: syntax=apache ts=4 sw=4 sts=4 sr noet
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/cache_disk.load httpd-2.4.6/fink/config-dir/mods-available/cache_disk.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/cache_disk.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/cache_disk.load	2013-08-07 21:43:34.000000000 -0600
@@ -0,0 +1,2 @@
+# Depends: cache
+LoadModule cache_disk_module @FINKPREFIX@/lib/apache2/modules/mod_cache_disk.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/cache_socache.load httpd-2.4.6/fink/config-dir/mods-available/cache_socache.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/cache_socache.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/cache_socache.load	2013-08-07 21:43:41.000000000 -0600
@@ -0,0 +1,2 @@
+# Depends: cache
+LoadModule cache_socache_module @FINKPREFIX@/lib/apache2/modules/mod_cache_socache.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/cgi.load httpd-2.4.6/fink/config-dir/mods-available/cgi.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/cgi.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/cgi.load	2013-08-07 21:43:46.000000000 -0600
@@ -0,0 +1 @@
+LoadModule cgi_module @FINKPREFIX@/lib/apache2/modules/mod_cgi.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/cgid.conf httpd-2.4.6/fink/config-dir/mods-available/cgid.conf
--- httpd-2.4.6.orig/fink/config-dir/mods-available/cgid.conf	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/cgid.conf	2013-07-21 10:47:15.000000000 -0600
@@ -0,0 +1,4 @@
+# Socket for cgid communication
+ScriptSock ${APACHE_RUN_DIR}/cgisock
+
+# vim: syntax=apache ts=4 sw=4 sts=4 sr noet
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/cgid.load httpd-2.4.6/fink/config-dir/mods-available/cgid.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/cgid.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/cgid.load	2013-08-07 21:43:52.000000000 -0600
@@ -0,0 +1 @@
+LoadModule cgid_module @FINKPREFIX@/lib/apache2/modules/mod_cgid.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/charset_lite.load httpd-2.4.6/fink/config-dir/mods-available/charset_lite.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/charset_lite.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/charset_lite.load	2013-08-07 21:43:58.000000000 -0600
@@ -0,0 +1 @@
+LoadModule charset_lite_module @FINKPREFIX@/lib/apache2/modules/mod_charset_lite.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/data.load httpd-2.4.6/fink/config-dir/mods-available/data.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/data.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/data.load	2013-08-07 21:44:04.000000000 -0600
@@ -0,0 +1 @@
+LoadModule data_module @FINKPREFIX@/lib/apache2/modules/mod_data.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/dav.load httpd-2.4.6/fink/config-dir/mods-available/dav.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/dav.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/dav.load	2013-08-07 21:44:09.000000000 -0600
@@ -0,0 +1 @@
+LoadModule dav_module @FINKPREFIX@/lib/apache2/modules/mod_dav.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/dav_fs.conf httpd-2.4.6/fink/config-dir/mods-available/dav_fs.conf
--- httpd-2.4.6.orig/fink/config-dir/mods-available/dav_fs.conf	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/dav_fs.conf	2013-07-21 10:47:15.000000000 -0600
@@ -0,0 +1,3 @@
+DAVLockDB ${APACHE_LOCK_DIR}/DAVLock
+
+# vim: syntax=apache ts=4 sw=4 sts=4 sr noet
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/dav_fs.load httpd-2.4.6/fink/config-dir/mods-available/dav_fs.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/dav_fs.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/dav_fs.load	2013-08-07 21:44:16.000000000 -0600
@@ -0,0 +1,2 @@
+# Depends: dav
+LoadModule dav_fs_module @FINKPREFIX@/lib/apache2/modules/mod_dav_fs.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/dav_lock.load httpd-2.4.6/fink/config-dir/mods-available/dav_lock.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/dav_lock.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/dav_lock.load	2013-08-07 21:44:22.000000000 -0600
@@ -0,0 +1 @@
+LoadModule dav_lock_module @FINKPREFIX@/lib/apache2/modules/mod_dav_lock.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/dbd.load httpd-2.4.6/fink/config-dir/mods-available/dbd.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/dbd.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/dbd.load	2013-08-07 21:44:27.000000000 -0600
@@ -0,0 +1 @@
+LoadModule dbd_module @FINKPREFIX@/lib/apache2/modules/mod_dbd.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/deflate.conf httpd-2.4.6/fink/config-dir/mods-available/deflate.conf
--- httpd-2.4.6.orig/fink/config-dir/mods-available/deflate.conf	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/deflate.conf	2013-07-21 10:47:15.000000000 -0600
@@ -0,0 +1,14 @@
+<IfModule mod_deflate.c>
+	<IfModule mod_filter.c>
+		# these are known to be safe with MSIE 6
+		AddOutputFilterByType DEFLATE text/html text/plain text/xml
+
+		# everything else may cause problems with MSIE 6
+		AddOutputFilterByType DEFLATE text/css
+		AddOutputFilterByType DEFLATE application/x-javascript application/javascript application/ecmascript
+		AddOutputFilterByType DEFLATE application/rss+xml
+		AddOutputFilterByType DEFLATE application/xml
+	</IfModule>
+</IfModule>
+
+# vim: syntax=apache ts=4 sw=4 sts=4 sr noet
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/deflate.load httpd-2.4.6/fink/config-dir/mods-available/deflate.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/deflate.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/deflate.load	2013-08-07 21:44:34.000000000 -0600
@@ -0,0 +1,2 @@
+# Depends: filter
+LoadModule deflate_module @FINKPREFIX@/lib/apache2/modules/mod_deflate.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/dialup.load httpd-2.4.6/fink/config-dir/mods-available/dialup.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/dialup.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/dialup.load	2013-08-07 21:44:40.000000000 -0600
@@ -0,0 +1 @@
+LoadModule dialup_module @FINKPREFIX@/lib/apache2/modules/mod_dialup.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/dir.conf httpd-2.4.6/fink/config-dir/mods-available/dir.conf
--- httpd-2.4.6.orig/fink/config-dir/mods-available/dir.conf	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/dir.conf	2013-07-21 10:47:15.000000000 -0600
@@ -0,0 +1,5 @@
+<IfModule mod_dir.c>
+	DirectoryIndex index.html index.cgi index.pl index.php index.xhtml index.htm
+</IfModule>
+
+# vim: syntax=apache ts=4 sw=4 sts=4 sr noet
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/dir.load httpd-2.4.6/fink/config-dir/mods-available/dir.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/dir.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/dir.load	2013-08-07 21:44:45.000000000 -0600
@@ -0,0 +1 @@
+LoadModule dir_module @FINKPREFIX@/lib/apache2/modules/mod_dir.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/dump_io.load httpd-2.4.6/fink/config-dir/mods-available/dump_io.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/dump_io.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/dump_io.load	2013-08-07 21:44:51.000000000 -0600
@@ -0,0 +1 @@
+LoadModule dumpio_module @FINKPREFIX@/lib/apache2/modules/mod_dumpio.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/echo.load httpd-2.4.6/fink/config-dir/mods-available/echo.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/echo.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/echo.load	2013-08-07 21:44:56.000000000 -0600
@@ -0,0 +1 @@
+LoadModule echo_module @FINKPREFIX@/lib/apache2/modules/mod_echo.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/env.load httpd-2.4.6/fink/config-dir/mods-available/env.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/env.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/env.load	2013-08-07 21:45:01.000000000 -0600
@@ -0,0 +1 @@
+LoadModule env_module @FINKPREFIX@/lib/apache2/modules/mod_env.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/expires.load httpd-2.4.6/fink/config-dir/mods-available/expires.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/expires.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/expires.load	2013-08-07 21:45:07.000000000 -0600
@@ -0,0 +1 @@
+LoadModule expires_module @FINKPREFIX@/lib/apache2/modules/mod_expires.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/ext_filter.load httpd-2.4.6/fink/config-dir/mods-available/ext_filter.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/ext_filter.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/ext_filter.load	2013-08-07 21:45:13.000000000 -0600
@@ -0,0 +1 @@
+LoadModule ext_filter_module @FINKPREFIX@/lib/apache2/modules/mod_ext_filter.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/file_cache.load httpd-2.4.6/fink/config-dir/mods-available/file_cache.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/file_cache.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/file_cache.load	2013-08-07 21:45:19.000000000 -0600
@@ -0,0 +1,2 @@
+# Depends: cache
+LoadModule file_cache_module @FINKPREFIX@/lib/apache2/modules/mod_file_cache.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/filter.load httpd-2.4.6/fink/config-dir/mods-available/filter.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/filter.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/filter.load	2013-08-07 21:45:24.000000000 -0600
@@ -0,0 +1 @@
+LoadModule filter_module @FINKPREFIX@/lib/apache2/modules/mod_filter.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/headers.load httpd-2.4.6/fink/config-dir/mods-available/headers.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/headers.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/headers.load	2013-08-07 21:45:29.000000000 -0600
@@ -0,0 +1 @@
+LoadModule headers_module @FINKPREFIX@/lib/apache2/modules/mod_headers.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/heartbeat.load httpd-2.4.6/fink/config-dir/mods-available/heartbeat.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/heartbeat.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/heartbeat.load	2013-08-07 21:45:47.000000000 -0600
@@ -0,0 +1,3 @@
+# This module depends on mod_watchdog to be loaded before. In Fink, this
+# module is statically linked.
+LoadModule heartbeat_module @FINKPREFIX@/lib/apache2/modules/mod_heartbeat.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/heartmonitor.load httpd-2.4.6/fink/config-dir/mods-available/heartmonitor.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/heartmonitor.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/heartmonitor.load	2013-08-07 21:46:00.000000000 -0600
@@ -0,0 +1,3 @@
+# This module depends on mod_watchdog to be loaded before. In Fink, this
+# module is statically linked.
+LoadModule heartmonitor_module @FINKPREFIX@/lib/apache2/modules/mod_heartmonitor.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/include.load httpd-2.4.6/fink/config-dir/mods-available/include.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/include.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/include.load	2013-08-07 21:46:06.000000000 -0600
@@ -0,0 +1,2 @@
+# Depends: mime
+LoadModule include_module @FINKPREFIX@/lib/apache2/modules/mod_include.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/info.conf httpd-2.4.6/fink/config-dir/mods-available/info.conf
--- httpd-2.4.6.orig/fink/config-dir/mods-available/info.conf	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/info.conf	2013-07-21 10:47:15.000000000 -0600
@@ -0,0 +1,15 @@
+<IfModule mod_info.c>
+
+	# Allow remote server configuration reports, with the URL of
+	#  http://servername/server-info (requires that mod_info.c be loaded).
+	# Uncomment and change the "192.0.2.0/24" to allow access from other hosts.
+	#
+	<Location /server-info>
+		SetHandler server-info
+		Require local
+		#Require ip 192.0.2.0/24
+	</Location>
+
+</IfModule>
+
+# vim: syntax=apache ts=4 sw=4 sts=4 sr noet
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/info.load httpd-2.4.6/fink/config-dir/mods-available/info.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/info.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/info.load	2013-08-07 21:46:12.000000000 -0600
@@ -0,0 +1 @@
+LoadModule info_module @FINKPREFIX@/lib/apache2/modules/mod_info.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/lbmethod_bybusyness.load httpd-2.4.6/fink/config-dir/mods-available/lbmethod_bybusyness.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/lbmethod_bybusyness.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/lbmethod_bybusyness.load	2013-08-23 09:29:43.000000000 -0600
@@ -0,0 +1,2 @@
+# Depends: proxy_balancer
+LoadModule lbmethod_bybusyness_module @FINKPREFIX@/lib/apache2/modules/mod_lbmethod_bybusyness.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/lbmethod_byrequests.load httpd-2.4.6/fink/config-dir/mods-available/lbmethod_byrequests.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/lbmethod_byrequests.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/lbmethod_byrequests.load	2013-08-23 09:29:56.000000000 -0600
@@ -0,0 +1,2 @@
+# Depends: proxy_balancer
+LoadModule lbmethod_byrequests_module @FINKPREFIX@/lib/apache2/modules/mod_lbmethod_byrequests.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/lbmethod_bytraffic.load httpd-2.4.6/fink/config-dir/mods-available/lbmethod_bytraffic.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/lbmethod_bytraffic.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/lbmethod_bytraffic.load	2013-08-23 09:30:07.000000000 -0600
@@ -0,0 +1,2 @@
+# Depends: proxy_balancer
+LoadModule lbmethod_bytraffic_module @FINKPREFIX@/lib/apache2/modules/mod_lbmethod_bytraffic.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/lbmethod_heartbeat.load httpd-2.4.6/fink/config-dir/mods-available/lbmethod_heartbeat.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/lbmethod_heartbeat.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/lbmethod_heartbeat.load	2013-08-23 09:30:18.000000000 -0600
@@ -0,0 +1,2 @@
+# Depends: proxy_balancer
+LoadModule lbmethod_heartbeat_module @FINKPREFIX@/lib/apache2/modules/mod_lbmethod_heartbeat.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/ldap.conf httpd-2.4.6/fink/config-dir/mods-available/ldap.conf
--- httpd-2.4.6.orig/fink/config-dir/mods-available/ldap.conf	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/ldap.conf	2013-07-21 10:47:15.000000000 -0600
@@ -0,0 +1,6 @@
+<Location /ldap-status>
+	SetHandler ldap-status
+	Require local
+</Location>
+
+# vim: syntax=apache ts=4 sw=4 sts=4 sr noet
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/ldap.load httpd-2.4.6/fink/config-dir/mods-available/ldap.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/ldap.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/ldap.load	2013-08-07 21:46:52.000000000 -0600
@@ -0,0 +1 @@
+LoadModule ldap_module @FINKPREFIX@/lib/apache2/modules/mod_ldap.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/log_debug.load httpd-2.4.6/fink/config-dir/mods-available/log_debug.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/log_debug.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/log_debug.load	2013-08-07 21:46:58.000000000 -0600
@@ -0,0 +1 @@
+LoadModule log_debug_module @FINKPREFIX@/lib/apache2/modules/mod_log_debug.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/log_forensic.load httpd-2.4.6/fink/config-dir/mods-available/log_forensic.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/log_forensic.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/log_forensic.load	2013-08-07 21:47:04.000000000 -0600
@@ -0,0 +1 @@
+LoadModule log_forensic_module @FINKPREFIX@/lib/apache2/modules/mod_log_forensic.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/lua.load httpd-2.4.6/fink/config-dir/mods-available/lua.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/lua.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/lua.load	2013-08-07 21:47:10.000000000 -0600
@@ -0,0 +1 @@
+LoadModule lua_module @FINKPREFIX@/lib/apache2/modules/mod_lua.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/macro.load httpd-2.4.6/fink/config-dir/mods-available/macro.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/macro.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/macro.load	2013-08-07 21:47:16.000000000 -0600
@@ -0,0 +1 @@
+LoadModule macro_module @FINKPREFIX@/lib/apache2/modules/mod_macro.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/mime.conf httpd-2.4.6/fink/config-dir/mods-available/mime.conf
--- httpd-2.4.6.orig/fink/config-dir/mods-available/mime.conf	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/mime.conf	2013-08-06 19:01:26.000000000 -0600
@@ -0,0 +1,249 @@
+<IfModule mod_mime.c>
+
+	#
+	# TypesConfig points to the file containing the list of mappings from
+	# filename extension to MIME-type.
+	#
+	TypesConfig @FINKPREFIX@/etc/mime.types
+
+	#
+	# AddType allows you to add to or override the MIME configuration
+	# file mime.types for specific file types.
+	#
+	#AddType application/x-gzip .tgz
+	#
+	# AddEncoding allows you to have certain browsers uncompress
+	# information on the fly. Note: Not all browsers support this.
+	# Despite the name similarity, the following Add* directives have
+	# nothing to do with the FancyIndexing customization directives above.
+	#
+	#AddEncoding x-compress .Z
+	#AddEncoding x-gzip .gz .tgz
+	#AddEncoding x-bzip2 .bz2
+	#
+	# If the AddEncoding directives above are commented-out, then you
+	# probably should define those extensions to indicate media types:
+	#
+	AddType application/x-compress .Z
+	AddType application/x-gzip .gz .tgz
+	AddType application/x-bzip2 .bz2
+
+	#
+	# DefaultLanguage and AddLanguage allows you to specify the language of 
+	# a document. You can then use content negotiation to give a browser a 
+	# file in a language the user can understand.
+	#
+	# Specify a default language. This means that all data
+	# going out without a specific language tag (see below) will 
+	# be marked with this one. You probably do NOT want to set
+	# this unless you are sure it is correct for all cases.
+	#
+	# * It is generally better to not mark a page as 
+	# * being a certain language than marking it with the wrong
+	# * language!
+	#
+	# DefaultLanguage nl
+	#
+	# Note 1: The suffix does not have to be the same as the language
+	# keyword --- those with documents in Polish (whose net-standard
+	# language code is pl) may wish to use "AddLanguage pl .po" to
+	# avoid the ambiguity with the common suffix for perl scripts.
+	#
+	# Note 2: The example entries below illustrate that in some cases 
+	# the two character 'Language' abbreviation is not identical to 
+	# the two character 'Country' code for its country,
+	# E.g. 'Danmark/dk' versus 'Danish/da'.
+	#
+	# Note 3: In the case of 'ltz' we violate the RFC by using a three char
+	# specifier. There is 'work in progress' to fix this and get
+	# the reference data for rfc1766 cleaned up.
+	#
+	# Catalan (ca) - Croatian (hr) - Czech (cs) - Danish (da) - Dutch (nl)
+	# English (en) - Esperanto (eo) - Estonian (et) - French (fr) - German (de)
+	# Greek-Modern (el) - Hebrew (he) - Italian (it) - Japanese (ja)
+	# Korean (ko) - Luxembourgeois* (ltz) - Norwegian Nynorsk (nn)
+	# Norwegian (no) - Polish (pl) - Portugese (pt)
+	# Brazilian Portuguese (pt-BR) - Russian (ru) - Swedish (sv)
+	# Simplified Chinese (zh-CN) - Spanish (es) - Traditional Chinese (zh-TW)
+	#
+	AddLanguage am .amh
+	AddLanguage ar .ara
+	AddLanguage be .be
+	AddLanguage bg .bg
+	AddLanguage bn .bn
+	AddLanguage br .br
+	AddLanguage bs .bs
+	AddLanguage ca .ca
+	AddLanguage cs .cz .cs
+	AddLanguage cy .cy
+	AddLanguage da .dk
+	AddLanguage de .de
+	AddLanguage dz .dz
+	AddLanguage el .el
+	AddLanguage en .en
+	AddLanguage eo .eo
+	# es is ecmascript in /etc/mime.types
+	RemoveType  es
+	AddLanguage es .es
+	AddLanguage et .et
+	AddLanguage eu .eu
+	AddLanguage fa .fa
+	AddLanguage fi .fi
+	AddLanguage fr .fr
+	AddLanguage ga .ga
+	AddLanguage gl .glg
+	AddLanguage gu .gu
+	AddLanguage he .he
+	AddLanguage hi .hi
+	AddLanguage hr .hr
+	AddLanguage hu .hu
+	AddLanguage hy .hy
+	AddLanguage id .id
+	AddLanguage is .is
+	AddLanguage it .it
+	AddLanguage ja .ja
+	AddLanguage ka .ka
+	AddLanguage kk .kk
+	AddLanguage km .km
+	AddLanguage kn .kn
+	AddLanguage ko .ko
+	AddLanguage ku .ku
+	AddLanguage lo .lo
+	AddLanguage lt .lt
+	AddLanguage ltz .ltz
+	AddLanguage lv .lv
+	AddLanguage mg .mg
+	AddLanguage mk .mk
+	AddLanguage ml .ml
+	AddLanguage mr .mr
+	AddLanguage ms .msa
+	AddLanguage nb .nob
+	AddLanguage ne .ne
+	AddLanguage nl .nl
+	AddLanguage nn .nn
+	AddLanguage no .no
+	AddLanguage pa .pa
+	AddLanguage pl .po
+	AddLanguage pt-BR .pt-br
+	AddLanguage pt .pt
+	AddLanguage ro .ro
+	AddLanguage ru .ru
+	AddLanguage sa .sa
+	AddLanguage se .se
+	AddLanguage si .si
+	AddLanguage sk .sk
+	AddLanguage sl .sl
+	AddLanguage sq .sq
+	AddLanguage sr .sr
+	AddLanguage sv .sv
+	AddLanguage ta .ta
+	AddLanguage te .te
+	AddLanguage th .th
+	AddLanguage tl .tl
+	RemoveType  tr
+	# tr is troff in /etc/mime.types
+	AddLanguage tr .tr
+	AddLanguage uk .uk
+	AddLanguage ur .ur
+	AddLanguage vi .vi
+	AddLanguage wo .wo
+	AddLanguage xh .xh
+	AddLanguage zh-CN .zh-cn
+	AddLanguage zh-TW .zh-tw
+
+	#
+	# Commonly used filename extensions to character sets. You probably
+	# want to avoid clashes with the language extensions, unless you
+	# are good at carefully testing your setup after each change.
+	# See http://www.iana.org/assignments/character-sets for the
+	# official list of charset names and their respective RFCs.
+	#
+	AddCharset us-ascii	.ascii .us-ascii
+	AddCharset ISO-8859-1  .iso8859-1  .latin1
+	AddCharset ISO-8859-2  .iso8859-2  .latin2 .cen
+	AddCharset ISO-8859-3  .iso8859-3  .latin3
+	AddCharset ISO-8859-4  .iso8859-4  .latin4
+	AddCharset ISO-8859-5  .iso8859-5  .cyr .iso-ru
+	AddCharset ISO-8859-6  .iso8859-6  .arb .arabic
+	AddCharset ISO-8859-7  .iso8859-7  .grk .greek
+	AddCharset ISO-8859-8  .iso8859-8  .heb .hebrew
+	AddCharset ISO-8859-9  .iso8859-9  .latin5 .trk
+	AddCharset ISO-8859-10  .iso8859-10  .latin6
+	AddCharset ISO-8859-13  .iso8859-13
+	AddCharset ISO-8859-14  .iso8859-14  .latin8
+	AddCharset ISO-8859-15  .iso8859-15  .latin9
+	AddCharset ISO-8859-16  .iso8859-16  .latin10
+	AddCharset ISO-2022-JP .iso2022-jp .jis
+	AddCharset ISO-2022-KR .iso2022-kr .kis
+	AddCharset ISO-2022-CN .iso2022-cn .cis
+	AddCharset Big5		.Big5	   .big5 .b5
+	AddCharset cn-Big5	 .cn-big5
+	# For russian, more than one charset is used (depends on client, mostly):
+	AddCharset WINDOWS-1251 .cp-1251   .win-1251
+	AddCharset CP866	   .cp866
+	AddCharset KOI8	  .koi8
+	AddCharset KOI8-E	  .koi8-e
+	AddCharset KOI8-r	  .koi8-r .koi8-ru
+	AddCharset KOI8-U	  .koi8-u
+	AddCharset KOI8-ru	 .koi8-uk .ua
+	AddCharset ISO-10646-UCS-2 .ucs2
+	AddCharset ISO-10646-UCS-4 .ucs4
+	AddCharset UTF-7	   .utf7
+	AddCharset UTF-8	   .utf8
+	AddCharset UTF-16	  .utf16
+	AddCharset UTF-16BE	.utf16be
+	AddCharset UTF-16LE	.utf16le
+	AddCharset UTF-32	  .utf32
+	AddCharset UTF-32BE	.utf32be
+	AddCharset UTF-32LE	.utf32le
+	AddCharset euc-cn	  .euc-cn
+	AddCharset euc-gb	  .euc-gb
+	AddCharset euc-jp	  .euc-jp
+	AddCharset euc-kr	  .euc-kr
+	#Not sure how euc-tw got in - IANA doesn't list it???
+	AddCharset EUC-TW	  .euc-tw
+	AddCharset gb2312	  .gb2312 .gb
+	AddCharset iso-10646-ucs-2 .ucs-2 .iso-10646-ucs-2
+	AddCharset iso-10646-ucs-4 .ucs-4 .iso-10646-ucs-4
+	AddCharset shift_jis   .shift_jis .sjis
+	AddCharset BRF		 .brf
+
+	#
+	# AddHandler allows you to map certain file extensions to "handlers":
+	# actions unrelated to filetype. These can be either built into the server
+	# or added with the Action directive (see below)
+	#
+	# To use CGI scripts outside of ScriptAliased directories:
+	# (You will also need to add "ExecCGI" to the "Options" directive.)
+	#
+	#AddHandler cgi-script .cgi
+
+	#
+	# For files that include their own HTTP headers:
+	#
+	#AddHandler send-as-is asis
+
+	#
+	# For server-parsed imagemap files:
+	#
+	#AddHandler imap-file map
+
+	#
+	# For type maps (negotiated resources):
+	# (This is enabled by default to allow the Apache "It Worked" page
+	#  to be distributed in multiple languages.)
+	#
+	AddHandler type-map var
+
+	#
+	# Filters allow you to process content before it is sent to the client.
+	#
+	# To parse .shtml files for server-side includes (SSI):
+	# (You will also need to add "Includes" to the "Options" directive.)
+	#
+	AddType text/html .shtml
+	AddOutputFilter INCLUDES .shtml
+
+</IfModule>
+
+# vim: syntax=apache ts=4 sw=4 sts=4 sr noet
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/mime.load httpd-2.4.6/fink/config-dir/mods-available/mime.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/mime.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/mime.load	2013-08-07 21:47:23.000000000 -0600
@@ -0,0 +1 @@
+LoadModule mime_module @FINKPREFIX@/lib/apache2/modules/mod_mime.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/mime_magic.conf httpd-2.4.6/fink/config-dir/mods-available/mime_magic.conf
--- httpd-2.4.6.orig/fink/config-dir/mods-available/mime_magic.conf	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/mime_magic.conf	2013-08-06 19:01:34.000000000 -0600
@@ -0,0 +1,5 @@
+<IfModule mod_mime_magic.c>
+	MIMEMagicFile @FINKPREFIX@/etc/apache2/magic
+</IfModule>
+
+# vim: syntax=apache ts=4 sw=4 sts=4 sr noet
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/mime_magic.load httpd-2.4.6/fink/config-dir/mods-available/mime_magic.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/mime_magic.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/mime_magic.load	2013-08-07 21:47:29.000000000 -0600
@@ -0,0 +1 @@
+LoadModule mime_magic_module @FINKPREFIX@/lib/apache2/modules/mod_mime_magic.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/mpm_event.conf httpd-2.4.6/fink/config-dir/mods-available/mpm_event.conf
--- httpd-2.4.6.orig/fink/config-dir/mods-available/mpm_event.conf	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/mpm_event.conf	2013-07-21 10:47:15.000000000 -0600
@@ -0,0 +1,18 @@
+# event MPM
+# StartServers: initial number of server processes to start
+# MinSpareThreads: minimum number of worker threads which are kept spare
+# MaxSpareThreads: maximum number of worker threads which are kept spare
+# ThreadsPerChild: constant number of worker threads in each server process
+# MaxRequestWorkers: maximum number of worker threads
+# MaxConnectionsPerChild: maximum number of requests a server process serves
+<IfModule mpm_event_module>
+	StartServers			 2
+	MinSpareThreads		 25
+	MaxSpareThreads		 75
+	ThreadLimit			 64
+	ThreadsPerChild		 25
+	MaxRequestWorkers	  150
+	MaxConnectionsPerChild   0
+</IfModule>
+
+# vim: syntax=apache ts=4 sw=4 sts=4 sr noet
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/mpm_event.load httpd-2.4.6/fink/config-dir/mods-available/mpm_event.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/mpm_event.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/mpm_event.load	2013-08-07 21:47:36.000000000 -0600
@@ -0,0 +1,2 @@
+# Conflicts: mpm_worker mpm_prefork mpm_itk
+LoadModule mpm_event_module @FINKPREFIX@/lib/apache2/modules/mod_mpm_event.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/mpm_itk.conf httpd-2.4.6/fink/config-dir/mods-available/mpm_itk.conf
--- httpd-2.4.6.orig/fink/config-dir/mods-available/mpm_itk.conf	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/mpm_itk.conf	2013-07-21 10:47:15.000000000 -0600
@@ -0,0 +1,17 @@
+# itk MPM
+# StartServers: number of server processes to start
+# MinSpareServers: minimum number of server processes which are kept spare
+# MaxSpareServers: maximum number of server processes which are kept spare
+# MaxRequestWorkers: maximum number of server processes allowed to start
+# MaxConnectionsPerChild: maximum number of requests a server process serves
+# XXX adjust!
+
+<IfModule mpm_itk_module>
+	StartServers			 5
+	MinSpareServers		  5
+	MaxSpareServers		 10
+	MaxRequestWorkers	  150
+	MaxConnectionsPerChild   0
+</IfModule>
+
+# vim: syntax=apache ts=4 sw=4 sts=4 sr noet
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/mpm_itk.load httpd-2.4.6/fink/config-dir/mods-available/mpm_itk.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/mpm_itk.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/mpm_itk.load	2013-08-07 21:47:42.000000000 -0600
@@ -0,0 +1,2 @@
+# Conflicts: mpm_event mpm_worker mpm_prefork
+LoadModule mpm_itk_module @FINKPREFIX@/lib/apache2/modules/mod_mpm_itk.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/mpm_prefork.conf httpd-2.4.6/fink/config-dir/mods-available/mpm_prefork.conf
--- httpd-2.4.6.orig/fink/config-dir/mods-available/mpm_prefork.conf	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/mpm_prefork.conf	2013-07-21 10:47:15.000000000 -0600
@@ -0,0 +1,16 @@
+# prefork MPM
+# StartServers: number of server processes to start
+# MinSpareServers: minimum number of server processes which are kept spare
+# MaxSpareServers: maximum number of server processes which are kept spare
+# MaxRequestWorkers: maximum number of server processes allowed to start
+# MaxConnectionsPerChild: maximum number of requests a server process serves
+
+<IfModule mpm_prefork_module>
+	StartServers			 5
+	MinSpareServers		  5
+	MaxSpareServers		 10
+	MaxRequestWorkers	  150
+	MaxConnectionsPerChild   0
+</IfModule>
+
+# vim: syntax=apache ts=4 sw=4 sts=4 sr noet
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/mpm_prefork.load httpd-2.4.6/fink/config-dir/mods-available/mpm_prefork.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/mpm_prefork.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/mpm_prefork.load	2013-08-07 21:47:48.000000000 -0600
@@ -0,0 +1,2 @@
+# Conflicts: mpm_event mpm_worker mpm_itk
+LoadModule mpm_prefork_module @FINKPREFIX@/lib/apache2/modules/mod_mpm_prefork.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/mpm_worker.conf httpd-2.4.6/fink/config-dir/mods-available/mpm_worker.conf
--- httpd-2.4.6.orig/fink/config-dir/mods-available/mpm_worker.conf	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/mpm_worker.conf	2013-07-21 10:47:15.000000000 -0600
@@ -0,0 +1,22 @@
+# worker MPM
+# StartServers: initial number of server processes to start
+# MinSpareThreads: minimum number of worker threads which are kept spare
+# MaxSpareThreads: maximum number of worker threads which are kept spare
+# ThreadLimit: ThreadsPerChild can be changed to this maximum value during a
+#			  graceful restart. ThreadLimit can only be changed by stopping
+#			  and starting Apache.
+# ThreadsPerChild: constant number of worker threads in each server process
+# MaxRequestWorkers: maximum number of threads
+# MaxConnectionsPerChild: maximum number of requests a server process serves
+
+<IfModule mpm_worker_module>
+	StartServers			 2
+	MinSpareThreads		 25
+	MaxSpareThreads		 75
+	ThreadLimit			 64
+	ThreadsPerChild		 25
+	MaxRequestWorkers	  150
+	MaxConnectionsPerChild   0
+</IfModule>
+
+# vim: syntax=apache ts=4 sw=4 sts=4 sr noet
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/mpm_worker.load httpd-2.4.6/fink/config-dir/mods-available/mpm_worker.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/mpm_worker.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/mpm_worker.load	2013-08-07 21:47:54.000000000 -0600
@@ -0,0 +1,2 @@
+# Conflicts: mpm_event mpm_prefork mpm_itk
+LoadModule mpm_worker_module @FINKPREFIX@/lib/apache2/modules/mod_mpm_worker.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/negotiation.conf httpd-2.4.6/fink/config-dir/mods-available/negotiation.conf
--- httpd-2.4.6.orig/fink/config-dir/mods-available/negotiation.conf	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/negotiation.conf	2013-07-21 10:47:15.000000000 -0600
@@ -0,0 +1,20 @@
+<IfModule mod_negotiation.c>
+
+	# LanguagePriority allows you to give precedence to some languages
+	# in case of a tie during content negotiation.
+	#
+	# Just list the languages in decreasing order of preference. We have
+	# more or less alphabetized them here. You probably want to change this.
+	#
+	LanguagePriority en ca cs da de el eo es et fr he hr it ja ko ltz nl nn no pl pt pt-BR ru sv tr zh-CN zh-TW
+
+	#
+	# ForceLanguagePriority allows you to serve a result page rather than
+	# MULTIPLE CHOICES (Prefer) [in case of a tie] or NOT ACCEPTABLE (Fallback)
+	# [in case no accepted languages matched the available variants]
+	#
+	ForceLanguagePriority Prefer Fallback
+
+</IfModule>
+
+# vim: syntax=apache ts=4 sw=4 sts=4 sr noet
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/negotiation.load httpd-2.4.6/fink/config-dir/mods-available/negotiation.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/negotiation.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/negotiation.load	2013-08-07 21:48:03.000000000 -0600
@@ -0,0 +1 @@
+LoadModule negotiation_module @FINKPREFIX@/lib/apache2/modules/mod_negotiation.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/proxy.conf httpd-2.4.6/fink/config-dir/mods-available/proxy.conf
--- httpd-2.4.6.orig/fink/config-dir/mods-available/proxy.conf	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/proxy.conf	2013-07-21 10:47:15.000000000 -0600
@@ -0,0 +1,27 @@
+<IfModule mod_proxy.c>
+
+	# If you want to use apache2 as a forward proxy, uncomment the
+	# 'ProxyRequests On' line and the <Proxy *> block below.
+	# WARNING: Be careful to restrict access inside the <Proxy *> block.
+	# Open proxy servers are dangerous both to your network and to the
+	# Internet at large.
+	#
+	# If you only want to use apache2 as a reverse proxy/gateway in
+	# front of some web application server, you DON'T need
+	# 'ProxyRequests On'.
+
+	#ProxyRequests On
+	#<Proxy *>
+	#   AddDefaultCharset off
+	#   Require all denied
+	#   #Require local
+	#</Proxy>
+
+	# Enable/disable the handling of HTTP/1.1 "Via:" headers.
+	# ("Full" adds the server version; "Block" removes all outgoing Via: headers)
+	# Set to one of: Off | On | Full | Block
+	#ProxyVia Off
+
+</IfModule>
+
+# vim: syntax=apache ts=4 sw=4 sts=4 sr noet
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/proxy.load httpd-2.4.6/fink/config-dir/mods-available/proxy.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/proxy.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/proxy.load	2013-08-07 21:48:08.000000000 -0600
@@ -0,0 +1 @@
+LoadModule proxy_module @FINKPREFIX@/lib/apache2/modules/mod_proxy.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/proxy_ajp.load httpd-2.4.6/fink/config-dir/mods-available/proxy_ajp.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/proxy_ajp.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/proxy_ajp.load	2013-08-07 21:48:15.000000000 -0600
@@ -0,0 +1,2 @@
+# Depends: proxy
+LoadModule proxy_ajp_module @FINKPREFIX@/lib/apache2/modules/mod_proxy_ajp.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/proxy_balancer.conf httpd-2.4.6/fink/config-dir/mods-available/proxy_balancer.conf
--- httpd-2.4.6.orig/fink/config-dir/mods-available/proxy_balancer.conf	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/proxy_balancer.conf	2013-07-21 10:47:15.000000000 -0600
@@ -0,0 +1,15 @@
+<IfModule mod_proxy_balancer.c>
+
+	# Balancer manager enables dynamic update of balancer members
+	# (needs mod_status). Uncomment to enable.
+	#
+	#<IfModule mod_status.c>
+	#   <Location /balancer-manager>
+	#	   SetHandler balancer-manager
+	#	   Require local
+	#   </Location>
+	#</IfModule>
+
+</IfModule>
+
+# vim: syntax=apache ts=4 sw=4 sts=4 sr noet
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/proxy_balancer.load httpd-2.4.6/fink/config-dir/mods-available/proxy_balancer.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/proxy_balancer.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/proxy_balancer.load	2013-08-07 21:48:27.000000000 -0600
@@ -0,0 +1,2 @@
+# Depends: proxy alias slotmem_shm
+LoadModule proxy_balancer_module @FINKPREFIX@/lib/apache2/modules/mod_proxy_balancer.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/proxy_connect.load httpd-2.4.6/fink/config-dir/mods-available/proxy_connect.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/proxy_connect.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/proxy_connect.load	2013-08-07 21:48:34.000000000 -0600
@@ -0,0 +1,2 @@
+# Depends: proxy
+LoadModule proxy_connect_module @FINKPREFIX@/lib/apache2/modules/mod_proxy_connect.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/proxy_express.load httpd-2.4.6/fink/config-dir/mods-available/proxy_express.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/proxy_express.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/proxy_express.load	2013-08-07 21:48:41.000000000 -0600
@@ -0,0 +1,2 @@
+# Depends: proxy
+LoadModule proxy_express_module @FINKPREFIX@/lib/apache2/modules/mod_proxy_express.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/proxy_fcgi.load httpd-2.4.6/fink/config-dir/mods-available/proxy_fcgi.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/proxy_fcgi.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/proxy_fcgi.load	2013-08-07 21:48:47.000000000 -0600
@@ -0,0 +1,2 @@
+# Depends: proxy
+LoadModule proxy_fcgi_module @FINKPREFIX@/lib/apache2/modules/mod_proxy_fcgi.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/proxy_fdpass.load httpd-2.4.6/fink/config-dir/mods-available/proxy_fdpass.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/proxy_fdpass.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/proxy_fdpass.load	2013-08-07 21:48:54.000000000 -0600
@@ -0,0 +1,2 @@
+# Depends: proxy
+LoadModule proxy_fdpass_module @FINKPREFIX@/lib/apache2/modules/mod_proxy_fdpass.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/proxy_ftp.conf httpd-2.4.6/fink/config-dir/mods-available/proxy_ftp.conf
--- httpd-2.4.6.orig/fink/config-dir/mods-available/proxy_ftp.conf	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/proxy_ftp.conf	2013-07-21 10:47:15.000000000 -0600
@@ -0,0 +1,8 @@
+<IfModule mod_proxy_ftp.c>
+
+	# Define the character set for proxied FTP listings. Default is ISO-8859-1
+	ProxyFtpDirCharset UTF-8
+
+</IfModule>
+
+# vim: syntax=apache ts=4 sw=4 sts=4 sr noet
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/proxy_ftp.load httpd-2.4.6/fink/config-dir/mods-available/proxy_ftp.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/proxy_ftp.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/proxy_ftp.load	2013-08-07 21:49:00.000000000 -0600
@@ -0,0 +1,2 @@
+# Depends: proxy
+LoadModule proxy_ftp_module @FINKPREFIX@/lib/apache2/modules/mod_proxy_ftp.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/proxy_html.load httpd-2.4.6/fink/config-dir/mods-available/proxy_html.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/proxy_html.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/proxy_html.load	2013-08-07 21:49:06.000000000 -0600
@@ -0,0 +1,2 @@
+# Depends: proxy
+LoadModule proxy_html_module @FINKPREFIX@/lib/apache2/modules/mod_proxy_html.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/proxy_http.load httpd-2.4.6/fink/config-dir/mods-available/proxy_http.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/proxy_http.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/proxy_http.load	2013-08-07 21:49:12.000000000 -0600
@@ -0,0 +1,2 @@
+# Depends: proxy
+LoadModule proxy_http_module @FINKPREFIX@/lib/apache2/modules/mod_proxy_http.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/proxy_scgi.load httpd-2.4.6/fink/config-dir/mods-available/proxy_scgi.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/proxy_scgi.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/proxy_scgi.load	2013-08-07 21:49:18.000000000 -0600
@@ -0,0 +1,2 @@
+# Depends: proxy
+LoadModule proxy_scgi_module @FINKPREFIX@/lib/apache2/modules/mod_proxy_scgi.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/proxy_wstunnel.load httpd-2.4.6/fink/config-dir/mods-available/proxy_wstunnel.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/proxy_wstunnel.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/proxy_wstunnel.load	2013-08-07 21:49:25.000000000 -0600
@@ -0,0 +1,2 @@
+# Depends: proxy
+LoadModule proxy_wstunnel_module @FINKPREFIX@/lib/apache2/modules/mod_proxy_wstunnel.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/ratelimit.load httpd-2.4.6/fink/config-dir/mods-available/ratelimit.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/ratelimit.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/ratelimit.load	2013-08-07 21:49:31.000000000 -0600
@@ -0,0 +1,2 @@
+# Depends: env
+LoadModule ratelimit_module @FINKPREFIX@/lib/apache2/modules/mod_ratelimit.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/reflector.load httpd-2.4.6/fink/config-dir/mods-available/reflector.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/reflector.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/reflector.load	2013-08-07 21:49:37.000000000 -0600
@@ -0,0 +1 @@
+LoadModule reflector_module @FINKPREFIX@/lib/apache2/modules/mod_reflector.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/remoteip.load httpd-2.4.6/fink/config-dir/mods-available/remoteip.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/remoteip.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/remoteip.load	2013-08-07 21:49:43.000000000 -0600
@@ -0,0 +1 @@
+LoadModule remoteip_module @FINKPREFIX@/lib/apache2/modules/mod_remoteip.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/reqtimeout.conf httpd-2.4.6/fink/config-dir/mods-available/reqtimeout.conf
--- httpd-2.4.6.orig/fink/config-dir/mods-available/reqtimeout.conf	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/reqtimeout.conf	2013-07-21 10:47:15.000000000 -0600
@@ -0,0 +1,27 @@
+<IfModule reqtimeout_module>
+
+	# mod_reqtimeout limits the time waiting on the client to prevent an
+	# attacker from causing a denial of service by opening many connections
+	# but not sending requests. This file tries to give a sensible default
+	# configuration, but it may be necessary to tune the timeout values to
+	# the actual situation. Note that it is also possible to configure
+	# mod_reqtimeout per virtual host.
+
+
+	# Wait max 20 seconds for the first byte of the request line+headers
+	# From then, require a minimum data rate of 500 bytes/s, but don't
+	# wait longer than 40 seconds in total.
+	# Note: Lower timeouts may make sense on non-ssl virtual hosts but can
+	# cause problem with ssl enabled virtual hosts: This timeout includes
+	# the time a browser may need to fetch the CRL for the certificate. If
+	# the CRL server is not reachable, it may take more than 10 seconds
+	# until the browser gives up.
+	RequestReadTimeout header=20-40,minrate=500
+
+	# Wait max 10 seconds for the first byte of the request body (if any)
+	# From then, require a minimum data rate of 500 bytes/s
+	RequestReadTimeout body=10,minrate=500
+
+</IfModule>
+
+# vim: syntax=apache ts=4 sw=4 sts=4 sr noet
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/reqtimeout.load httpd-2.4.6/fink/config-dir/mods-available/reqtimeout.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/reqtimeout.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/reqtimeout.load	2013-08-07 21:49:50.000000000 -0600
@@ -0,0 +1 @@
+LoadModule reqtimeout_module @FINKPREFIX@/lib/apache2/modules/mod_reqtimeout.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/request.load httpd-2.4.6/fink/config-dir/mods-available/request.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/request.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/request.load	2013-08-07 21:49:56.000000000 -0600
@@ -0,0 +1 @@
+LoadModule request_module @FINKPREFIX@/lib/apache2/modules/mod_request.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/rewrite.load httpd-2.4.6/fink/config-dir/mods-available/rewrite.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/rewrite.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/rewrite.load	2013-08-07 21:50:01.000000000 -0600
@@ -0,0 +1 @@
+LoadModule rewrite_module @FINKPREFIX@/lib/apache2/modules/mod_rewrite.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/sed.load httpd-2.4.6/fink/config-dir/mods-available/sed.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/sed.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/sed.load	2013-08-07 21:50:06.000000000 -0600
@@ -0,0 +1 @@
+LoadModule sed_module @FINKPREFIX@/lib/apache2/modules/mod_sed.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/session.load httpd-2.4.6/fink/config-dir/mods-available/session.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/session.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/session.load	2013-08-07 21:50:13.000000000 -0600
@@ -0,0 +1 @@
+LoadModule session_module @FINKPREFIX@/lib/apache2/modules/mod_session.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/session_cookie.load httpd-2.4.6/fink/config-dir/mods-available/session_cookie.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/session_cookie.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/session_cookie.load	2013-08-07 21:50:20.000000000 -0600
@@ -0,0 +1,2 @@
+# Depends: session
+LoadModule session_cookie_module @FINKPREFIX@/lib/apache2/modules/mod_session_cookie.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/session_crypto.load httpd-2.4.6/fink/config-dir/mods-available/session_crypto.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/session_crypto.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/session_crypto.load	2013-08-07 21:50:27.000000000 -0600
@@ -0,0 +1,2 @@
+# Depends: session
+LoadModule session_crypto_module @FINKPREFIX@/lib/apache2/modules/mod_session_crypto.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/session_dbd.load httpd-2.4.6/fink/config-dir/mods-available/session_dbd.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/session_dbd.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/session_dbd.load	2013-08-07 21:50:33.000000000 -0600
@@ -0,0 +1,2 @@
+# Depends: session
+LoadModule session_dbd_module @FINKPREFIX@/lib/apache2/modules/mod_session_dbd.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/setenvif.conf httpd-2.4.6/fink/config-dir/mods-available/setenvif.conf
--- httpd-2.4.6.orig/fink/config-dir/mods-available/setenvif.conf	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/setenvif.conf	2013-07-21 10:47:15.000000000 -0600
@@ -0,0 +1,32 @@
+<IfModule mod_setenvif.c>
+
+	#
+	# The following directives modify normal HTTP response behavior to
+	# handle known problems with browser implementations.
+	#
+	BrowserMatch "Mozilla/2" nokeepalive
+	BrowserMatch "MSIE 4\.0b2;" nokeepalive downgrade-1.0 force-response-1.0
+	BrowserMatch "RealPlayer 4\.0" force-response-1.0
+	BrowserMatch "Java/1\.0" force-response-1.0
+	BrowserMatch "JDK/1\.0" force-response-1.0
+
+	#
+	# The following directive disables redirects on non-GET requests for
+	# a directory that does not include the trailing slash.  This fixes a
+	# problem with Microsoft WebFolders which does not appropriately handle
+	# redirects for folders with DAV methods.
+	# Same deal with Apple's DAV filesystem and Gnome VFS support for DAV.
+	#
+	BrowserMatch "Microsoft Data Access Internet Publishing Provider" redirect-carefully
+	BrowserMatch "MS FrontPage" redirect-carefully
+	BrowserMatch "^WebDrive" redirect-carefully
+	BrowserMatch "^WebDAVFS/1.[012]" redirect-carefully
+	BrowserMatch "^gnome-vfs/1.0" redirect-carefully
+	BrowserMatch "^gvfs/1" redirect-carefully
+	BrowserMatch "^XML Spy" redirect-carefully
+	BrowserMatch "^Dreamweaver-WebDAV-SCM1" redirect-carefully
+	BrowserMatch " Konqueror/4" redirect-carefully
+
+</IfModule>
+
+# vim: syntax=apache ts=4 sw=4 sts=4 sr noet
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/setenvif.load httpd-2.4.6/fink/config-dir/mods-available/setenvif.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/setenvif.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/setenvif.load	2013-08-07 21:50:38.000000000 -0600
@@ -0,0 +1 @@
+LoadModule setenvif_module @FINKPREFIX@/lib/apache2/modules/mod_setenvif.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/slotmem_plain.load httpd-2.4.6/fink/config-dir/mods-available/slotmem_plain.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/slotmem_plain.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/slotmem_plain.load	2013-08-07 21:50:45.000000000 -0600
@@ -0,0 +1 @@
+LoadModule slotmem_plain_module @FINKPREFIX@/lib/apache2/modules/mod_slotmem_plain.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/slotmem_shm.load httpd-2.4.6/fink/config-dir/mods-available/slotmem_shm.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/slotmem_shm.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/slotmem_shm.load	2013-08-07 21:50:50.000000000 -0600
@@ -0,0 +1 @@
+LoadModule slotmem_shm_module @FINKPREFIX@/lib/apache2/modules/mod_slotmem_shm.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/socache_dbm.load httpd-2.4.6/fink/config-dir/mods-available/socache_dbm.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/socache_dbm.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/socache_dbm.load	2013-08-07 21:50:56.000000000 -0600
@@ -0,0 +1 @@
+LoadModule socache_dbm_module @FINKPREFIX@/lib/apache2/modules/mod_socache_dbm.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/socache_memcache.load httpd-2.4.6/fink/config-dir/mods-available/socache_memcache.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/socache_memcache.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/socache_memcache.load	2013-08-07 21:51:02.000000000 -0600
@@ -0,0 +1 @@
+LoadModule socache_memcache_module @FINKPREFIX@/lib/apache2/modules/mod_socache_memcache.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/socache_shmcb.load httpd-2.4.6/fink/config-dir/mods-available/socache_shmcb.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/socache_shmcb.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/socache_shmcb.load	2013-08-07 21:51:08.000000000 -0600
@@ -0,0 +1 @@
+LoadModule socache_shmcb_module @FINKPREFIX@/lib/apache2/modules/mod_socache_shmcb.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/speling.load httpd-2.4.6/fink/config-dir/mods-available/speling.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/speling.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/speling.load	2013-08-07 21:51:13.000000000 -0600
@@ -0,0 +1 @@
+LoadModule speling_module @FINKPREFIX@/lib/apache2/modules/mod_speling.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/ssl.conf httpd-2.4.6/fink/config-dir/mods-available/ssl.conf
--- httpd-2.4.6.orig/fink/config-dir/mods-available/ssl.conf	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/ssl.conf	2013-07-21 10:47:15.000000000 -0600
@@ -0,0 +1,89 @@
+<IfModule mod_ssl.c>
+
+	# Pseudo Random Number Generator (PRNG):
+	# Configure one or more sources to seed the PRNG of the SSL library.
+	# The seed data should be of good random quality.
+	# WARNING! On some platforms /dev/random blocks if not enough entropy
+	# is available. This means you then cannot use the /dev/random device
+	# because it would lead to very long connection times (as long as
+	# it requires to make more entropy available). But usually those
+	# platforms additionally provide a /dev/urandom device which doesn't
+	# block. So, if available, use this one instead. Read the mod_ssl User
+	# Manual for more details.
+	#
+	SSLRandomSeed startup builtin
+	SSLRandomSeed startup file:/dev/urandom 512
+	SSLRandomSeed connect builtin
+	SSLRandomSeed connect file:/dev/urandom 512
+
+	##
+	##  SSL Global Context
+	##
+	##  All SSL configuration in this context applies both to
+	##  the main server and all SSL-enabled virtual hosts.
+	##
+
+	#
+	#   Some MIME-types for downloading Certificates and CRLs
+	#
+	AddType application/x-x509-ca-cert .crt
+	AddType application/x-pkcs7-crl	.crl
+
+	#   Pass Phrase Dialog:
+	#   Configure the pass phrase gathering process.
+	#   The filtering dialog program (`builtin' is a internal
+	#   terminal dialog) has to provide the pass phrase on stdout.
+	SSLPassPhraseDialog  builtin
+
+	#   Inter-Process Session Cache:
+	#   Configure the SSL Session Cache: First the mechanism 
+	#   to use and second the expiring timeout (in seconds).
+	#   (The mechanism dbm has known memory leaks and should not be used).
+	#SSLSessionCache		 dbm:${APACHE_RUN_DIR}/ssl_scache
+	SSLSessionCache		shmcb:${APACHE_RUN_DIR}/ssl_scache(512000)
+	SSLSessionCacheTimeout  300
+
+	#   Semaphore:
+	#   Configure the path to the mutual exclusion semaphore the
+	#   SSL engine uses internally for inter-process synchronization. 
+	#   (Disabled by default, the global Mutex directive consolidates by default
+	#   this)
+	#Mutex file:${APACHE_LOCK_DIR}/ssl_mutex ssl-cache
+
+
+	#   SSL Cipher Suite:
+	#   List the ciphers that the client is permitted to negotiate. See the
+	#   ciphers(1) man page from the openssl package for list of all available
+	#   options.
+	#   Enable only secure ciphers:
+	SSLCipherSuite HIGH:MEDIUM:!aNULL:!MD5
+
+	#   Speed-optimized SSL Cipher configuration:
+	#   If speed is your main concern (on busy HTTPS servers e.g.),
+	#   you might want to force clients to specific, performance
+	#   optimized ciphers. In this case, prepend those ciphers
+	#   to the SSLCipherSuite list, and enable SSLHonorCipherOrder.
+	#   Caveat: by giving precedence to RC4-SHA and AES128-SHA
+	#   (as in the example below), most connections will no longer
+	#   have perfect forward secrecy - if the server's key is
+	#   compromised, captures of past or future traffic must be
+	#   considered compromised, too.
+	#SSLCipherSuite RC4-SHA:AES128-SHA:HIGH:MEDIUM:!aNULL:!MD5
+	#SSLHonorCipherOrder on
+
+	#   The protocols to enable.
+	#   Available values: all, SSLv3, TLSv1, TLSv1.1, TLSv1.2
+	#   SSL v2  is no longer supported
+	SSLProtocol all
+
+	#   Allow insecure renegotiation with clients which do not yet support the
+	#   secure renegotiation protocol. Default: Off
+	#SSLInsecureRenegotiation on
+
+	#   Whether to forbid non-SNI clients to access name based virtual hosts.
+	#   Default: Off
+	#SSLStrictSNIVHostCheck On
+
+</IfModule>
+
+# vim: syntax=apache ts=4 sw=4 sts=4 sr noet
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/ssl.load httpd-2.4.6/fink/config-dir/mods-available/ssl.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/ssl.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/ssl.load	2013-08-07 21:51:20.000000000 -0600
@@ -0,0 +1,2 @@
+# Depends: setenvif mime socache_shmcb
+LoadModule ssl_module @FINKPREFIX@/lib/apache2/modules/mod_ssl.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/status.conf httpd-2.4.6/fink/config-dir/mods-available/status.conf
--- httpd-2.4.6.orig/fink/config-dir/mods-available/status.conf	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/status.conf	2013-07-21 10:47:15.000000000 -0600
@@ -0,0 +1,29 @@
+<IfModule mod_status.c>
+	# Allow server status reports generated by mod_status,
+	# with the URL of http://servername/server-status
+	# Uncomment and change the "192.0.2.0/24" to allow access from other hosts.
+
+	<Location /server-status>
+		SetHandler server-status
+		Require local
+		#Require ip 192.0.2.0/24
+	</Location>
+
+	# Keep track of extended status information for each request
+	ExtendedStatus On
+
+	# Determine if mod_status displays the first 63 characters of a request or
+	# the last 63, assuming the request itself is greater than 63 chars.
+	# Default: Off
+	#SeeRequestTail On
+
+
+	<IfModule mod_proxy.c>
+		# Show Proxy LoadBalancer status in mod_status
+		ProxyStatus On
+	</IfModule>
+
+
+</IfModule>
+
+# vim: syntax=apache ts=4 sw=4 sts=4 sr noet
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/status.load httpd-2.4.6/fink/config-dir/mods-available/status.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/status.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/status.load	2013-08-07 21:51:26.000000000 -0600
@@ -0,0 +1 @@
+LoadModule status_module @FINKPREFIX@/lib/apache2/modules/mod_status.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/substitute.load httpd-2.4.6/fink/config-dir/mods-available/substitute.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/substitute.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/substitute.load	2013-08-07 21:51:32.000000000 -0600
@@ -0,0 +1 @@
+LoadModule substitute_module @FINKPREFIX@/lib/apache2/modules/mod_substitute.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/suexec.load httpd-2.4.6/fink/config-dir/mods-available/suexec.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/suexec.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/suexec.load	2013-08-07 21:51:37.000000000 -0600
@@ -0,0 +1 @@
+LoadModule suexec_module @FINKPREFIX@/lib/apache2/modules/mod_suexec.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/unique_id.load httpd-2.4.6/fink/config-dir/mods-available/unique_id.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/unique_id.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/unique_id.load	2013-08-07 21:51:43.000000000 -0600
@@ -0,0 +1 @@
+LoadModule unique_id_module @FINKPREFIX@/lib/apache2/modules/mod_unique_id.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/userdir.conf httpd-2.4.6/fink/config-dir/mods-available/userdir.conf
--- httpd-2.4.6.orig/fink/config-dir/mods-available/userdir.conf	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/userdir.conf	2013-08-06 19:02:58.000000000 -0600
@@ -0,0 +1,17 @@
+<IfModule mod_userdir.c>
+	UserDir Sites
+	UserDir disabled root
+
+	<Directory /Users/*/Sites>
+		AllowOverride FileInfo AuthConfig Limit Indexes
+		Options MultiViews Indexes SymLinksIfOwnerMatch IncludesNoExec
+		<Limit GET POST OPTIONS>
+			Require all granted
+		</Limit>
+		<LimitExcept GET POST OPTIONS>
+			Require all denied
+		</LimitExcept>
+	</Directory>
+</IfModule>
+
+# vim: syntax=apache ts=4 sw=4 sts=4 sr noet
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/userdir.load httpd-2.4.6/fink/config-dir/mods-available/userdir.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/userdir.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/userdir.load	2013-08-07 21:51:49.000000000 -0600
@@ -0,0 +1 @@
+LoadModule userdir_module @FINKPREFIX@/lib/apache2/modules/mod_userdir.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/usertrack.load httpd-2.4.6/fink/config-dir/mods-available/usertrack.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/usertrack.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/usertrack.load	2013-08-07 21:51:55.000000000 -0600
@@ -0,0 +1 @@
+LoadModule usertrack_module @FINKPREFIX@/lib/apache2/modules/mod_usertrack.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/vhost_alias.load httpd-2.4.6/fink/config-dir/mods-available/vhost_alias.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/vhost_alias.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/vhost_alias.load	2013-08-07 21:52:00.000000000 -0600
@@ -0,0 +1 @@
+LoadModule vhost_alias_module @FINKPREFIX@/lib/apache2/modules/mod_vhost_alias.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/mods-available/xml2enc.load httpd-2.4.6/fink/config-dir/mods-available/xml2enc.load
--- httpd-2.4.6.orig/fink/config-dir/mods-available/xml2enc.load	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/mods-available/xml2enc.load	2013-08-07 21:52:09.000000000 -0600
@@ -0,0 +1 @@
+LoadModule xml2enc_module @FINKPREFIX@/lib/apache2/modules/mod_xml2enc.so
diff -ruN httpd-2.4.6.orig/fink/config-dir/ports.conf httpd-2.4.6/fink/config-dir/ports.conf
--- httpd-2.4.6.orig/fink/config-dir/ports.conf	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/ports.conf	2013-08-23 09:30:45.000000000 -0600
@@ -0,0 +1,15 @@
+# If you just change the port or add more ports here, you will likely also
+# have to change the VirtualHost statement in
+# @FINKPREFIX@/etc/apache2/sites-enabled/000-default.conf
+
+Listen 80
+
+<IfModule ssl_module>
+	Listen 443
+</IfModule>
+
+<IfModule mod_gnutls.c>
+	Listen 443
+</IfModule>
+
+# vim: syntax=apache ts=4 sw=4 sts=4 sr noet
diff -ruN httpd-2.4.6.orig/fink/config-dir/sites-available/000-default.conf httpd-2.4.6/fink/config-dir/sites-available/000-default.conf
--- httpd-2.4.6.orig/fink/config-dir/sites-available/000-default.conf	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/sites-available/000-default.conf	2013-08-06 18:57:32.000000000 -0600
@@ -0,0 +1,31 @@
+<VirtualHost *:80>
+	# The ServerName directive sets the request scheme, hostname and port that
+	# the server uses to identify itself. This is used when creating
+	# redirection URLs. In the context of virtual hosts, the ServerName
+	# specifies what hostname must appear in the request's Host: header to
+	# match this virtual host. For the default virtual host (this file) this
+	# value is not decisive as it is used as a last resort host regardless.
+	# However, you must set it for any further virtual host explicitly.
+	#ServerName www.example.com
+
+	ServerAdmin webmaster@localhost
+	DocumentRoot @FINKPREFIX@/var/www
+
+	# Available loglevels: trace8, ..., trace1, debug, info, notice, warn,
+	# error, crit, alert, emerg.
+	# It is also possible to configure the loglevel for particular
+	# modules, e.g.
+	#LogLevel info ssl:warn
+
+	ErrorLog ${APACHE_LOG_DIR}/error.log
+	CustomLog ${APACHE_LOG_DIR}/access.log combined
+
+	# For most configuration files from conf-available/, which are
+	# enabled or disabled at a global level, it is possible to
+	# include a line for only one particular virtual host. For example the
+	# following line enables the CGI configuration for this host only
+	# after it has been globally disabled with "a2disconf".
+	#Include conf-available/serve-cgi-bin.conf
+</VirtualHost>
+
+# vim: syntax=apache ts=4 sw=4 sts=4 sr noet
diff -ruN httpd-2.4.6.orig/fink/config-dir/sites-available/default-ssl.conf httpd-2.4.6/fink/config-dir/sites-available/default-ssl.conf
--- httpd-2.4.6.orig/fink/config-dir/sites-available/default-ssl.conf	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/config-dir/sites-available/default-ssl.conf	2013-08-06 18:58:39.000000000 -0600
@@ -0,0 +1,136 @@
+<IfModule mod_ssl.c>
+	<VirtualHost _default_:443>
+		ServerAdmin webmaster@localhost
+
+		DocumentRoot @FINKPREFIX@/var/www
+
+		# Available loglevels: trace8, ..., trace1, debug, info, notice, warn,
+		# error, crit, alert, emerg.
+		# It is also possible to configure the loglevel for particular
+		# modules, e.g.
+		#LogLevel info ssl:warn
+
+		ErrorLog ${APACHE_LOG_DIR}/error.log
+		CustomLog ${APACHE_LOG_DIR}/access.log combined
+
+		# For most configuration files from conf-available/, which are
+		# enabled or disabled at a global level, it is possible to
+		# include a line for only one particular virtual host. For example the
+		# following line enables the CGI configuration for this host only
+		# after it has been globally disabled with "a2disconf".
+		#Include conf-available/serve-cgi-bin.conf
+
+		#   SSL Engine Switch:
+		#   Enable/Disable SSL for this virtual host.
+		SSLEngine on
+
+		#   A self-signed (snakeoil) certificate can be created by installing
+		#   the ssl-cert package. See
+		#   @FINKPREFIX@/share/doc/apache2/README for more info.
+		#   If both key and certificate are stored in the same file, only the
+		#   SSLCertificateFile directive is needed.
+		SSLCertificateFile	@FINKPREFIX@/etc/ssl/certs/ssl-cert-snakeoil.pem
+		SSLCertificateKeyFile @FINKPREFIX@/etc/ssl/private/ssl-cert-snakeoil.key
+
+		#   Server Certificate Chain:
+		#   Point SSLCertificateChainFile at a file containing the
+		#   concatenation of PEM encoded CA certificates which form the
+		#   certificate chain for the server certificate. Alternatively
+		#   the referenced file can be the same as SSLCertificateFile
+		#   when the CA certificates are directly appended to the server
+		#   certificate for convinience.
+		#SSLCertificateChainFile @FINKPREFIX@/etc/apache2/ssl.crt/server-ca.crt
+
+		#   Certificate Authority (CA):
+		#   Set the CA certificate verification path where to find CA
+		#   certificates for client authentication or alternatively one
+		#   huge file containing all of them (file must be PEM encoded)
+		#   Note: Inside SSLCACertificatePath you need hash symlinks
+		#		 to point to the certificate files. Use the provided
+		#		 Makefile to update the hash symlinks after changes.
+		#SSLCACertificatePath @FINKPREFIX@/etc/ssl/certs/
+		#SSLCACertificateFile @FINKPREFIX@/etc/apache2/ssl.crt/ca-bundle.crt
+
+		#   Certificate Revocation Lists (CRL):
+		#   Set the CA revocation path where to find CA CRLs for client
+		#   authentication or alternatively one huge file containing all
+		#   of them (file must be PEM encoded)
+		#   Note: Inside SSLCARevocationPath you need hash symlinks
+		#		 to point to the certificate files. Use the provided
+		#		 Makefile to update the hash symlinks after changes.
+		#SSLCARevocationPath @FINKPREFIX@/etc/apache2/ssl.crl/
+		#SSLCARevocationFile @FINKPREFIX@/etc/apache2/ssl.crl/ca-bundle.crl
+
+		#   Client Authentication (Type):
+		#   Client certificate verification type and depth.  Types are
+		#   none, optional, require and optional_no_ca.  Depth is a
+		#   number which specifies how deeply to verify the certificate
+		#   issuer chain before deciding the certificate is not valid.
+		#SSLVerifyClient require
+		#SSLVerifyDepth  10
+
+		#   SSL Engine Options:
+		#   Set various options for the SSL engine.
+		#   o FakeBasicAuth:
+		#	 Translate the client X.509 into a Basic Authorisation.  This means that
+		#	 the standard Auth/DBMAuth methods can be used for access control.  The
+		#	 user name is the `one line' version of the client's X.509 certificate.
+		#	 Note that no password is obtained from the user. Every entry in the user
+		#	 file needs this password: `xxj31ZMTZzkVA'.
+		#   o ExportCertData:
+		#	 This exports two additional environment variables: SSL_CLIENT_CERT and
+		#	 SSL_SERVER_CERT. These contain the PEM-encoded certificates of the
+		#	 server (always existing) and the client (only existing when client
+		#	 authentication is used). This can be used to import the certificates
+		#	 into CGI scripts.
+		#   o StdEnvVars:
+		#	 This exports the standard SSL/TLS related `SSL_*' environment variables.
+		#	 Per default this exportation is switched off for performance reasons,
+		#	 because the extraction step is an expensive operation and is usually
+		#	 useless for serving static content. So one usually enables the
+		#	 exportation for CGI and SSI requests only.
+		#   o OptRenegotiate:
+		#	 This enables optimized SSL connection renegotiation handling when SSL
+		#	 directives are used in per-directory context.
+		#SSLOptions +FakeBasicAuth +ExportCertData +StrictRequire
+		<FilesMatch "\.(cgi|shtml|phtml|php)$">
+				SSLOptions +StdEnvVars
+		</FilesMatch>
+		<Directory @FINKPREFIX@/lib/cgi-bin>
+				SSLOptions +StdEnvVars
+		</Directory>
+
+		#   SSL Protocol Adjustments:
+		#   The safe and default but still SSL/TLS standard compliant shutdown
+		#   approach is that mod_ssl sends the close notify alert but doesn't wait for
+		#   the close notify alert from client. When you need a different shutdown
+		#   approach you can use one of the following variables:
+		#   o ssl-unclean-shutdown:
+		#	 This forces an unclean shutdown when the connection is closed, i.e. no
+		#	 SSL close notify alert is send or allowed to received.  This violates
+		#	 the SSL/TLS standard but is needed for some brain-dead browsers. Use
+		#	 this when you receive I/O errors because of the standard approach where
+		#	 mod_ssl sends the close notify alert.
+		#   o ssl-accurate-shutdown:
+		#	 This forces an accurate shutdown when the connection is closed, i.e. a
+		#	 SSL close notify alert is send and mod_ssl waits for the close notify
+		#	 alert of the client. This is 100% SSL/TLS standard compliant, but in
+		#	 practice often causes hanging connections with brain-dead browsers. Use
+		#	 this only for browsers where you know that their SSL implementation
+		#	 works correctly.
+		#   Notice: Most problems of broken clients are also related to the HTTP
+		#   keep-alive facility, so you usually additionally want to disable
+		#   keep-alive for those clients, too. Use variable "nokeepalive" for this.
+		#   Similarly, one has to force some clients to use HTTP/1.0 to workaround
+		#   their broken HTTP/1.1 implementation. Use variables "downgrade-1.0" and
+		#   "force-response-1.0" for this.
+		BrowserMatch "MSIE [2-6]" \
+				nokeepalive ssl-unclean-shutdown \
+				downgrade-1.0 force-response-1.0
+		# MSIE 7 and newer should be able to use keepalive
+		BrowserMatch "MSIE [17-9]" ssl-unclean-shutdown
+
+	</VirtualHost>
+</IfModule>
+
+# vim: syntax=apache ts=4 sw=4 sts=4 sr noet
diff -ruN httpd-2.4.6.orig/fink/convert_docs httpd-2.4.6/fink/convert_docs
--- httpd-2.4.6.orig/fink/convert_docs	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/convert_docs	2013-08-07 21:52:58.000000000 -0600
@@ -0,0 +1,109 @@
+#!/usr/bin/perl -w
+
+use strict;
+use File::Path;
+use Fatal qw/mkpath symlink open close/;
+use File::Copy;
+use File::Find;
+
+
+scalar @ARGV == 1 or die;
+
+my $TGT=$ARGV[0];
+my $SRC=$TGT.".orig";
+
+move($TGT, $SRC);
+
+# list of languages
+my @lang = glob("$SRC/index.html.*") or die;
+map { s{^.*html\.}{} }  @lang;
+
+# map "ja.euc-jp" to "ja/", ...
+my %lpath;
+foreach my $l (@lang) {
+	my $t=$l;
+	$t =~ s{\..*$}{};
+	$lpath{$l}="$t/";
+}
+
+my @html;
+find(sub { $File::Find::name =~ s/^$SRC\///; push(@html, $File::Find::name) if $File::Find::name =~ /\.html$/; }, $SRC);
+
+foreach my $h (@html) {
+	my $dir="";
+	if ($h =~ m{^(.*/)}) {
+		$dir=$1;
+	}
+	
+	for my $l (@lang) {
+		my $tdir="$TGT/$lpath{$l}";
+		-d "$tdir$dir" || mkpath("$tdir$dir");
+		
+		my $updir=$dir;
+		$updir =~ s{[^/]+}{..}g;
+		
+		if ($l eq "en") {
+			conv("$SRC/$h.en", "$tdir$h", $h);
+		}
+		elsif ( -f "$SRC/$h.$l" ) {
+			conv("$SRC/$h.$l", "$tdir$h", $h);
+		}
+		else {
+			symlink("${updir}../en/$h", "$tdir$h");
+		}
+		
+	}
+}
+
+open(my $out, ">", "$TGT/index.html");
+print $out '<html><head>',
+	   '<meta http-equiv="refresh" content="0; URL=en/index.html">',
+	   "</head>\n<body>\n<table>";
+foreach my $l (sort values %lpath) {
+	print $out qq{<tr><td><a href="${l}index.html">$l</a></td></tr>\n};
+}
+print $out '</table></body></html>';
+
+move("$SRC/images", "$TGT/images");
+move("$SRC/style", "$TGT/style");
+rmdir("$TGT/style/lang");
+rmdir("$TGT/style/xsl/util");
+rmdir("$TGT/style/xsl");
+rmtree("$SRC");
+
+
+### END
+
+
+sub conv {
+	my ($old, $new, $name) = @_;
+	
+	open(my $in, "<", $old);
+	local $/;
+	my $file = <$in>;
+	close($in);
+
+	# /mod/ -> /mod/index.html
+	$file =~ s{href="([^:"]*/)"}{href="${1}index.html"}g;
+
+	# style and images now one level up
+	$file =~ s{(src|href)="\.\./(style|images)}{$1="../../$2}g;
+	$file =~ s{(src|href)="(?:\./)?(style|images)}{$1="../$2}g;
+
+	foreach my $l (values %lpath) {
+		# language directories one level up
+		$file =~ s{href="\.\./$l}{href="../../$l}g;
+		$file =~ s{href="(?:\./)?$l}{href="../$l}g;
+		$file =~ s{apachectl(?!\.html)}{apache2ctl}g;
+	}
+
+	# Debian tweaks
+	$file =~ s{/usr/local/apache2/conf/httpd[.]conf}{@FINKPREFIX@/etc/apache2/apache2.conf}g;
+	$file =~ s{httpd[.]conf}{apache2.conf}g;
+	$file =~ s{apachectl(?!\.html)}{apache2ctl}g;
+
+
+	open(my $out, ">", $new);
+	print $out $file;
+	close($out);
+}
diff -ruN httpd-2.4.6.orig/fink/cron.daily httpd-2.4.6/fink/cron.daily
--- httpd-2.4.6.orig/fink/cron.daily	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/cron.daily	2012-08-14 14:21:42.000000000 -0600
@@ -0,0 +1,30 @@
+#!/bin/sh
+
+# run htcacheclean
+
+set -e
+set -u
+
+[ -e @FINKPREFIX@/sbin/htcacheclean ] || exit 0
+[ -e @FINKPREFIX@/etc/default/apache2 ]   || exit 0
+
+
+# edit @FINKPREFIX@/etc/default/apache2 to change this
+HTCACHECLEAN_MODE=daemon
+HTCACHECLEAN_RUN=auto
+HTCACHECLEAN_SIZE=300M
+HTCACHECLEAN_PATH=@FINKPREFIX@/var/cache/apache2/mod_disk_cache
+HTCACHECLEAN_OPTIONS=""
+
+. @FINKPREFIX@/etc/default/apache2
+
+[ "$HTCACHECLEAN_MODE" = "cron" ] || exit 0
+
+[ "$HTCACHECLEAN_RUN" = "yes"	] || 
+( [ "$HTCACHECLEAN_RUN" = "auto" ] && \
+  [ -e @FINKPREFIX@/etc/apache2/mods-enabled/disk_cache.load ] )  || exit 0
+
+@FINKPREFIX@/sbin/htcacheclean  ${HTCACHECLEAN_OPTIONS}	\
+			-p${HTCACHECLEAN_PATH}	\
+			-l${HTCACHECLEAN_SIZE}
+
diff -ruN httpd-2.4.6.orig/fink/debhelper/apache2-maintscript-helper httpd-2.4.6/fink/debhelper/apache2-maintscript-helper
--- httpd-2.4.6.orig/fink/debhelper/apache2-maintscript-helper	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/debhelper/apache2-maintscript-helper	2013-08-08 09:17:28.000000000 -0600
@@ -0,0 +1,471 @@
+# apache2-maintscript-helper - Apache2 helper function for maintainer scripts
+# Copyright (C) 2012 Arno Töll <debian@toell.net>
+#
+# Permission is hereby granted, free of charge, to any person obtaining a copy of
+# this software and associated documentation files (the "Software"), to deal in
+# the Software without restriction, including without limitation the rights to
+# use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
+# the Software, and to permit persons to whom the Software is furnished to do so,
+# subject to the following conditions:
+#
+# The above copyright notice and this permission notice shall be included in all
+# copies or substantial portions of the Software.
+#
+# THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+# IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
+# FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
+# COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
+# IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
+# CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
+
+
+
+#
+# VARIABLES
+#
+
+
+# global environment variables used by apache2-maintscript-helper:
+# * APACHE2_MAINTSCRIPT_DEBUG:
+#				set this to any non-zero value to get debug output
+# * APACHE2_MAINTSCRIPT_HELPER_QUIET:
+#				set this to any non-zero value to omit any output
+# * EXPORT_APACHE2_MAINTSCRIPT_HELPER:
+#				will be defined by apache2-maintscript-helper
+#				to avoid inclusion loops. Do not set this
+#				variable manually
+# * APACHE2_NEED_ACTION:
+#				will be defined if a function call wants to
+#				override the behavior of apache2_needs_action.
+#				Do not rely on this variable. It is considered
+#				an implementation detail.
+# * APACHE2_MAINTSCRIPT_NAME
+# * APACHE2_MAINTSCRIPT_PACKAGE
+# * APACHE2_MAINTSCRIPT_METHOD
+# * APACHE2_MAINTSCRIPT_ARGUMENT
+#				these variables contain information about the
+#				maintainer script which is calling the
+#				maintscript-helper. It contains arguments which
+#				dpkg supplies to maintainer scripts and similar
+#				information. These variables are an
+#				implementation detail and not to be changed.
+#
+#				You might want to set them manually only if you
+#				are calling apache2-maintscript-helper from
+#				some place which does not preserve the original
+#				script arguments for example when calling from
+#				a subfunction instead of the main function in
+#				your maintainer script
+
+#
+# INITIALIZATION
+#
+
+if [ -n "${EXPORT_APACHE2_MAINTSCRIPT_HELPER:-}" ] ; then
+	return
+else
+	EXPORT_APACHE2_MAINTSCRIPT_HELPER=1
+
+	if [ -n "${APACHE2_MAINTSCRIPT_DEBUG:-}" ] ; then
+		set -x
+	elif [ -e @FINKPREFIX@/etc/apache2/envvars ] ; then
+		APACHE2_MAINTSCRIPT_DEBUG=$(. @FINKPREFIX@/etc/apache2/envvars && echo ${APACHE2_MAINTSCRIPT_DEBUG})
+		if [ -n "${APACHE2_MAINTSCRIPT_DEBUG:-}" ] ; then
+			set -x
+		fi
+	fi
+
+
+	if [ -z "$1" ] ; then
+		echo "You must invoke apache2-maintscript-helper with an unmodified environment when sourcing it" >&2
+		return 1
+	fi
+
+	APACHE2_MAINTSCRIPT_NAME="$DPKG_MAINTSCRIPT_NAME"
+	[ "$APACHE2_MAINTSCRIPT_NAME" ] || APACHE2_MAINTSCRIPT_NAME="${0##*.}"
+
+	case "$APACHE2_MAINTSCRIPT_NAME" in
+		preinst|prerm|postrm|postinst)
+			# yay - recognized script
+		;;
+		*)
+			echo "apache2-maintscript-helper invoked from an unrecognized maintainer script: exiting" >&2
+			return 1
+		;;
+	esac
+
+	APACHE2_MAINTSCRIPT_PACKAGE="$DPKG_MAINTSCRIPT_PACKAGE"
+	if [ -z "$APACHE2_MAINTSCRIPT_PACKAGE" ]; then
+		APACHE2_MAINTSCRIPT_PACKAGE="${0##*/}"
+		APACHE2_MAINTSCRIPT_PACKAGE="${APACHE2_MAINTSCRIPT_PACKAGE%.*}"
+	fi
+
+	if [ -z "$APACHE2_MAINTSCRIPT_METHOD" ] ; then
+		APACHE2_MAINTSCRIPT_METHOD="$1"
+	fi
+
+	case "$APACHE2_MAINTSCRIPT_METHOD" in
+		install|upgrade|abort-upgrade|configure|abort-remove|abort-remove|abort-deconfigure|remove|failed-upgrade|purge|disappear|abort-install|triggered)
+			# yay - recognized script
+		;;
+		*)
+			echo "apache2-maintscript-helper invoked from a modified environment. Please hint required arguments manually" >&2
+			return 1
+		;;
+	esac
+
+
+
+	if [ -z "$APACHE2_MAINTSCRIPT_ARGUMENT" ] ; then
+		APACHE2_MAINTSCRIPT_ARGUMENT="${2:-}"
+	fi
+
+fi
+
+
+
+#
+# FUNCTIONS
+#
+
+
+
+
+#
+# Function apache2_msg
+#	print out a warning to both, the syslog and a local standard output.
+#	This function should generally be used to display messages related to
+#	the web server in maintainer scripts.
+# Parameters:
+#	priority
+#		The message priority. Recognized values are the same as defined
+#		by syslog(3), thus: one among debug, info, notice, warning,
+#		err, crit, alert, emerg.
+#		If no known priority is recognized, the priority is set to
+#		"warning".
+#	message
+#		The message as a string. It is printed out verbatim.
+# Behavior:
+#	No message is displayed if APACHE2_MAINTSCRIPT_HELPER_QUIET is defined
+# Returns:
+#	this function always returns 0
+# Since: 2.4.1-3
+apache2_msg()
+{
+	local PRIORITY="$1"
+	local MSG="$2"
+	[ -z "$APACHE2_MAINTSCRIPT_HELPER_QUIET" ] && echo "$MSG" >&2
+	[ -x /usr/bin/logger ] || return 0
+	case "$PRIORITY" in
+		debug|info|notice|warning|err|crit|alert|emerg)
+		;;
+		*)
+			PRIORITY="warning"
+		;;
+	esac
+	local LOGGER="/usr/bin/logger -p daemon.$PRIORITY -t $APACHE2_MAINTSCRIPT_PACKAGE "
+	$LOGGER "$MSG" || return 0
+}
+
+#
+# Function apache2_needs_action
+#	succeeds if the package invoking the maintscript helper
+#	needs any work. This function can be used as a conditional whether a
+#	certain function should be executed by means of the package state.
+#	Note, calling some other functions may change the outcome of this
+#	function, depending on the action required
+#Parameters:
+#	none
+# Returns:
+#	0 if an older version of the maintainer script invoking the helper is
+#	already installed
+#	1 otherwise
+# Since: 2.4.1-3
+apache2_needs_action()
+{
+	# Summary how the maintscript behaves:
+	# preinst:
+	#	Not sure why anyone would like to call this function in preinst. Die loud.
+	# prerm remove:
+	#	Basically the same as postrm. If a maintainer would like to
+	#	disable his module before removing his stuff, be it.
+	#	However, we have nothing useful to do if we're called in any
+	#	other way than "remove" in prerm.
+	# postinst configure
+	#	Probably the most important invokation. When invoked in configure we:
+	#	- enable the piece of configuration on fresh installs
+	#	- do nothing on upgrades UNLESS the configuration was removed automatically in the past
+	# postrm remove|purge
+	#	- disable the configuration, mark it as automatically disabled in remove
+	#	- disable the configuration, remove any trace we have on purge
+
+	case "$APACHE2_MAINTSCRIPT_NAME" in
+	preinst)
+		apache2_msg "info" "apache2_needs_action: The maintainer helper can not be called in preinst"
+		return 1
+		;;
+	prerm|postrm)
+		case "$APACHE2_MAINTSCRIPT_METHOD" in
+		remove|purge)
+			return 0
+			;;
+		*)
+			return 1
+			;;
+		esac
+		;;
+	postinst)
+		if [ "$APACHE2_MAINTSCRIPT_METHOD" = "configure" ] ; then
+			# act on fresh installs
+			[ -z "$APACHE2_MAINTSCRIPT_ARGUMENT" ] && return 0
+			# act if someone told us
+			[ -n "$APACHE2_NEED_ACTION" ] && return 0
+		fi
+		;;
+	esac
+
+	return 1
+}
+
+
+
+#
+# Function apache2_has_module
+#	checks whether a supplied module is enabled in the current Apache server
+#	configuration
+# Parameters:
+#	module - the module name which should be checked. Can be a regular
+#		string or a Perl compatible regular expression e.g. cgi(d|)
+# Returns:
+#	0 if the module(s) was/were found
+#	1 otherwise
+# Since: 2.4.1-1
+apache2_has_module()
+{
+	[ -x @FINKPREFIX@/sbin/a2query ] || return 1
+	local MODULE="$1"
+	if a2query -m "$MODULE" > /dev/null ; then
+		return 0
+	fi
+
+	return 1
+}
+
+#
+# Function apache2_switch_mpm
+#	switches the MPM enabled on the web server. This function switches the
+#	MPM unconditionally but does careful checks to make sure the web server
+#	is left back with a working MPM.
+#	It checks whether the supplied MPM exists and enables it on purpose.
+# Parameters:
+#	mpm - change the MPM to the supplied argument. It should be given
+#	without "mpm_" prefix, e.g. "worker", "prefork", and so on.
+# Returns:
+#	0 if the MPM could be changed
+#	1 otherwise
+# Since: 2.4.1-1
+apache2_switch_mpm()
+{
+	[ -x @FINKPREFIX@/sbin/a2query ] || return 1
+	[ -x @FINKPREFIX@/sbin/a2dismod ] || return 1
+	[ -x @FINKPREFIX@/sbin/a2enmod ] || return 1
+
+	local MPM="$1"
+	MPM="${MPM#mpm_}"
+
+
+	if [ ! -e "@FINKPREFIX@/etc/apache2/mods-available/mpm_$MPM.load" ] ; then
+		apache2_msg "err" "apache2_switch_mpm: MPM $MPM not found"
+		return 1
+	fi
+
+	local CUR_MPM=$(a2query -M) || return 1
+
+	if [ $CUR_MPM != $MPM ] ; then
+		a2dismod -m -q "mpm_$CUR_MPM";
+		a2enmod -m -q "mpm_$MPM";
+		apache2_msg "info" "apache2_switch_mpm Switch to $MPM"
+	else
+		apache2_msg "info" "apache2_switch_mpm $MPM: No action required"
+		return 0
+	fi
+
+	if ! apache2_has_module "mpm_$MPM" ; then
+		# rollback
+		a2enmod -m -q "mpm_$CUR_MPM"
+		apache2_msg "warning" "apache2_switch_mpm Switch to $MPM failed. Rolling back to $CUR_MPM"
+		return 1
+	fi
+
+
+	APACHE2_NEED_ACTION=1
+	apache2_reload restart
+	return 0
+
+}
+
+#
+# Function apache2_invoke
+#	invokes an Apache 2 configuration helper to enable or disable a
+#	particular piece of configuration, a site or a module. It carefully
+#	checks whether the supplied configuration snippet exists and reloads the
+#	web server if the site administrator desires that by calling the
+#	apache2_reload function.
+# Parameters:
+#	command - The command to invoke. Recognized commands are "enconf",
+#		"enmod", "ensite", "disconf", "dismod", "dissite"
+#	arguments
+#		- A single argument (e.g. a module) which shall be
+#		  enabled or disabled respectively. Do not enable module
+#		  dependencies that way, instead use module dependencies as
+#		  documented in <@FINKPREFIX@/share/doc/apache2/PACKAGING>.
+#	rcd-action
+#		- An optional rc.d action to override the default which is to
+#		  reload the web server for sites and configurations but restart
+#		  it for modules. Recognized arguments are "restart" and "reload"
+# Returns
+#	0 if the changes could be activated
+#	1 otherwise
+# Since: 2.4.1-3
+# Changes: 2.4.2-2: Added the second, optional argument
+apache2_invoke()
+{
+	local CMD=$1
+	local CONF=$2
+	local RCD_ACTION=$3
+	local invoke_rcd=0
+	local check_switch=""
+	local invoke_string=""
+
+	[ -x "@FINKPREFIX@/sbin/a2$CMD" ] || return 1
+	[ -x "@FINKPREFIX@/sbin/a2query" ] || return 1
+
+	case "${RCD_ACTION:-}" in
+		""|reload|restart)
+			;;
+		*)
+			return 1
+			;;
+	esac
+
+	case "$CMD" in
+		*conf)
+			check_switch="-c"
+			invoke_string="configuration"
+			rcd_action="${RCD_ACTION:-reload}"
+			;;
+		*mod)
+			check_switch="-m"
+			invoke_string="module"
+			rcd_action="${RCD_ACTION:-restart}"
+			;;
+		*site)
+			check_switch="-s"
+			invoke_string="site"
+			rcd_action="${RCD_ACTION:-reload}"
+			;;
+		*)
+			;;
+	esac
+
+
+	case "$CMD" in
+		enconf|enmod|ensite)
+			local a2query_ret=0
+			a2query $check_switch "$CONF" > /dev/null 2>&1 || a2query_ret=$?
+			if [ "$a2query_ret" -eq 0 ] ; then
+				# configuration is already enabled
+				apache2_msg "info" "apache2_invoke $CONF: already enabled"
+				APACHE2_NEED_ACTION=1
+			elif [ "$a2query_ret" -eq 32	 ] ; then
+				# the maintainer disabled the module
+				apache2_msg "info" "apache2_invoke $CONF: no action - $invoke_string was disabled by maintainer"
+				return 0
+			else
+				# coming here either means:
+				# a) we have no clue about the module (e.g. for upgrades prior to maintscript-helper
+				# b) it's a fresh install
+				APACHE2_NEED_ACTION=1
+				a2$CMD -m -q "$CONF" > /dev/null 2>&1 || return 1
+				apache2_msg "info" "apache2_invoke: Enable $invoke_string $CONF"
+			fi
+			;;
+		disconf|dismod|dissite)
+			local a2query_ret=0
+			a2query $check_switch "$CONF" > /dev/null 2>&1 || a2query_ret=$?
+			if [ "$a2query_ret" -eq 0 ] ; then
+				if [ "$APACHE2_MAINTSCRIPT_NAME" = 'postrm' ] && [ "$APACHE2_MAINTSCRIPT_METHOD" = "purge" ] ; then
+					a2$CMD -p -f -q "$CONF" || return 1
+					apache2_msg "info" "apache2_invoke $APACHE2_MAINTSCRIPT_NAME: Purging $invoke_string $CONF"
+					APACHE2_NEED_ACTION=1
+				elif [ "$APACHE2_MAINTSCRIPT_NAME" = 'postrm' ] || [ "$APACHE2_MAINTSCRIPT_NAME" = 'prerm' ] ; then
+					if [ "$APACHE2_MAINTSCRIPT_METHOD" = "remove" ] ; then
+						a2$CMD -m -f -q "$CONF" || return 1
+						apache2_msg "info" "apache2_invoke $APACHE2_MAINTSCRIPT_NAME: Disable $invoke_string $CONF"
+						APACHE2_NEED_ACTION=1
+					fi
+				else
+					apache2_msg "error" "apache2_invoke: $invoke_string $CONF not supported in $APACHE2_MAINTSCRIPT_NAME"
+					return 1
+				fi
+			elif [ "$a2query_ret" -eq 32 ] || [ "$a2query_ret" -eq 33 ] ; then
+				if [ "$APACHE2_MAINTSCRIPT_NAME" = 'postrm' ] && [ "$APACHE2_MAINTSCRIPT_METHOD" = "purge" ] ; then
+					apache2_msg "info" "apache2_invoke $APACHE2_MAINTSCRIPT_NAME: Purging state for $CONF"
+					# this will return RC=1
+					( a2$CMD -p -f -q "$CONF" > /dev/null 2>&1 )
+				else
+					apache2_msg "info" "apache2_invoke $CONF $APACHE2_MAINTSCRIPT_NAME: No action required"
+				fi
+			else
+				apache2_msg "info" "apache2_invoke $CONF $APACHE2_MAINTSCRIPT_NAME: No action required"
+			fi
+			;;
+		*)
+			return 1
+			;;
+	esac
+
+	if [ -n "${APACHE2_NEED_ACTION:-}" ] ; then
+		apache2_reload $rcd_action
+	fi
+
+}
+
+#
+# Function apache2_reload
+#	reloads the web server to activate a changed configuration. It does not
+#	actually reload the web server if the current configuration fails to
+#	parse.
+# Parameters:
+#	action - optional, can be 'reload' (default) or 'restart'
+# Returns:
+#	0 if the changes could be activated
+#	1 otherwise
+# Since: 2.4.1-1
+apache2_reload()
+{
+	if ! apache2_needs_action ; then
+		return 0
+	fi
+	local action
+	case "${1:-}" in
+	""|reload)
+		# For fink we don't have invoke.d so reload doesn't exist
+		action=restart
+		;;
+	restart)
+		action=restart
+		;;
+	*)
+		return 1
+		;;
+	esac
+
+	if apache2ctl configtest 2>/dev/null; then
+		apache2ctl $action || true
+	else
+		apache2_msg "err" "apache2_reload: Your configuration is broken. Not ${action}ing Apache 2"
+	fi
+}
+
+# vim: syntax=sh sw=8 sts=8 sr noet
diff -ruN httpd-2.4.6.orig/fink/debhelper/apache2.pm httpd-2.4.6/fink/debhelper/apache2.pm
--- httpd-2.4.6.orig/fink/debhelper/apache2.pm	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/debhelper/apache2.pm	2013-07-21 10:47:15.000000000 -0600
@@ -0,0 +1,8 @@
+#!/usr/bin/perl
+use warnings;
+use strict;
+use Debian::Debhelper::Dh_Lib;
+
+insert_after("dh_install", "dh_apache2");
+
+1;
diff -ruN httpd-2.4.6.orig/fink/debhelper/dh_apache2.in httpd-2.4.6/fink/debhelper/dh_apache2.in
--- httpd-2.4.6.orig/fink/debhelper/dh_apache2.in	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/debhelper/dh_apache2.in	2013-08-11 19:10:55.000000000 -0600
@@ -0,0 +1,544 @@
+#! /usr/bin/perl
+
+# dh_apache2 - Apache2 configuration elper for debhelper
+# Copyright (C) 2012 Arno Töll <debian@toell.net>
+#
+# This program is licensed at your choice under the terms of the GNU General
+# Public License vserion 2+ or under the terms of the Apache Software License
+# 2.0.
+#
+# For GPL-2+:
+# This program is free software; you can redistribute it and/or
+# modify it under the terms of the GNU General Public License
+# as published by the Free Software Foundation; either version 2
+# of the License, or (at your option) any later version.
+#
+# This program is distributed in the hope that it will be useful,
+# but WITHOUT ANY WARRANTY; without even the implied warranty of
+# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+# GNU General Public License for more details.
+#
+# You should have received a copy of the GNU General Public License
+# along with this program; if not, write to the Free Software
+# Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.
+#
+# For ASF 2.0:
+# Licensed under the Apache License, Version 2.0 (the "License");
+# you may not use this file except in compliance with the License.
+# You may obtain a copy of the License at
+#
+# http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing, software
+# distributed under the License is distributed on an "AS IS" BASIS,
+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+# See the License for the specific language governing permissions and
+# limitations under the License.
+
+use strict;
+use File::Find;
+use Debian::Debhelper::Dh_Lib;
+
+
+=head1 NAME
+
+dh_apache2 - register configuration snippets to the Apache web server
+
+=cut
+
+# auto-generated do not edit
+our $API = "__API__";
+our $MODULE_DIR = "__MODULE_DIR__";
+our $SERVER_VERSION = "__SERVER_VERSION__";
+
+
+
+sub apache_api_version
+{
+	return "apache2-api-$API";
+}
+
+
+sub apache_version
+{
+	return ">= $SERVER_VERSION~";
+}
+
+sub apache_api_installdir
+{
+	return $MODULE_DIR;
+}
+
+sub apache_conf_installdir
+{
+	my $type = shift;
+	return "@FINKBASE@/etc/apache2/${type}-available/"
+}
+
+=head1 SYNOPSIS
+
+B<dh_apache2> [S<I<debhelper options>>] [S<B<--conditional>>=I<expression>] [B<--error-handler=>I<function>] [B<-n>|B<--noscripts>]
+
+=head1 DESCRIPTION
+
+B<dh_apache2> is a debhelper program that is responsible for correctly installing
+Apache2 configuration snippets and setting postinst, prerm and dependencies in
+Apache2 web server modules and web applications.
+
+It supports the following configuration types
+
+=over 4
+
+=item *
+Apache2 modules
+
+=item *
+Apache2 configuration snippets for web applications
+
+=item *
+Apache2 sites
+
+=back
+
+B<dh_apache2> supports two modes: A limited auto-configuration heuristic or
+alternatively a configuration file driven approach. If a file named
+debian/package.apache2 exists, actual actions are determined by that file.
+
+=head1 OPERATION MODES
+
+B<dh_apache2> can be used in two modes: A configuration file driven approach and
+a heuristic approach. The configuration driven mode is fully documented in the
+B<FILES> section below. This mode is activated by supplying a L<debhelper(7)>
+configuration file (e.g. debian/I<package>.apache2).
+
+The alternative is a heuristic mode, in which no files are installed through
+B<dh_apache2>. Instead the helper will scan the package installation directory
+for recognized files and guess their purpose depending on their installation
+path in the file system. Use with caution.
+
+=head1 INVOKATION
+
+B<dh_apache2> is not part of debhelper and might require information available
+in the apache2-dev package. Packages making use of B<dh_apache2> should declare
+a build-dependency against the virtual B<dh-apache2> package.
+
+B<dh_apache2> supports both, called directly from a debian/rules file or as
+L<dh(1)> addon. In the former case the helper should run after L<dh_install(1)>
+or their respective counter parts in local implementations at earliest.
+Alternatively it can be used as L<dh> addon by invoking it with
+
+  %:
+     dh $@ --with apache2
+
+=head1 FILES
+
+=over 4
+
+=item debian/I<package>.apache2
+
+=item debian/apache2
+
+=back
+
+Lists files to be registered with the Apache 2 HTTP server. The file is
+interpreted as line separated list of installation stanzas, where each entry
+consists of whitespace separated values conforming to the file semantics below.
+
+=head2 FILE SEMANTICS
+
+Each line consists of a triple
+
+I<type> I<file> [I<arguments>]
+
+where the values are interpreted as follows:
+
+
+=head3 I<type>
+
+Denotes the type of file to be installed. Recognized values are B<conf>
+for Apache2 global configuration snippets, B<site> for virtual host
+configurations and B<mod> for Apache2 modules.
+
+=head3 I<file>
+
+Is interpreted as existing file name within the source package. No path
+expansion is effectuated. Just like L<dh_install(1)>, B<dh_apache2> can not
+rename files.
+
+=head3 I<arguments>
+
+Is inrerpreted as optional arguments if any, currently used by B<conf>
+stanzas only
+
+=head2 GLOBAL CONFIGURATION FILES
+
+Global configuration files (determined by the B<conf> type) must have a I<.conf>
+suffix and are installed to I<@FINKPREFIX@/etc/apache2/conf-available>. Moreover, the
+configuration is activated in the maintainer script at installation time.
+
+Such global configuration snippets are supposed to be used by web applications.
+Such stanzas accept an optional third I<arguments> which is interpreted as
+dependency line of alternative web servers the package supports. See I<EXAMPLES>
+below.
+
+B<dh_apache2> will set dependencies in B<${misc:Recommends}> accordingly when
+this type of configuration is found. Alternatives from the optional I<argument>
+is incorporated into this dependency line.
+
+=head2 SITE CONFIGURATION FILES
+
+Site configuration files (determined by the B<site> type) must have a I<.conf>
+suffix and are installed to I<@FINKPREFIX@/etc/apache2/sites-available>. Moreover, the
+configuration is activated in the maintainer script at installation time.
+
+Such global configuration snippets are supposed to be used by web applications
+and third party packages which install virtual host configurations. This type of
+configuration sets the same dependencies as configuration files.
+
+=head2 MODULES
+
+Modules are handled specially and are determined by the B<mod> type. Modules can
+either have a I<.conf> or I<.load> suffix. In that case the file is interpreted
+as module load file or module configuration file respectively and is nstalled to
+I<@FINKPREFIX@/etc/apache2/mods-available>. If the file is ending with a I<.so> suffix it is
+interpreted as actual module shared object and is installed to the Apache module
+directory. Moreover, if a I<.load> file is installed the configuration is
+activated in the maintainer script at installation time.
+
+A typical module configuration has two lines, one for the I<.load> file, and one
+for the I<.so> file, albeit the latter could be installed by upstream's
+makefile, too.
+
+B<dh_apache2> will set dependencies in B<${misc:Depends}> accordingly when
+this type of configuration is found.
+
+=head1 OPTIONS
+
+=over 4
+
+=item B<--error-handler=>I<function>
+
+Call the named shell I<function> if running the maintainer script fails. The
+function should be provided in the F<prerm> and F<postinst> scripts, before the
+B<#DEBHELPER#> token.
+
+=item S<B<--conditional>>=I<function>
+
+Only execute maintainer scripts if the named shell I<function> evaluates to a
+true value at installation time. This is useful to web applications which want
+to install Apache configuration files depending on a user input, for example if
+they interface to the user through L<debconf(1)>.
+
+The defaults is to always execute the scripts. The named function should be
+provided in the F<prerm>, F<postrm> and F<postinst> scripts, before the
+B<#DEBHELPER#> token.
+
+=item S<B<--restart>> S<B<-r>>
+
+In maintainer scripts, do not try to reload the web server, but restart it.
+Otherwise the default action is used, which means global configuration and
+sites make the web server to be reloaded on success, modules are restarted.
+
+=item B<-e>, B<--noenable>
+
+Install maintainer scripts accordingly, but do not enable the scripts or
+configuration by default.
+
+=item B<-n>, B<--noscripts>
+
+Do not modify F<postinst>/F<postrm>/F<prerm> maintainer scripts.
+
+
+=back
+
+=head1 NOTES
+
+Note that this command is not idempotent. L<dh_prep(1)> should be called
+between invocations of this command. Otherwise, it may cause multiple
+instances of the same text to be added to maintainer scripts.
+
+=head1 EXAMPLES
+
+The examples below lists valid entries for a debian/I<package>.apache2 file. For
+example, the two lines below install a fictional I<mod_foo> Apache module along
+a Debian specific I<.load> file:
+
+ mod src/foo/mod_foo.so
+ mod debian/foo.load
+
+The example below installs a fictional web application called phpmyfoo supplied
+in a package which also supports Lighttpd and nginx:
+
+ conf debian/phpmyfoo.conf lighttpd (>= 1.4.30) | nginx-full
+
+Or, the same example again this time without support for other web servers:
+
+ conf debian/phpmyfoo.conf
+
+As a final example, install a module called I<mod_foo> along with a site
+configuration for a fictional site configuration for the site I<example.com>:
+
+ mod  src/foo/mod_foo.so
+ mod  debian/foo.load
+ mod  debian/foo.conf
+ site debian/example_com.conf
+
+=head1 SEE ALSO
+
+L<apache2ctl>(8), L<a2query>(8), L<debhelper>(7), L<dh>(1)
+
+=head1 AUTHOR
+
+This manual and L<dh_apache2> was written by Arno Toell <debian@toell.net>.
+
+=cut
+
+
+##
+## main code starts here
+##
+
+init(options => {
+	"conditional=s" => \$dh{CONDITIONAL},
+	"r|restart" => \$dh{RESTART},
+	"e|noenable" => \$dh{NOENABLE},
+});
+
+if (!$dh{CONDITIONAL})
+{
+	$dh{CONDITIONAL} = 'true';
+}
+elsif ($dh{CONDITIONAL} !~ /^\w+$/) {
+	die "The conditional function name must only contain ASCII letters, numbers, and underscores\n";
+}
+
+if ($dh{RESTART})
+{
+	$dh{RESTART} = 'restart';
+}
+else
+{
+	$dh{RESTART} = '';
+}
+
+foreach my $package ((@{$dh{DOPACKAGES}}))
+{
+	my %PACKAGE_TYPE = (
+		has_a_module => [],
+		has_a_conf_file => [],
+		has_a_site_conf => [],
+		dependency_line => "",
+		handler => $dh{ERROR_HANDLER},
+		conditional => $dh{CONDITIONAL}
+	);
+
+	my $file = pkgfile($package, "apache2");
+	my $tmp  = tmpdir($package);
+
+	my @files_to_register = filedoublearray($file, ".") if $file;
+	foreach my $line (@files_to_register)
+	{
+		my $type = lc(shift @{$line}) if $line->[0];
+		my $source = shift @{$line} if $line->[0];
+		my @arguments = map {"$_ "} @{$line};
+
+		$type .= "s" unless $type eq "conf";
+		my $installdir = $tmp . "/" . apache_conf_installdir($type);
+
+		#verbose_print("$type -- $source -- @arguments\n\n");
+
+		if ($type eq "mods" or $type eq "sites" or $type eq "conf")
+		{
+			my $basesource = basename($source);
+
+			if ($type eq "mods")
+			{
+				if ($basesource =~ m/\.load$/)
+				{
+					my $enablename = $basesource;
+					$enablename =~ s/\.load$//;
+					push @{$PACKAGE_TYPE{'has_a_module'}}, $enablename;
+					verbose_print("Installing module configuration $enablename into $installdir\n");
+				}
+				elsif ($basesource =~ m/\.so$/)
+				{
+					my $modinstalldir = $tmp . "/" . apache_api_installdir();
+					verbose_print("Installing module binary $source into $modinstalldir\n");
+					if (! -d $modinstalldir)
+					{
+						complex_doit("mkdir","-p", $modinstalldir);
+						complex_doit("chmod","755","$modinstalldir");
+					}
+					complex_doit("cp", $source, $modinstalldir);
+					next;
+				}
+
+				error("module: \"$basesource\" needs .conf, .so or .load suffix") if $basesource !~ m/\.(conf|load|so)/;
+			}
+			elsif ($type eq "sites")
+			{
+				push @{$PACKAGE_TYPE{'has_a_site_conf'}}, $basesource;
+				verbose_print("Installing site configuration $basesource into $installdir\n");
+			}
+			elsif($type eq "conf")
+			{
+
+				if ($#arguments >= 0)
+				{
+					$PACKAGE_TYPE{'dependency_line'} .= " | " . join("", @arguments);
+				}
+
+				if ($basesource =~ m/\.conf/)
+				{
+					my $enablename = $basesource;
+					$enablename =~ s/\.conf$//;
+					push
+					@{$PACKAGE_TYPE{'has_a_conf_file'}}, $enablename;
+					verbose_print("Installing global configuration $enablename into $installdir\n");
+				}
+				error("configuration file: \"$basesource\" needs .conf suffix") if $basesource !~ m/\.conf/;
+			}
+
+			if (! -d $installdir)
+			{
+				complex_doit("mkdir","-p",$installdir);
+				complex_doit("chmod","755","$installdir");
+			}
+			complex_doit("cp",$source,$installdir);
+			complex_doit("chmod","644","$installdir/$basesource");
+
+		}
+		else
+		{
+			error("Unknown parameter: $type\n");
+		}
+
+	}
+
+
+	if (! $file)
+	{
+		# do black magic only if there is no .apache2 configuration file
+		find({  no_chdir => 1,
+			wanted => sub
+			{
+				my ($dir, $file) = (dirname($File::Find::name), basename($File::Find::name));
+				# remove extension
+				my $conf_name = $file;
+				$conf_name =~ s/\.[^.]+$//;
+
+				if ($dir =~ m#@FINKBASE@/etc/apache2/mods-available# and $file =~ m#.(load|conf)$#)
+				{
+					verbose_print("package $package appears	to be a web server module\n");
+					push @{$PACKAGE_TYPE{'has_a_module'}}, $conf_name if $file =~ m/\.load/;
+				}
+				if ($dir =~ m#@FINKBASE@/etc/apache2/sites-available# and $file =~ m#.conf$#)
+				{
+					verbose_print("package $package appears	to contain a virtual host confoguration\n");
+					push @{$PACKAGE_TYPE{'has_a_site_conf'}}, $conf_name;
+				}
+				if ($dir =~ m#@FINKBASE@/etc/apache2/conf-available# and $file =~ m#.conf$#)
+				{
+					verbose_print("package $package appears	to contain a global configuration file \n");
+					push @{$PACKAGE_TYPE{'has_a_conf_file'}}, $conf_name;
+				}
+
+
+
+		}}, tmpdir($package));
+	}
+
+
+	my @postinst_autoscripts;
+
+	if ($#{$PACKAGE_TYPE{'has_a_module'}} >= 0)
+	{
+		if ($package !~ m/libapache2-mod-\w+?/)
+		{
+			warning("Package $package appears to be an Apache module. It should comply to the package naming scheme libapache2-mod-<modulename>\n");
+		}
+		addsubstvar($package, "misc:Depends", apache_api_version());
+
+		my $modules = "";
+		foreach my $module (@{$PACKAGE_TYPE{'has_a_module'}})
+		{
+			$modules .= "$module ";
+		}
+
+		push @postinst_autoscripts, ["enmod", $modules];
+	}
+
+	if ($#{$PACKAGE_TYPE{'has_a_conf_file'}} >= 0 or $#{$PACKAGE_TYPE{'has_a_site_conf'}} >= 0)
+	{
+		$PACKAGE_TYPE{'dependency_line'} .= "| httpd";
+		addsubstvar($package, "misc:Recommends", "apache2 (" . apache_version() . ") " . $PACKAGE_TYPE{'dependency_line'} );
+
+		my $confs = "";
+		my $sites = "";
+
+		foreach my $conf (@{$PACKAGE_TYPE{'has_a_conf_file'}})
+		{
+			$confs .= "$conf ";
+		}
+
+		foreach my $site (@{$PACKAGE_TYPE{'has_a_site_conf'}})
+		{
+			$sites .= "$site ";
+		}
+
+		if ($confs)
+		{
+			push @postinst_autoscripts, ["enconf", $confs];
+		}
+		if ($sites)
+		{
+			push @postinst_autoscripts, ["ensite", $sites];
+		}
+
+	}
+
+	if (! $dh{NOSCRIPTS})
+	{
+		foreach my $ref (@postinst_autoscripts)
+		{
+			for my $script_type (qw/postinst prerm postrm/)
+			{
+				if ($script_type eq "postinst" &&  $dh{NOENABLE})
+				{
+					next
+				}
+
+				my %replacements = (
+					HELPER => $ref->[0],
+					NAMES  => $ref->[1],
+					ERROR_HANDLER => $PACKAGE_TYPE{handler},
+					CONDITIONAL_VARIABLE => $PACKAGE_TYPE{conditional},
+					ACTION => $dh{RESTART},
+				);
+
+				if ($script_type eq "prerm" || $script_type eq "postrm")
+				{
+					$replacements{'HELPER'} =~ s/en/dis/;
+				}
+
+				my $sed_command = "";
+				foreach my $key (sort keys %replacements)
+				{
+					my $val = $replacements{$key};
+					# Use a control char as separator for sed, to
+					# reduce escaping issues. Everything else is
+					# passed verbatim, i.e. it must not contain any
+					# shell or sed special characters.
+					my $sep = "\x17";
+					$sed_command .= "s" . $sep . "#$key#" .
+							      $sep . $val .
+							      $sep . "g; ";
+				}
+
+				autoscript($package, "$script_type", "$script_type-apache2", $sed_command);
+			}
+		}
+	}
+}
+
+# vim: syntax=perl sw=8 sts=8 sr noet
diff -ruN httpd-2.4.6.orig/fink/debhelper/postinst-apache2 httpd-2.4.6/fink/debhelper/postinst-apache2
--- httpd-2.4.6.orig/fink/debhelper/postinst-apache2	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/debhelper/postinst-apache2	2013-08-06 15:05:03.000000000 -0600
@@ -0,0 +1,8 @@
+if #CONDITIONAL_VARIABLE#; then
+	if [ -e @FINKPREFIX@/share/apache2/apache2-maintscript-helper ] ; then
+		. @FINKPREFIX@/share/apache2/apache2-maintscript-helper
+		for conf in #NAMES# ; do
+			apache2_invoke #HELPER# $conf #ACTION# || #ERROR_HANDLER#
+		done
+	fi
+fi
diff -ruN httpd-2.4.6.orig/fink/debhelper/postrm-apache2 httpd-2.4.6/fink/debhelper/postrm-apache2
--- httpd-2.4.6.orig/fink/debhelper/postrm-apache2	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/debhelper/postrm-apache2	2013-08-06 15:05:25.000000000 -0600
@@ -0,0 +1,11 @@
+if [ "$1" = "purge" ] ; then
+	if #CONDITIONAL_VARIABLE#; then
+		if [ -e @FINKPREFIX@/share/apache2/apache2-maintscript-helper ] ; then
+			. @FINKPREFIX@/share/apache2/apache2-maintscript-helper
+
+			for conf in #NAMES# ; do
+				apache2_invoke #HELPER# $conf #ACTION# || #ERROR_HANDLER#
+			done
+		fi
+	fi
+fi
diff -ruN httpd-2.4.6.orig/fink/debhelper/prerm-apache2 httpd-2.4.6/fink/debhelper/prerm-apache2
--- httpd-2.4.6.orig/fink/debhelper/prerm-apache2	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/debhelper/prerm-apache2	2013-08-06 15:05:41.000000000 -0600
@@ -0,0 +1,11 @@
+if [ "$1" = "remove" ] || [ "$1" = "deconfigure" ] ; then
+	if #CONDITIONAL_VARIABLE#; then
+		if [ -e @FINKPREFIX@/share/apache2/apache2-maintscript-helper ] ; then
+			. @FINKPREFIX@/share/apache2/apache2-maintscript-helper
+
+			for conf in #NAMES# ; do
+				apache2_invoke #HELPER# $conf #ACTION# || #ERROR_HANDLER#
+			done
+		fi
+	fi
+fi
diff -ruN httpd-2.4.6.orig/fink/default httpd-2.4.6/fink/default
--- httpd-2.4.6.orig/fink/default	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/default	2012-08-14 13:56:35.000000000 -0600
@@ -0,0 +1,26 @@
+### htcacheclean settings ###
+
+## run htcacheclean: yes, no, auto
+## auto means run if @FINKPREFIX@/etc/apache2/mods-enabled/disk_cache.load exists
+## default: auto
+HTCACHECLEAN_RUN=auto
+
+## run mode: cron, daemon
+## run in daemon mode or as daily cron job
+## default: daemon
+HTCACHECLEAN_MODE=daemon
+
+## cache size 
+HTCACHECLEAN_SIZE=300M
+
+## interval: if in daemon mode, clean cache every x minutes
+HTCACHECLEAN_DAEMON_INTERVAL=120
+
+## path to cache
+## must be the same as in CacheRoot directive
+HTCACHECLEAN_PATH=@FINKPREFIX@/var/cache/apache2/mod_disk_cache
+
+## additional options:
+## -n : be nice
+## -t : remove empty directories
+HTCACHECLEAN_OPTIONS="-n"
diff -ruN httpd-2.4.6.orig/fink/icons/odf6odb-20x22.png.txt httpd-2.4.6/fink/icons/odf6odb-20x22.png.txt
--- httpd-2.4.6.orig/fink/icons/odf6odb-20x22.png.txt	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/icons/odf6odb-20x22.png.txt	2012-06-12 08:46:21.000000000 -0600
@@ -0,0 +1,21 @@
+begin-base64 644 odf6odb-20x22.png
+iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAMAAAD3n0w0AAACVVBMVEXZ2dkmJiYnJycoJycnKCgo
+KCgpKSkzMzMzM5lcXKxdXK1dXa1eXq6ZmZmampqcm5ufn5+ioaKhoqKmpqWnp6fOztzOz9zR0N7R
+0d3R0d/S0eDS0uDT0+DT1ODV1eIAAADX2OTY2OTa2trb2tvb29vc29zb3Nvc3Nvc3Nzc3dzd3dzd
+3d3d3t7e3t3e3t7e397e39/f39/e3ujg39/f4N/g4ODf3+ng4OHh4ODh4OHh4eDh4eHh4eLi4eHh
+4uLi4uHi4uLj4uLj4uPi4+Lj4+Pj4+Tk4+Pk4+Tj5OTk5OTk5OXl5OTk5eTk5eXl5eXl5ebm5eXm
+5ebl5uXl5ubm5ubm5ufn5ufm5+bm5+fn5+fn5+jm5vHo5+fo5+jn6Ojo6Ofo6Ojo5/Hp6Ono6enp
+6ejp6enp6erq6enq6erp6unp6urq6unq6urq6uvr6uvq6+vr6+vr6+zs6+vs6+zr7Ovr7Ozs7Ozs
+7O3t7Ozt7O3s7e3t7e3u7e3t7u3t7u7u7u3u7u7u7u/v7u/v7+7v7+/v7/Dw7/Dv8O/v8PDw8PDx
+8PDx8PHw8fDw8fHx8fDx8fHx8fLx8vHy8vHy8vLy8vPz8vLz8vPy8/Ly8/Pz8/Lz8/Pz8/T08/Tz
+9PP09PP09PT19PT19PX09fT09fX19fX19fb29fX29fb19vb29vb29vf39vf39/f49/j3+Pf3+Pj4
++Pj4+Pn5+fn5+fr6+fn6+fr6+vr7+vr7+vv6+/v7+/v8+/v8/Pz9/Pz8/fz9/fz9/f3+/f3+/f7+
+/v7+/v///v/////2MLzaAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAJcEhZcwAACxMAAAsT
+AQCanBgAAAFOSURBVBjTY2BHBgxQwH7s2OEDibu2bd6whn0ZTJT96GFFHg5uuQ1rlrPPnwUVZT+k
+wAECMksWsM+Y1AMRZd/DwyG3cY0014LZ7BO7OhrBouzRIHUrl3CYTZZnB0OQ4BZujtXLF0tw9vfJ
+QwBIcIMsh9QCcQ7R/pbmal4gAAuuWSnJycEp1tnaWF1eABNcsnj2LKN+ETaQTlahBIjgwnlTJ/e1
+swlXFeamCbJEQgRnTe7vbGuQZwWpZJb3gwhO7O1saaiWL8hOjYsMkfeECPa3N9VVFcqnJ8RG+vvJ
+u0AEW5prygpy5VNiQgK83ORtIIIN1cUFOanykSF+nm4O8hYQwarSgvTkOPlAH3cXe2t5Q4hgUU5q
+QlQok4CHg50VP6MuRBAoFhkSJMAEchIjnyZEMCU2ItDP1cXB2tRQT1tdBSLIzosCwEHHwCCPBhgY
+AAu7YJl7iNbrAAAAAElFTkSuQmCC
+====
diff -ruN httpd-2.4.6.orig/fink/icons/odf6odc-20x22.png.txt httpd-2.4.6/fink/icons/odf6odc-20x22.png.txt
--- httpd-2.4.6.orig/fink/icons/odf6odc-20x22.png.txt	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/icons/odf6odc-20x22.png.txt	2012-06-12 08:46:21.000000000 -0600
@@ -0,0 +1,20 @@
+begin-base64 644 odf6odc-20x22.png
+iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAMAAAD3n0w0AAACLlBMVEXZ2dkzMzMzM5lcXKxdXK1d
+Xa1eXq6ZmZnOztzOz9zR0N7R0d3R0d/S0eDS0uDT0+DT1ODV1eIAAADX2OTY2OTa2trb2tvb29vc
+29zb3Nvc3Nvc3Nzc3dzd3dzd3d3d3t7e3t3e3t7e397e39/f39/e3ujg39/f4N/g4ODf3+ng4OHh
+4ODh4OHh4eDh4eHh4eLi4eHh4uLi4uHi4uLj4uLj4uPi4+Lj4+Pj4+Tk4+Pk4+Tj5OTk5OTk5OXl
+5OTk5eTk5eXl5eXl5ebm5eXm5ebl5uXl5ubm5ubm5ufn5ufm5+bm5+fn5+fn5+jm5vHo5+fo5+jn
+6Ojo6Ofo6Ojo5/Hp6Ono6enp6ejp6enp6erq6enq6erp6unp6urq6unq6urq6uvr6uvq6+vr6+vr
+6+zs6+vs6+zr7Ovr7Ozs7Ozs7O3t7Ozt7O3s7e3t7e3u7e3t7u3t7u7u7u3u7u7u7u/v7u/v7+7v
+7+/v7/Dw7/Dv8O/v8PDw8PDx8PDx8PHw8fDw8fHx8fDx8fHx8fLx8vHy8vHy8vLy8vPz8vLz8vPy
+8/Ly8/Pz8/Lz8/Pz8/T08/Tz9PP09PP09PT19PT19PX09fT09fX19fX19fb29fX29fb19vb29vb2
+9vf39vf39/f49/j3+Pf3+Pj4+Pj4+Pn5+fn5+fr6+fn6+fr6+vr7+vr7+vv6+/v7+/v8+/v8/Pz9
+/Pz8/fz9/fz9/f3+/f3+/f7+/v7+/v///v////9yFadVAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgF
+HUgAAAAJcEhZcwAACxMAAAsTAQCanBgAAAFGSURBVBjTY2BEBgxQwLhz57bNIWtXLls8n3EmTJRx
+xzYRNiZWwcXzZzFO6oWKMm4VZgIB/umTGbtb6yGijOvZmASXzOdjmdzH2FJbXQIWZfQDqZsznUmz
+TYgRDEGCy1mZ5s2axs3c1CgEASDBxQJMvJO5mDiaysvy2IEALDh/Dg8zEzNnTUVJXlYyTHD6tL5e
+1aaa8qK8zKTosGCI4JSJHW2NVSVFuSkJkaGBPhDBXqGmmsrivMxkodhgf3dHiGCLUE05SCxOKNDH
+XcgGItgkVFqYmxIfFSzk4+QoZA4RLBfKz0xOiBHyF3IWshTShwgWC6UlxwsFCwG1ChkLaUMEc4WS
+hcKEPIXshcyF9IRUIIKpQhHBvh4uttbGhrpqSgoQwXghZCADEQwP8HZxtDA31tNQUZSTEocIMrKj
+AHDQMTAIoQEGBgAAx1K+64izZQAAAABJRU5ErkJggg==
+====
diff -ruN httpd-2.4.6.orig/fink/icons/odf6odf-20x22.png.txt httpd-2.4.6/fink/icons/odf6odf-20x22.png.txt
--- httpd-2.4.6.orig/fink/icons/odf6odf-20x22.png.txt	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/icons/odf6odf-20x22.png.txt	2012-06-12 08:46:21.000000000 -0600
@@ -0,0 +1,21 @@
+begin-base64 644 odf6odf-20x22.png
+iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAMAAAD3n0w0AAACWFBMVEXZ2dkmJiYnJycoKCgzMzMz
+M5lcXKxdXK1dXa1eXq6ZmZmen5+goKGgoaChoaGioaGjoqOjo6OlpKSkpaWlpaSmpqbOztzOz9zR
+0N7R0d3R0d/S0eDS0uDT0+DT1ODV1eIAAADX2OTY2OTa2trb2tvb29vc29zb3Nvc3Nvc3Nzc3dzd
+3dzd3d3d3t7e3t3e3t7e397e39/f39/e3ujg39/f4N/g4ODf3+ng4OHh4ODh4OHh4eDh4eHh4eLi
+4eHh4uLi4uHi4uLj4uLj4uPi4+Lj4+Pj4+Tk4+Pk4+Tj5OTk5OTk5OXl5OTk5eTk5eXl5eXl5ebm
+5eXm5ebl5uXl5ubm5ubm5ufn5ufm5+bm5+fn5+fn5+jm5vHo5+fo5+jn6Ojo6Ofo6Ojo5/Hp6Ono
+6enp6ejp6enp6erq6enq6erp6unp6urq6unq6urq6uvr6uvq6+vr6+vr6+zs6+vs6+zr7Ovr7Ozs
+7Ozs7O3t7Ozt7O3s7e3t7e3u7e3t7u3t7u7u7u3u7u7u7u/v7u/v7+7v7+/v7/Dw7/Dv8O/v8PDw
+8PDx8PDx8PHw8fDw8fHx8fDx8fHx8fLx8vHy8vHy8vLy8vPz8vLz8vPy8/Ly8/Pz8/Lz8/Pz8/T0
+8/Tz9PP09PP09PT19PT19PX09fT09fX19fX19fb29fX29fb19vb29vb29vf39vf39/f49/j3+Pf3
++Pj4+Pj4+Pn5+fn5+fr6+fn6+fr6+vr7+vr7+vv6+/v7+/v8+/v8/Pz9/Pz8/fz9/fz9/f3+/f3+
+/f7+/v7+/v///v/////zGJjLAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAJcEhZcwAACxMA
+AAsTAQCanBgAAAFLSURBVBjTY2BBBgxQwHL8+JGDSbu3b9m4lmU5TJTl2BElTlYO+Y1rV7AsmA0V
+ZTmsyAoCsksXssyc3AsRZdnLySq/aa0M+8I5LJO6O5vAoiwxIHWrlrKaT1FgAUOQ4FYO1jUrlkiy
+TehXgACQ4EY5VumFEqxiE1pbariAACy4dpUUGyubeFdbU01FIUxw6ZI5s40ndLU21JQXZKYkQgQX
+zZ82pb8DYlxyfBREcPaUCV3tjcyihbnCzLGh/hDBSX1drY01oswiafFRof5eEMEJHc311UW5QsyC
+UQH+Hq4QwdaW2vLCvKxUQSZ+b3dnW4hgY01JYW5aoiATn5e7o50lRLC6rDAjJV6AidfD1cHGzAgi
+WAxUFh3GxOPpyM1oYqAHEQSKRYUGQ9ypr6MFEUyNiwzyd3N1BGrV19FQhQiycKEAcNAxMCigAQYG
+AJCUYbIIDCaeAAAAAElFTkSuQmCC
+====
diff -ruN httpd-2.4.6.orig/fink/icons/odf6odg-20x22.png.txt httpd-2.4.6/fink/icons/odf6odg-20x22.png.txt
--- httpd-2.4.6.orig/fink/icons/odf6odg-20x22.png.txt	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/icons/odf6odg-20x22.png.txt	2012-06-12 08:46:21.000000000 -0600
@@ -0,0 +1,21 @@
+begin-base64 644 odf6odg-20x22.png
+iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAMAAAD3n0w0AAACbVBMVEXZ2dkqKiorKiorKysrKyws
+LCwsLC0tLS0zMzMzM5lcXKxdXK1dXa1eXq6ZmZmam5qdnZ2fn6Cgn5+hoaGioqKio6Kio6Ojo6Ok
+pKSkpaWlpaWmpqampqfOztzOz9zR0N7R0d3R0d/S0eDS0uDT0+DT1ODV1eIAAADX2OTY2OTa2trb
+2tvb29vc29zb3Nvc3Nvc3Nzc3dzd3dzd3d3d3t7e3t3e3t7e397e39/f39/e3ujg39/f4N/g4ODf
+3+ng4OHh4ODh4OHh4eDh4eHh4eLi4eHh4uLi4uHi4uLj4uLj4uPi4+Lj4+Pj4+Tk4+Pk4+Tj5OTk
+5OTk5OXl5OTk5eTk5eXl5eXl5ebm5eXm5ebl5uXl5ubm5ubm5ufn5ufm5+bm5+fn5+fn5+jm5vHo
+5+fo5+jn6Ojo6Ofo6Ojo5/Hp6Ono6enp6ejp6enp6erq6enq6erp6unp6urq6unq6urq6uvr6uvq
+6+vr6+vr6+zs6+vs6+zr7Ovr7Ozs7Ozs7O3t7Ozt7O3s7e3t7e3u7e3t7u3t7u7u7u3u7u7u7u/v
+7u/v7+7v7+/v7/Dw7/Dv8O/v8PDw8PDx8PDx8PHw8fDw8fHx8fDx8fHx8fLx8vHy8vHy8vLy8vPz
+8vLz8vPy8/Ly8/Pz8/Lz8/Pz8/T08/Tz9PP09PP09PT19PT19PX09fT09fX19fX19fb29fX29fb1
+9vb29vb29vf39vf39/f49/j3+Pf3+Pj4+Pj4+Pn5+fn5+fr6+fn6+fr6+vr7+vr7+vv6+/v7+/v8
++/v8/Pz9/Pz8/fz9/fz9/f3+/f3+/f7+/v7+/v///v////9hYXL5AAAAAXRSTlMAQObYZgAAAAFi
+S0dEAIgFHUgAAAAJcEhZcwAACxMAAAsTAQCanBgAAAFPSURBVBjTY+BABgxQwHHu3OkTmYf27d6x
+hWMdTJTj7GlNXk4etR1b1nMsXwQV5TilwQkCKmtWcCyYNQUiynGEl1Nt5xZl7hWLOWZOmtAJFuVI
+BqnbuIbTbrY6BxiCBPfwcG5ev1qBa/o0dQgACe5Q5VRaIc8pO72nu5kPCMCCWzYqcnFyyU2U6Wyu
+r4AJrlm9eJHV9InS7FJ15QXZGRDBlcvmzp7W38kuyV6al5WWCBFcNHv6xL4OKfYKVrGMlJgwiODM
+qRN7OprZJYpFWBNjwgIhgtP7u9qaJFjzM1JZBcP8fSCCPd0tdRVsojkpMUIsfl4uEMGO5uoKcdYM
+kFZmAVcHiGBTbUU+q3BcZIi/jwCzrSVEsKokV5g1NjIowMPNiYnfFCJYkpvBqg4DjIYQwZzUhMgw
+Xx8PZ1tLM2N9HYggBx8KAAcdA4M6GmBgAABuC2ZqLPWjjgAAAABJRU5ErkJggg==
+====
diff -ruN httpd-2.4.6.orig/fink/icons/odf6odi-20x22.png.txt httpd-2.4.6/fink/icons/odf6odi-20x22.png.txt
--- httpd-2.4.6.orig/fink/icons/odf6odi-20x22.png.txt	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/icons/odf6odi-20x22.png.txt	2012-06-12 08:46:21.000000000 -0600
@@ -0,0 +1,21 @@
+begin-base64 644 odf6odi-20x22.png
+iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAMAAAD3n0w0AAACbVBMVEXZ2dkrKyssLCwsLC0tLS0z
+MzMzM5lcXKxdXK1dXa1eXq6ZmZm4uLi5uLi7u7u7u7y8u7u8vLy9vb2+vb2+vb69vr6+vr6/vr6+
+v77AwMDAwMHBwMHAwcHOztzOz9zR0N7R0d3R0d/S0eDS0uDT0+DT1ODV1eIAAADX2OTY2OTa2trb
+2tvb29vc29zb3Nvc3Nvc3Nzc3dzd3dzd3d3d3t7e3t3e3t7e397e39/f39/e3ujg39/f4N/g4ODf
+3+ng4OHh4ODh4OHh4eDh4eHh4eLi4eHh4uLi4uHi4uLj4uLj4uPi4+Lj4+Pj4+Tk4+Pk4+Tj5OTk
+5OTk5OXl5OTk5eTk5eXl5eXl5ebm5eXm5ebl5uXl5ubm5ubm5ufn5ufm5+bm5+fn5+fn5+jm5vHo
+5+fo5+jn6Ojo6Ofo6Ojo5/Hp6Ono6enp6ejp6enp6erq6enq6erp6unp6urq6unq6urq6uvr6uvq
+6+vr6+vr6+zs6+vs6+zr7Ovr7Ozs7Ozs7O3t7Ozt7O3s7e3t7e3u7e3t7u3t7u7u7u3u7u7u7u/v
+7u/v7+7v7+/v7/Dw7/Dv8O/v8PDw8PDx8PDx8PHw8fDw8fHx8fDx8fHx8fLx8vHy8vHy8vLy8vPz
+8vLz8vPy8/Ly8/Pz8/Lz8/Pz8/T08/Tz9PP09PP09PT19PT19PX09fT09fX19fX19fb29fX29fb1
+9vb29vb29vf39vf39/f49/j3+Pf3+Pj4+Pj4+Pn5+fn5+fr6+fn6+fr6+vr7+vr7+vv6+/v7+/v8
++/v8/Pz9/Pz8/fz9/fz9/f3+/f3+/f7+/v7+/v///v////8eeoEKAAAAAXRSTlMAQObYZgAAAAFi
+S0dEAIgFHUgAAAAJcEhZcwAACxMAAAsTAQCanBgAAAFKSURBVBjTY2BFBgxQwHru3OkTmYf27d6x
+hXUdTJT17GlNLjZOtR1b1rMuXwQVZT2lwQYCKmtWsC6YNQUiynqEi01t5xZljhWLWWdOmtAJFmVN
+BqnbuIbNbrY6KxiCBPdwsm1ev1qBffo0dQgACe5QZVNaIc8mO72nu5kbCMCCWzYqsrOxy03s7Wyu
+r4AJrlm9eJHV9Ik97c115QXZGRDBlcvmzp7W39neVFmal5WWCBFcNHv6xL6O5rqKkqKMlJgwiODM
+qRN7QGLFuaJMgmGBEMHp/V1tTVJM4hkiTPxM/j4QwZ7uljpJZgkmYSaBIHUvF4hgR7M0C5NYhhAT
+X6AfI68DRLBJhkU8Oy0uMsTfx52H0RIiWAVUlhQbGRTg4eZkrW4KESxRRwaGEMGc1ITIMF8fD2db
+SzNjfR2IICs3CgAHHQODOhpgYAAAhh9mExNPmYgAAAAASUVORK5CYII=
+====
diff -ruN httpd-2.4.6.orig/fink/icons/odf6odm-20x22.png.txt httpd-2.4.6/fink/icons/odf6odm-20x22.png.txt
--- httpd-2.4.6.orig/fink/icons/odf6odm-20x22.png.txt	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/icons/odf6odm-20x22.png.txt	2012-06-12 08:46:21.000000000 -0600
@@ -0,0 +1,21 @@
+begin-base64 644 odf6odm-20x22.png
+iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAMAAAD3n0w0AAACW1BMVEXZ2dktLS0uLi4uLy8vLy8z
+MzMzM5lcXKxdXK1dXa1eXq6ZmZmdnZ2fnp6gn6CgoKChoaGioqGioqOjoqOkpKSkpaWmpqbOztzO
+z9zR0N7R0d3R0d/S0eDS0uDT0+DT1ODV1eIAAADX2OTY2OTa2trb2tvb29vc29zb3Nvc3Nvc3Nzc
+3dzd3dzd3d3d3t7e3t3e3t7e397e39/f39/e3ujg39/f4N/g4ODf3+ng4OHh4ODh4OHh4eDh4eHh
+4eLi4eHh4uLi4uHi4uLj4uLj4uPi4+Lj4+Pj4+Tk4+Pk4+Tj5OTk5OTk5OXl5OTk5eTk5eXl5eXl
+5ebm5eXm5ebl5uXl5ubm5ubm5ufn5ufm5+bm5+fn5+fn5+jm5vHo5+fo5+jn6Ojo6Ofo6Ojo5/Hp
+6Ono6enp6ejp6enp6erq6enq6erp6unp6urq6unq6urq6uvr6uvq6+vr6+vr6+zs6+vs6+zr7Ovr
+7Ozs7Ozs7O3t7Ozt7O3s7e3t7e3u7e3t7u3t7u7u7u3u7u7u7u/v7u/v7+7v7+/v7/Dw7/Dv8O/v
+8PDw8PDx8PDx8PHw8fDw8fHx8fDx8fHx8fLx8vHy8vHy8vLy8vPz8vLz8vPy8/Ly8/Pz8/Lz8/Pz
+8/T08/Tz9PP09PP09PT19PT19PX09fT09fX19fX19fb29fX29fb19vb29vb29vf39vf39/f49/j3
++Pf3+Pj4+Pj4+Pn5+fn5+fr6+fn6+fr6+vr7+vr7+vv6+/v7+/v8+/v8/Pz9/Pz8/fz9/fz9/f3+
+/f3+/f7+/v7+/v///v/////7IDMLAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAJcEhZcwAA
+CxMAAAsTAQCanBgAAAFVSURBVBjTY2BFBgxQwHrixNFDyXt2bN20jnUFTJT1+FFlLjZOhU3rVrIu
+nAMVZT2ixAYCcssWsc6a0gcRZd3HxaaweZ0sx6K5rJN7uprBoqyxIHWrl7FZTFVkBUOQ4DZOtrUr
+l0qxT5ygCAEgwU3ybDKLJNnEJ7a11nIDAVhw3WppdjZ2ie725trKIpjgsqVz55hM7BZjqa1gFk5N
+ggguXjB96oROMRbR4nwhJoFoiOCcqRO7O5pYRIrycpIEmAIggpP7u9uaahWLctMTosMUvSGCEztb
+GmqKFTOT4qMDAxTdIIJtrXUVRflMgnFhQT68jHYQwaba0qK8dAEm/gBvXkYeK4hgTXlRZmpCBB+j
+pxsjj7kxRLAkLz0pJjzYR9HJQdHUUB8iCBSLDgvxd1O0tVI00NWGCKbFRwUHuLs52ZobG+hqqkEE
+WblRADjoGBgU0QADAwCDDmJcDd4k9QAAAABJRU5ErkJggg==
+====
diff -ruN httpd-2.4.6.orig/fink/icons/odf6odp-20x22.png.txt httpd-2.4.6/fink/icons/odf6odp-20x22.png.txt
--- httpd-2.4.6.orig/fink/icons/odf6odp-20x22.png.txt	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/icons/odf6odp-20x22.png.txt	2012-06-12 08:46:21.000000000 -0600
@@ -0,0 +1,20 @@
+begin-base64 644 odf6odp-20x22.png
+iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAMAAAD3n0w0AAACLlBMVEXZ2dkzMzMzM5lcXKxdXK1d
+Xa1eXq6ZmZnOztzOz9zR0N7R0d3R0d/S0eDS0uDT0+DT1ODV1eIAAADX2OTY2OTa2trb2tvb29vc
+29zb3Nvc3Nvc3Nzc3dzd3dzd3d3d3t7e3t3e3t7e397e39/f39/e3ujg39/f4N/g4ODf3+ng4OHh
+4ODh4OHh4eDh4eHh4eLi4eHh4uLi4uHi4uLj4uLj4uPi4+Lj4+Pj4+Tk4+Pk4+Tj5OTk5OTk5OXl
+5OTk5eTk5eXl5eXl5ebm5eXm5ebl5uXl5ubm5ubm5ufn5ufm5+bm5+fn5+fn5+jm5vHo5+fo5+jn
+6Ojo6Ofo6Ojo5/Hp6Ono6enp6ejp6enp6erq6enq6erp6unp6urq6unq6urq6uvr6uvq6+vr6+vr
+6+zs6+vs6+zr7Ovr7Ozs7Ozs7O3t7Ozt7O3s7e3t7e3u7e3t7u3t7u7u7u3u7u7u7u/v7u/v7+7v
+7+/v7/Dw7/Dv8O/v8PDw8PDx8PDx8PHw8fDw8fHx8fDx8fHx8fLx8vHy8vHy8vLy8vPz8vLz8vPy
+8/Ly8/Pz8/Lz8/Pz8/T08/Tz9PP09PP09PT19PT19PX09fT09fX19fX19fb29fX29fb19vb29vb2
+9vf39vf39/f49/j3+Pf3+Pj4+Pj4+Pn5+fn5+fr6+fn6+fr6+vr7+vr7+vv6+/v7+/v8+/v8/Pz9
+/Pz8/fz9/fz9/f3+/f3+/f7+/v7+/v///v////9yFadVAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgF
+HUgAAAAJcEhZcwAACxMAAAsTAQCanBgAAAEwSURBVBjTY2BEBgxQwLhz57bNIWtXLls8n3EmTJRx
+xzYRNiZWwcXzZzFO6oWKMm4VZgIB/umTGbtb6yGijOvZmASXzOdjmdzH2FJbXQIWZfQDqZsznUmz
+TYgRDEGCy1mZ5s2axs3c1CgEASDBxQJMvJO5mDiaysvy2IEALDh/Dg8zEzNnTUVJXlYyTHD6tL5e
+1aaa8qK8zKTosGCI4JSJHW2NVSVFuSkJkaGBPhDB3rammsrivMzk+Nhgf3dHiGCLUI0QAthABJuq
+SgtzU+KjggN8nBytzCGC5UL5SCr1IYLFeWnJ8RHBPu6ONpbGBtoQwVyhZCSVKhDBVKAyXw8XW2tj
+Q101JQWIYLxQMJJKGYhgeIC3i6OFubGehoqinJQ4RJCRHQWAg46BQQgNMDAAAGkwUKkiN6jBAAAA
+AElFTkSuQmCC
+====
diff -ruN httpd-2.4.6.orig/fink/icons/odf6ods-20x22.png.txt httpd-2.4.6/fink/icons/odf6ods-20x22.png.txt
--- httpd-2.4.6.orig/fink/icons/odf6ods-20x22.png.txt	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/icons/odf6ods-20x22.png.txt	2012-06-12 08:46:21.000000000 -0600
@@ -0,0 +1,20 @@
+begin-base64 644 odf6ods-20x22.png
+iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAMAAAD3n0w0AAACLlBMVEXZ2dkzMzMzM5lcXKxdXK1d
+Xa1eXq6ZmZnOztzOz9zR0N7R0d3R0d/S0eDS0uDT0+DT1ODV1eIAAADX2OTY2OTa2trb2tvb29vc
+29zb3Nvc3Nvc3Nzc3dzd3dzd3d3d3t7e3t3e3t7e397e39/f39/e3ujg39/f4N/g4ODf3+ng4OHh
+4ODh4OHh4eDh4eHh4eLi4eHh4uLi4uHi4uLj4uLj4uPi4+Lj4+Pj4+Tk4+Pk4+Tj5OTk5OTk5OXl
+5OTk5eTk5eXl5eXl5ebm5eXm5ebl5uXl5ubm5ubm5ufn5ufm5+bm5+fn5+fn5+jm5vHo5+fo5+jn
+6Ojo6Ofo6Ojo5/Hp6Ono6enp6ejp6enp6erq6enq6erp6unp6urq6unq6urq6uvr6uvq6+vr6+vr
+6+zs6+vs6+zr7Ovr7Ozs7Ozs7O3t7Ozt7O3s7e3t7e3u7e3t7u3t7u7u7u3u7u7u7u/v7u/v7+7v
+7+/v7/Dw7/Dv8O/v8PDw8PDx8PDx8PHw8fDw8fHx8fDx8fHx8fLx8vHy8vHy8vLy8vPz8vLz8vPy
+8/Ly8/Pz8/Lz8/Pz8/T08/Tz9PP09PP09PT19PT19PX09fT09fX19fX19fb29fX29fb19vb29vb2
+9vf39vf39/f49/j3+Pf3+Pj4+Pj4+Pn5+fn5+fr6+fn6+fr6+vr7+vr7+vv6+/v7+/v8+/v8/Pz9
+/Pz8/fz9/fz9/f3+/f3+/f7+/v7+/v///v////9yFadVAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgF
+HUgAAAAJcEhZcwAACxMAAAsTAQCanBgAAAEpSURBVBjTY2BEBgxQwLhz57bNIWtXLls8n3EmTJRx
+xzYRNiZWwcXzZzFO6oWKMm4VZgIB/umTGbtb6yGijOvZmASXzOdjmdzH2FJbXQIWZfQDqZsznUmz
+TYgRDEGCy1mZ5s2axs3c1CgEASDBxQJMvJO5mDiaysvy2IEALDh/Dg8zEzNnTUVJXlYyTHD6tL5e
+1aaa8qK8zKTosGCI4JSJHW2NVSVFuSkJkaGBPhDB3rammsrivMzk+Nhgf3dHiGCLEDKwgQg2CZUW
+5qbECwUH+Dg5CplDBMtRVOpDBIuF0pLjI4KF3B1tLI2FtCGCuSgqVSCCqUIRwb4eLkLWxoa6akIK
+EMF4FJUyEMHwAG8XRwtzYz0NFUU5KXGIICM7CgAHHQODEBpgYAAAbP5NPEH1cBAAAAAASUVORK5C
+YII=
+====
diff -ruN httpd-2.4.6.orig/fink/icons/odf6odt-20x22.png.txt httpd-2.4.6/fink/icons/odf6odt-20x22.png.txt
--- httpd-2.4.6.orig/fink/icons/odf6odt-20x22.png.txt	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/icons/odf6odt-20x22.png.txt	2012-06-12 08:46:21.000000000 -0600
@@ -0,0 +1,20 @@
+begin-base64 644 odf6odt-20x22.png
+iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAMAAAD3n0w0AAACLlBMVEXZ2dkzMzMzM5lcXKxdXK1d
+Xa1eXq6ZmZnOztzOz9zR0N7R0d3R0d/S0eDS0uDT0+DT1ODV1eIAAADX2OTY2OTa2trb2tvb29vc
+29zb3Nvc3Nvc3Nzc3dzd3dzd3d3d3t7e3t3e3t7e397e39/f39/e3ujg39/f4N/g4ODf3+ng4OHh
+4ODh4OHh4eDh4eHh4eLi4eHh4uLi4uHi4uLj4uLj4uPi4+Lj4+Pj4+Tk4+Pk4+Tj5OTk5OTk5OXl
+5OTk5eTk5eXl5eXl5ebm5eXm5ebl5uXl5ubm5ubm5ufn5ufm5+bm5+fn5+fn5+jm5vHo5+fo5+jn
+6Ojo6Ofo6Ojo5/Hp6Ono6enp6ejp6enp6erq6enq6erp6unp6urq6unq6urq6uvr6uvq6+vr6+vr
+6+zs6+vs6+zr7Ovr7Ozs7Ozs7O3t7Ozt7O3s7e3t7e3u7e3t7u3t7u7u7u3u7u7u7u/v7u/v7+7v
+7+/v7/Dw7/Dv8O/v8PDw8PDx8PDx8PHw8fDw8fHx8fDx8fHx8fLx8vHy8vHy8vLy8vPz8vLz8vPy
+8/Ly8/Pz8/Lz8/Pz8/T08/Tz9PP09PP09PT19PT19PX09fT09fX19fX19fb29fX29fb19vb29vb2
+9vf39vf39/f49/j3+Pf3+Pj4+Pj4+Pn5+fn5+fr6+fn6+fr6+vr7+vr7+vv6+/v7+/v8+/v8/Pz9
+/Pz8/fz9/fz9/f3+/f3+/f7+/v7+/v///v////9yFadVAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgF
+HUgAAAAJcEhZcwAACxMAAAsTAQCanBgAAAE1SURBVBjTY2BEBgxQwLhz57bNIWtXLls8n3EmTJRx
+xzYRNiZWwcXzZzFO6oWKMm4VZgIB/umTGbtb6yGijOvZmASXzOdjmdzH2FJbXQIWZfQDqZsznUmz
+TYgRDEGCy1mZ5s2axs3c1CgEASDBxQJMvJO5mDiaysvy2IEALDh/Dg8zEzNnTUVJXlYyTHD6tL5e
+1aaa8qK8zKTosGCI4JSJHW2NVSVFuSkJkaGBPhDB3rammsrivMzk+Nhgf3dHiGCLEDKwgQg2oQia
+QwTLy/IzkxNiwv3dnW0tTfUhgsVA+XihYJAySyEhbYhgbkZyVFigp4u9lbmRnoYKRDBVKELIF2ye
+IRArQATjI4J93F0dzI31tFUU5WQgguEB3i6OFkAxDaCYlDhEkJEdBYCDjoFBCA0wMAAAEE1PsJ/J
+n2YAAAAASUVORK5CYII=
+====
diff -ruN httpd-2.4.6.orig/fink/icons/odf6otc-20x22.png.txt httpd-2.4.6/fink/icons/odf6otc-20x22.png.txt
--- httpd-2.4.6.orig/fink/icons/odf6otc-20x22.png.txt	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/icons/odf6otc-20x22.png.txt	2012-06-12 08:46:21.000000000 -0600
@@ -0,0 +1,21 @@
+begin-base64 644 odf6otc-20x22.png
+iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAMAAAD3n0w0AAACRlBMVEXZ2dkhISEzMzM0NDQ1NTUz
+M5lcXKxdXK1dXa1eXq6ZmZmlpKSlpaWmpqamp6amp6enp6eoqKioqKmpqaqqqarOztzOz9zR0N7R
+0d3R0d/S0eDS0uDT0+DT1ODV1eIAAADX2OTY2OTa2trb2tvb29vc29zb3Nvc3Nvc3Nzc3dzd3dzd
+3d3d3t7e3t3e3t7e397e39/f39/e3ujg39/f4N/g4ODf3+ng4OHh4ODh4OHh4eDh4eHh4eLi4eHh
+4uLi4uHi4uLj4uLj4uPi4+Lj4+Pj4+Tk4+Pk4+Tj5OTk5OTk5OXl5OTk5eTk5eXl5eXl5ebm5eXm
+5ebl5uXl5ubm5ubm5ufn5ufm5+bm5+fn5+fn5+jm5vHo5+fo5+jn6Ojo6Ofo6Ojo5/Hp6Ono6enp
+6ejp6enp6erq6enq6erp6unp6urq6unq6urq6uvr6uvq6+vr6+vr6+zs6+vs6+zr7Ovr7Ozs7Ozs
+7O3t7Ozs7e3t7e3u7e3t7u3t7u7u7u3u7u7u7u/v7u/v7+7v7+/v7/Dw7/Dv8O/v8PDw8PDx8PDw
+8fDw8fHx8fDx8fHx8vHy8vHy8vLz8vLz8vPy8/Ly8/Pz8/Lz8/Pz8/T08/Tz9PP09PP09PT19PT1
+9PX09fT09fX19fX19fb29fX29fb29vb29vf39vf39/f49/j3+Pf3+Pj4+Pj4+Pn5+fn5+fr6+fn6
++fr6+vr7+vr7+vv6+/v7+/v8+/v8/Pz9/Pz8/fz9/fz9/f3+/f3+/f7+/v7+/v///v/////O2tP2
+AAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAJcEhZcwAACxMAAAsTAQCanBgAAAFWSURBVBjT
+Y2BCBvIgwMDAwHTw4L7diVs3rlu9fOmieTOFGMGCB/YpcrJyyK1evnjB7GmCzFxgwb0KrCAgs4BF
+ZIogswBEcDsnq9ya5dLsc4RZBJn5GyCC0SB1Sxawmk0QZOarr4EIrudgXbZ4vgRbb087LzNPMURw
+tSyr1BxxVtHe5qYqbqY8iODyJZJsrGxiHS0NVeUFudkQwQXzp08z6u1orqsqy89IToAIzp01cUJP
+W0NdZWFuWlJcJERwmnxvR2t9VVmBfFZCTIgfRLBPvqMZJJYtHxcZIu8JEeyVb6ytLMxJT5CP9PeT
+d4EINstXlxXkZsrHyAfIu8nbQATr5YsLcuQT5IFa5R3kLSCClfIF8snyYfI+8i7y1vKGEMEi+dSE
+qNBALw8HOytjfV2IYI48MtCECKbERgT6ubo4WJsa6mmrq0AEmbhQABNIkIFBHg0wMAAA4ypjPVdn
+lsEAAAAASUVORK5CYII=
+====
diff -ruN httpd-2.4.6.orig/fink/icons/odf6otf-20x22.png.txt httpd-2.4.6/fink/icons/odf6otf-20x22.png.txt
--- httpd-2.4.6.orig/fink/icons/odf6otf-20x22.png.txt	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/icons/odf6otf-20x22.png.txt	2012-06-12 08:46:21.000000000 -0600
@@ -0,0 +1,21 @@
+begin-base64 644 odf6otf-20x22.png
+iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAMAAAD3n0w0AAACalBMVEXZ2dkhISEmJiYnJycoKCgz
+MzM0NDQ1NTUzM5lcXKxdXK1dXa1eXq6ZmZmen5+goKGgoaChoaGioaGjoqOjo6OlpKSkpaWlpaSl
+paWmpqamp6amp6enp6eoqKioqKmpqaqqqarOztzOz9zR0N7R0d3R0d/S0eDS0uDT0+DT1ODV1eIA
+AADX2OTY2OTa2trb2tvb29vc29zb3Nvc3Nvc3Nzc3dzd3dzd3d3d3t7e3t3e3t7e397e39/f39/e
+3ujg39/f4N/g4ODf3+ng4OHh4ODh4OHh4eDh4eHh4eLi4eHh4uLi4uHi4uLj4uLj4uPi4+Lj4+Pj
+4+Tk4+Pk4+Tj5OTk5OTk5OXl5OTk5eTk5eXl5eXl5ebm5eXm5ebl5uXl5ubm5ubm5ufn5ufm5+bm
+5+fn5+fn5+jm5vHo5+fo5+jn6Ojo6Ofo6Ojo5/Hp6Ono6enp6ejp6enp6erq6enq6erp6unp6urq
+6unq6urq6uvr6uvq6+vr6+vr6+zs6+vs6+zr7Ovr7Ozs7Ozs7O3t7Ozs7e3t7e3u7e3t7u3t7u7u
+7u3u7u7u7u/v7u/v7+7v7+/v7/Dw7/Dv8O/v8PDw8PDx8PDw8fDw8fHx8fDx8fHx8vHy8vHy8vLz
+8vLz8vPy8/Ly8/Pz8/Lz8/Pz8/T08/Tz9PP09PP09PT19PT19PX09fT09fX19fX19fb29fX29fb2
+9vb29vf39vf39/f49/j3+Pf3+Pj4+Pj4+Pn5+fn5+fr6+fn6+fr6+vr7+vr7+vv6+/v7+/v8+/v8
+/Pz9/Pz8/fz9/fz9/f3+/f3+/f7+/v7+/v///v////9bQbSjAAAAAXRSTlMAQObYZgAAAAFiS0dE
+AIgFHUgAAAAJcEhZcwAACxMAAAsTAQCanBgAAAFcSURBVBjTY2BFBtogwMDAwHr27KnjuQf37tq+
+eeO6VUvlGMGCZ07p8nBwa23fvH7N8kWybLxgwZM6HCCgsYZdYYEsmwxE8DAPh9aOzepcK+TZZdmk
+eyCC6SB1G9ZwOM2RZZPq7oAI7ubm2LR+tQrnzBmTJdkk6iGC2zU51FYocyjO7O9rE2Wtgghu3qDK
+ycGpNGVCT1tzTWU5RHDN6sWL7GZO6e9qa6ouyc+BCK5cNnfOjElgv2jnZaVCBBfNmTllYjeLZE2F
+GEtGQhREcNb0Kf3dbZIs4oVZqQlRoRDBmZN6O1trK0RZRFKjo4IDIIL9fe1NNZWlBSLMQmFBfh4Q
+we62+pqKwhwRZsHQIB9PF4hga2NNcX6WMLNAcIC3u6MtRLAOqCwtkZk/xIePyd7aEiIIFEtNiIO4
+08rcFCJYkJkSGxUY4APUamVubAARZOVFAawgQQYGbTTAwAAAYqJv/HjEEzcAAAAASUVORK5CYII=
+====
diff -ruN httpd-2.4.6.orig/fink/icons/odf6otg-20x22.png.txt httpd-2.4.6/fink/icons/odf6otg-20x22.png.txt
--- httpd-2.4.6.orig/fink/icons/odf6otg-20x22.png.txt	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/icons/odf6otg-20x22.png.txt	2012-06-12 08:46:21.000000000 -0600
@@ -0,0 +1,22 @@
+begin-base64 644 odf6otg-20x22.png
+iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAMAAAD3n0w0AAACf1BMVEXZ2dkhISEqKiorKiorKysr
+KywsLCwsLC0tLS0zMzM0NDQ1NTUzM5lcXKxdXK1dXa1eXq6ZmZmam5qdnZ2fn6Cgn5+hoaGioqKi
+o6Kio6Ojo6OkpKSlpKSkpaWlpaWmpqampqemp6amp6enp6eoqKioqKmpqaqqqarOztzOz9zR0N7R
+0d3R0d/S0eDS0uDT0+DT1ODV1eIAAADX2OTY2OTa2trb2tvb29vc29zb3Nvc3Nvc3Nzc3dzd3dzd
+3d3d3t7e3t3e3t7e397e39/f39/e3ujg39/f4N/g4ODf3+ng4OHh4ODh4OHh4eDh4eHh4eLi4eHh
+4uLi4uHi4uLj4uLj4uPi4+Lj4+Pj4+Tk4+Pk4+Tj5OTk5OTk5OXl5OTk5eTk5eXl5eXl5ebm5eXm
+5ebl5uXl5ubm5ubm5ufn5ufm5+bm5+fn5+fn5+jm5vHo5+fo5+jn6Ojo6Ofo6Ojo5/Hp6Ono6enp
+6ejp6enp6erq6enq6erp6unp6urq6unq6urq6uvr6uvq6+vr6+vr6+zs6+vs6+zr7Ovr7Ozs7Ozs
+7O3t7Ozs7e3t7e3u7e3t7u3t7u7u7u3u7u7u7u/v7u/v7+7v7+/v7/Dw7/Dv8O/v8PDw8PDx8PDw
+8fDw8fHx8fDx8fHx8vHy8vHy8vLz8vLz8vPy8/Ly8/Pz8/Lz8/Pz8/T08/Tz9PP09PP09PT19PT1
+9PX09fT09fX19fX19fb29fX29fb29vb29vf39vf39/f49/j3+Pf3+Pj4+Pj4+Pn5+fn5+fr6+fn6
++fr6+vr7+vr7+vv6+/v7+/v8+/v8/Pz9/Pz8/fz9/fz9/f3+/f3+/f7+/v7+/v///v/////QWXrU
+AAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAJcEhZcwAACxMAAAsTAQCanBgAAAFfSURBVBjT
+Y+BEBkYgwMDAwHnlysVzJSeOHNy3a8fWjWtUGcGCly+aCPDwG+7btW3zupUqXIJgwQvGPCCgv5lb
+fbkKlzJE8JQAj+H+XXp869W4VbiUJkME80Dqtm/m8VyswqU4qR8ieIifZ+e2Tdq8C+bPkueSa4MI
+7jPg0V2vxaOxYNrUXhnORojgru06vDy8mrMVJvd2NTfUQQQ3b1q10nXBbHkOuc6m6rJiiOCGtUsW
+z585mUOWo6GytDAHIrhy8YLZMybJcTSzSRbnpydCBBfOmz1tUi+HdJ04W056YgxEcMHMKRN6pNmq
+igvYRBKjwiGC06b2dTazS5Tnp4uyRob6QwQn9bY1S7EVg7SyCAd4QwR7Opqr2MQyU+KjwoVZPFwg
+gq31FWJsGSmx0cGBvsxCDhDB+opiNiMYYLKBCJYXZKckRoQH+3m4ONpZmUMEOQVRACdIkIHBCA0w
+MAAAjGF0n7ZMFJ4AAAAASUVORK5CYII=
+====
diff -ruN httpd-2.4.6.orig/fink/icons/odf6oth-20x22.png.txt httpd-2.4.6/fink/icons/odf6oth-20x22.png.txt
--- httpd-2.4.6.orig/fink/icons/odf6oth-20x22.png.txt	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/icons/odf6oth-20x22.png.txt	2012-06-12 08:46:21.000000000 -0600
@@ -0,0 +1,21 @@
+begin-base64 644 odf6oth-20x22.png
+iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAMAAAD3n0w0AAACWFBMVEXZ2dkhISEzMzM0NDQ1NTUz
+M5lcXKxdXK1dXa1eXq53d7V4eLZ5eLd5ebd6erh7e7mZmZmlpKSlpaWmpqamp6amp6enp6eoqKio
+qKmpqaqqqarOztzOz9zR0N7R0d3R0d/S0eDS0uDT0+DT1ODV1eIAAADX2OTY2OTa2trb2tvb29vc
+29zb3Nvc3Nvc3Nzc3dzd3dzd3d3d3t7e3t3e3t7e397e39/f39/e3ujg39/f4N/g4ODf3+ng4OHh
+4ODh4OHh4eDh4eHh4eLi4eHh4uLi4uHi4uLj4uLj4uPi4+Lj4+Pj4+Tk4+Pk4+Tj5OTk5OTk5OXl
+5OTk5eTk5eXl5eXl5ebm5eXm5ebl5uXl5ubm5ubm5ufn5ufm5+bm5+fn5+fn5+jm5vHo5+fo5+jn
+6Ojo6Ofo6Ojo5/Hp6Ono6enp6ejp6enp6erq6enq6erp6unp6urq6unq6urq6uvr6uvq6+vr6+vr
+6+zs6+vs6+zr7Ovr7Ozs7Ozs7O3t7Ozs7e3t7e3u7e3t7u3t7u7u7u3u7u7u7u/v7u/v7+7v7+/v
+7/Dw7/Dv8O/v8PDw8PDx8PDw8fDw8fHx8fDx8fHx8vHy8vHy8vLz8vLz8vPy8/Ly8/Pz8/Lz8/Pz
+8/T08/Tz9PP09PP09PT19PT19PX09fT09fX19fX19fb29fX29fb29vb29vf39vf39/f49/j3+Pf3
++Pj4+Pj4+Pn5+fn5+fr6+fn6+fr6+vr7+vr7+vv6+/v7+/v8+/v8/Pz9/Pz8/fz9/fz9/f3+/f3+
+/f7+/v7+/v///v////9sLkI5AAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAJcEhZcwAACxMA
+AAsTAQCanBgAAAFaSURBVBjTY2BCBqogwMDAwHT8+JGD6bu3b9m4dvWKJfMlGMGCx46oc7JyqGxc
+u3LZwjnizAJgwcNqrCCgtIxFapY4sxhEcC8nq8qmtYrsiyRZxJlF2yCCiSB1q5ax2kwTZxZpbYII
+buVgXbNyqRzb5Em9wsxClRDBjcqsCotkWaUnd3Y0CDKVQATXrpJnY2WT6etqa6gtKy6ECC5bOneO
+xeS+zpaGmtK8zDSI4OIF06dN6mlrqS8vzslIiYcIzpk2ua+7taGGn48vLSkqBCI4ZWJfJ0gM6DDe
+qBB/iODknvbm+nI+VtbkeFZuXy+IYGdHY01ZMVAwKoyV28MJItjaUFlWlM3LGgXUz+VsBxGsry7L
+zUyJ4QH51tHaHCJYUZSdlhAdHsDNxeVgaWoMEQSKxUdFBHu5OdqZmxjqQwSzkuPCQ7yBYtZAMV0t
+iCCTAApgAgkyMKiiAQYGAFMTaQfquhWYAAAAAElFTkSuQmCC
+====
diff -ruN httpd-2.4.6.orig/fink/icons/odf6oti-20x22.png.txt httpd-2.4.6/fink/icons/odf6oti-20x22.png.txt
--- httpd-2.4.6.orig/fink/icons/odf6oti-20x22.png.txt	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/icons/odf6oti-20x22.png.txt	2012-06-12 08:46:21.000000000 -0600
@@ -0,0 +1,22 @@
+begin-base64 644 odf6oti-20x22.png
+iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAMAAAD3n0w0AAAChVBMVEXZ2dkhISErKyssLCwsLC0t
+LS0zMzM0NDQ1NTUzM5lcXKxdXK1dXa1eXq6ZmZmlpKSlpaWmpqamp6amp6enp6eoqKioqKmpqaqq
+qaq4uLi5uLi7u7u7u7y8u7u8vLy9vb2+vb2+vb69vr6+vr6/vr6+v77AwMDAwMHBwMHAwcHOztzO
+z9zR0N7R0d3R0d/S0eDS0uDT0+DT1ODV1eIAAADX2OTY2OTa2trb2tvb29vc29zb3Nvc3Nvc3Nzc
+3dzd3dzd3d3d3t7e3t3e3t7e397e39/f39/e3ujg39/f4N/g4ODf3+ng4OHh4ODh4OHh4eDh4eHh
+4eLi4eHh4uLi4uHi4uLj4uLj4uPi4+Lj4+Pj4+Tk4+Pk4+Tj5OTk5OTk5OXl5OTk5eTk5eXl5eXl
+5ebm5eXm5ebl5uXl5ubm5ubm5ufn5ufm5+bm5+fn5+fn5+jm5vHo5+fo5+jn6Ojo6Ofo6Ojo5/Hp
+6Ono6enp6ejp6enp6erq6enq6erp6unp6urq6unq6urq6uvr6uvq6+vr6+vr6+zs6+vs6+zr7Ovr
+7Ozs7Ozs7O3t7Ozs7e3t7e3u7e3t7u3t7u7u7u3u7u7u7u/v7u/v7+7v7+/v7/Dw7/Dv8O/v8PDw
+8PDx8PDw8fDw8fHx8fDx8fHx8vHy8vHy8vLz8vLz8vPy8/Ly8/Pz8/Lz8/Pz8/T08/Tz9PP09PP0
+9PT19PT19PX09fT09fX19fX19fb29fX29fb29vb29vf39vf39/f49/j3+Pf3+Pj4+Pj4+Pn5+fn5
++fr6+fn6+fr6+vr7+vr7+vv6+/v7+/v8+/v8/Pz9/Pz8/fz9/fz9/f3+/f3+/f7+/v7+/v///v//
+//9GKjb7AAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAJcEhZcwAACxMAAAsTAQCanBgAAAFa
+SURBVBjTY2BDBiYgwMDAwHbt2uULZaeOHT6wZ9f2zevEGMGCVy+b8XLyGB/Ys2PrhtWi7HxgwUum
+nCBguJVDYqUouwhE8Awvp/HBPQbcG8U5RNmFp0IEC0Dqdm7l9F4qyi40ZSJE8AgP5+4dW3S5Fi2c
+I8gu0AERPGDEqb9Rh1Nr0Yzp/fxszRDBPTv1uDi5tOfOnNrf09rUABHcumXNavdFc2dM7u9uqa0o
+hQhuWr9s6cLZUyf3tTVVlxfnQQRXL100d9aU/u7WxvrSwsxkiODiBXNngMQaqpSY5ZLjIIKLZk+b
+1KfOrFKqyCzDHBMJEZwxfUK3GosqswKzbLxJeCBEcEq/Biuzcqk8s3RcNJOUL0SwT5NVpaI4Oy0x
+JjJEkskNItgOVJaflRYfGxrs72HiBBFsNEEGdhDByqLctOSoyNAALzdnBxtLiCAbHwpgAwkyMJig
+AQYGAOZzdl7FtGVFAAAAAElFTkSuQmCC
+====
diff -ruN httpd-2.4.6.orig/fink/icons/odf6otp-20x22.png.txt httpd-2.4.6/fink/icons/odf6otp-20x22.png.txt
--- httpd-2.4.6.orig/fink/icons/odf6otp-20x22.png.txt	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/icons/odf6otp-20x22.png.txt	2012-06-12 08:46:21.000000000 -0600
@@ -0,0 +1,20 @@
+begin-base64 644 odf6otp-20x22.png
+iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAMAAAD3n0w0AAACRlBMVEXZ2dkhISEzMzM0NDQ1NTUz
+M5lcXKxdXK1dXa1eXq6ZmZmlpKSlpaWmpqamp6amp6enp6eoqKioqKmpqaqqqarOztzOz9zR0N7R
+0d3R0d/S0eDS0uDT0+DT1ODV1eIAAADX2OTY2OTa2trb2tvb29vc29zb3Nvc3Nvc3Nzc3dzd3dzd
+3d3d3t7e3t3e3t7e397e39/f39/e3ujg39/f4N/g4ODf3+ng4OHh4ODh4OHh4eDh4eHh4eLi4eHh
+4uLi4uHi4uLj4uLj4uPi4+Lj4+Pj4+Tk4+Pk4+Tj5OTk5OTk5OXl5OTk5eTk5eXl5eXl5ebm5eXm
+5ebl5uXl5ubm5ubm5ufn5ufm5+bm5+fn5+fn5+jm5vHo5+fo5+jn6Ojo6Ofo6Ojo5/Hp6Ono6enp
+6ejp6enp6erq6enq6erp6unp6urq6unq6urq6uvr6uvq6+vr6+vr6+zs6+vs6+zr7Ovr7Ozs7Ozs
+7O3t7Ozs7e3t7e3u7e3t7u3t7u7u7u3u7u7u7u/v7u/v7+7v7+/v7/Dw7/Dv8O/v8PDw8PDx8PDw
+8fDw8fHx8fDx8fHx8vHy8vHy8vLz8vLz8vPy8/Ly8/Pz8/Lz8/Pz8/T08/Tz9PP09PP09PT19PT1
+9PX09fT09fX19fX19fb29fX29fb29vb29vf39vf39/f49/j3+Pf3+Pj4+Pj4+Pn5+fn5+fr6+fn6
++fr6+vr7+vr7+vv6+/v7+/v8+/v8/Pz9/Pz8/fz9/fz9/f3+/f3+/f7+/v7+/v///v/////O2tP2
+AAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAJcEhZcwAACxMAAAsTAQCanBgAAAE/SURBVBjT
+Y2BCBvIgwMDAwHTw4L7diVs3rlu9fOmieTOFGMGCB/YpcrJyyK1evnjB7GmCzFxgwb0KrCAgs4BF
+ZIogswBEcDsnq9ya5dLsc4RZBJn5GyCC0SB1Sxawmk0QZOarr4EIrudgXbZ4vgRbb087LzNPMURw
+tSyr1BxxVtHe5qYqbqY8iODyJZJsrGxiHS0NVeUFudkQwQXzp08z6u1orqsqy89IToAIzp01cUJP
+W0NdZWFuWlJcJERw2oTejtb6qrKCnKyEmBA/iGCffIc8AnhCBHvbGmsrC3PSE2Ij/f3cXSCCzfLV
+SCptIIL1VcUFOakJkSF+nm4OthYQwUr5AiSVhhDBIqCyqNBALw8HOytjfV2IYI58ApJKTYhgSmxE
+oJ+ri4O1qaGetroKRJCJCwUwgQQZGOTRAAMDAEoQYSbvnJwhAAAAAElFTkSuQmCC
+====
diff -ruN httpd-2.4.6.orig/fink/icons/odf6ots-20x22.png.txt httpd-2.4.6/fink/icons/odf6ots-20x22.png.txt
--- httpd-2.4.6.orig/fink/icons/odf6ots-20x22.png.txt	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/icons/odf6ots-20x22.png.txt	2012-06-12 08:46:21.000000000 -0600
@@ -0,0 +1,20 @@
+begin-base64 644 odf6ots-20x22.png
+iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAMAAAD3n0w0AAACRlBMVEXZ2dkhISEzMzM0NDQ1NTUz
+M5lcXKxdXK1dXa1eXq6ZmZmlpKSlpaWmpqamp6amp6enp6eoqKioqKmpqaqqqarOztzOz9zR0N7R
+0d3R0d/S0eDS0uDT0+DT1ODV1eIAAADX2OTY2OTa2trb2tvb29vc29zb3Nvc3Nvc3Nzc3dzd3dzd
+3d3d3t7e3t3e3t7e397e39/f39/e3ujg39/f4N/g4ODf3+ng4OHh4ODh4OHh4eDh4eHh4eLi4eHh
+4uLi4uHi4uLj4uLj4uPi4+Lj4+Pj4+Tk4+Pk4+Tj5OTk5OTk5OXl5OTk5eTk5eXl5eXl5ebm5eXm
+5ebl5uXl5ubm5ubm5ufn5ufm5+bm5+fn5+fn5+jm5vHo5+fo5+jn6Ojo6Ofo6Ojo5/Hp6Ono6enp
+6ejp6enp6erq6enq6erp6unp6urq6unq6urq6uvr6uvq6+vr6+vr6+zs6+vs6+zr7Ovr7Ozs7Ozs
+7O3t7Ozs7e3t7e3u7e3t7u3t7u7u7u3u7u7u7u/v7u/v7+7v7+/v7/Dw7/Dv8O/v8PDw8PDx8PDw
+8fDw8fHx8fDx8fHx8vHy8vHy8vLz8vLz8vPy8/Ly8/Pz8/Lz8/Pz8/T08/Tz9PP09PP09PT19PT1
+9PX09fT09fX19fX19fb29fX29fb29vb29vf39vf39/f49/j3+Pf3+Pj4+Pj4+Pn5+fn5+fr6+fn6
++fr6+vr7+vr7+vv6+/v7+/v8+/v8/Pz9/Pz8/fz9/fz9/f3+/f3+/f7+/v7+/v///v/////O2tP2
+AAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAJcEhZcwAACxMAAAsTAQCanBgAAAE4SURBVBjT
+Y2BCBvIgwMDAwHTw4L7diVs3rlu9fOmieTOFGMGCB/YpcrJyyK1evnjB7GmCzFxgwb0KrCAgs4BF
+ZIogswBEcDsnq9ya5dLsc4RZBJn5GyCC0SB1Sxawmk0QZOarr4EIrudgXbZ4vgRbb087LzNPMURw
+tSyr1BxxVtHe5qYqbqY8iODyJZJsrGxiHS0NVeUFudkQwQXzp08z6u1orqsqy89IToAIzp01cUJP
+W0NdZWFuWlJcJERw2oTejtb6qrKCnKyEmBA/iGCfPDLwhAj2yjfWVhbmyCfERvr7ybtABJtRVNpA
+BOvliwtyUhPkQ/w83RzkLSCClSgqDSGCRfKpCVGhgfIeDnZWxvK6EMEcFJWaEMGU2IhAP1cXB2tT
+Qz1tdRWIIBMXCmACCTIwyKMBBgYAUJpdvW69xycAAAAASUVORK5CYII=
+====
diff -ruN httpd-2.4.6.orig/fink/icons/odf6ott-20x22.png.txt httpd-2.4.6/fink/icons/odf6ott-20x22.png.txt
--- httpd-2.4.6.orig/fink/icons/odf6ott-20x22.png.txt	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/icons/odf6ott-20x22.png.txt	2012-06-12 08:46:21.000000000 -0600
@@ -0,0 +1,20 @@
+begin-base64 644 odf6ott-20x22.png
+iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAMAAAD3n0w0AAACRlBMVEXZ2dkhISEzMzM0NDQ1NTUz
+M5lcXKxdXK1dXa1eXq6ZmZmlpKSlpaWmpqamp6amp6enp6eoqKioqKmpqaqqqarOztzOz9zR0N7R
+0d3R0d/S0eDS0uDT0+DT1ODV1eIAAADX2OTY2OTa2trb2tvb29vc29zb3Nvc3Nvc3Nzc3dzd3dzd
+3d3d3t7e3t3e3t7e397e39/f39/e3ujg39/f4N/g4ODf3+ng4OHh4ODh4OHh4eDh4eHh4eLi4eHh
+4uLi4uHi4uLj4uLj4uPi4+Lj4+Pj4+Tk4+Pk4+Tj5OTk5OTk5OXl5OTk5eTk5eXl5eXl5ebm5eXm
+5ebl5uXl5ubm5ubm5ufn5ufm5+bm5+fn5+fn5+jm5vHo5+fo5+jn6Ojo6Ofo6Ojo5/Hp6Ono6enp
+6ejp6enp6erq6enq6erp6unp6urq6unq6urq6uvr6uvq6+vr6+vr6+zs6+vs6+zr7Ovr7Ozs7Ozs
+7O3t7Ozs7e3t7e3u7e3t7u3t7u7u7u3u7u7u7u/v7u/v7+7v7+/v7/Dw7/Dv8O/v8PDw8PDx8PDw
+8fDw8fHx8fDx8fHx8vHy8vHy8vLz8vLz8vPy8/Ly8/Pz8/Lz8/Pz8/T08/Tz9PP09PP09PT19PT1
+9PX09fT09fX19fX19fb29fX29fb29vb29vf39vf39/f49/j3+Pf3+Pj4+Pj4+Pn5+fn5+fr6+fn6
++fr6+vr7+vr7+vv6+/v7+/v8+/v8/Pz9/Pz8/fz9/fz9/f3+/f3+/f7+/v7+/v///v/////O2tP2
+AAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAJcEhZcwAACxMAAAsTAQCanBgAAAFESURBVBjT
+Y2BCBvIgwMDAwHTw4L7diVs3rlu9fOmieTOFGMGCB/YpcrJyyK1evnjB7GmCzFxgwb0KrCAgs4BF
+ZIogswBEcDsnq9ya5dLsc4RZBJn5GyCC0SB1Sxawmk0QZOarr4EIrudgXbZ4vgRbb087LzNPMURw
+tSyr1BxxVtHe5qYqbqY8iODyJZJsrGxiHS0NVeUFudkQwQXzp08z6u1orqsqy89IToAIzp01cUJP
+W0NdZWFuWlJcJERw2oTejtb6qrKCnKyEmBA/iGCfPDLwhAj2ogi6QASbm6rLCnIzU2JCArzcnGwg
+gvVA+Rz5BJAyN3l5C4hgZWlBenJcWKCPu4u9takhRLBIPlU+CmyeHRDrQgRzUhMiQ4J8XRysLQz1
+tDUhgimxEYF+rkAxU6CYugpEkIkLBTCBBBkY5NEAAwMA9LlgMjOLUzMAAAAASUVORK5CYII=
+====
diff -ruN httpd-2.4.6.orig/fink/index.html httpd-2.4.6/fink/index.html
--- httpd-2.4.6.orig/fink/index.html	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/index.html	2013-08-06 15:31:34.000000000 -0600
@@ -0,0 +1,4 @@
+<html><body><h1>It works!</h1>
+<p>This is the default web page for this server.</p>
+<p>The web server software is running but no content has been added, yet.</p>
+</body></html>
diff -ruN httpd-2.4.6.orig/fink/logrotate httpd-2.4.6/fink/logrotate
--- httpd-2.4.6.orig/fink/logrotate	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/logrotate	2012-06-12 08:53:29.000000000 -0600
@@ -0,0 +1,20 @@
+@FINKPREFIX@/var/log/apache2/*.log {
+	weekly
+	missingok
+	rotate 52
+	compress
+	delaycompress
+	notifempty
+	create 640 root admin
+	sharedscripts
+	postrotate
+		if [ -f @FINKPREFIX@/var/run/apache2/apache2.pid ]; then
+			@FINKPREFIX@/sbin/apache2ctl restart > /dev/null
+		fi
+	endscript
+        prerotate
+                if [ -d @FINKPREFIX@/etc/logrotate.d/httpd-prerotate ]; then \
+                        run-parts @FINKPREFIX@/etc/logrotate.d/httpd-prerotate; \
+                fi; \
+        endscript
+}
diff -ruN httpd-2.4.6.orig/fink/manpages/a2disconf.8 httpd-2.4.6/fink/manpages/a2disconf.8
--- httpd-2.4.6.orig/fink/manpages/a2disconf.8	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/manpages/a2disconf.8	2013-07-21 10:47:15.000000000 -0600
@@ -0,0 +1 @@
+.so man8/a2enconf.8
diff -ruN httpd-2.4.6.orig/fink/manpages/a2dismod.8 httpd-2.4.6/fink/manpages/a2dismod.8
--- httpd-2.4.6.orig/fink/manpages/a2dismod.8	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/manpages/a2dismod.8	2013-07-21 10:47:15.000000000 -0600
@@ -0,0 +1 @@
+.so man8/a2enmod.8
diff -ruN httpd-2.4.6.orig/fink/manpages/a2dissite.8 httpd-2.4.6/fink/manpages/a2dissite.8
--- httpd-2.4.6.orig/fink/manpages/a2dissite.8	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/manpages/a2dissite.8	2013-07-21 10:47:15.000000000 -0600
@@ -0,0 +1 @@
+.so man8/a2ensite.8
diff -ruN httpd-2.4.6.orig/fink/manpages/a2enconf.8 httpd-2.4.6/fink/manpages/a2enconf.8
--- httpd-2.4.6.orig/fink/manpages/a2enconf.8	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/manpages/a2enconf.8	2013-08-06 14:10:35.000000000 -0600
@@ -0,0 +1,96 @@
+.\"                                      Hey, EMACS: -*- nroff -*-
+.\" First parameter, NAME, should be all caps
+.\" Second parameter, SECTION, should be 1-8, maybe w/ subsection
+.\" other parameters are allowed: see man(7), man(1)
+.TH A2ENCONF 8 "14 February 2012"
+.\" Please adjust this date whenever revising the manpage.
+.\"
+.\" Some roff macros, for reference:
+.\" .nh        disable hyphenation
+.\" .hy        enable hyphenation
+.\" .ad l      left justify
+.\" .ad b      justify to both left and right margins
+.\" .nf        disable filling
+.\" .fi        enable filling
+.\" .br        insert line break
+.\" .sp <n>    insert n+1 empty lines
+.\" for manpage-specific macros, see man(7)
+.SH NAME
+a2enconf, a2disconf \- enable or disable an apache2 configuration file
+.SH SYNOPSIS
+.B a2enconf
+[ [\-q|\-\-quiet]
+.IR configuration ]
+.PP
+.B a2disconf
+[ [\-q|\-\-quiet]
+.IR configuration ]
+.SH DESCRIPTION
+This manual page documents briefly the
+.B a2enconf
+and
+.B a2disconf
+commands.
+.PP
+.B a2enconf
+is a script that enables the specified configuration file within the
+.B apache2
+configuration.  It does this by creating symlinks within
+.BR @FINKPREFIX@/etc/apache2/conf-enabled .
+Likewise,
+.B a2disconf
+disables a specific configuration part by removing those symlinks.  It is not an
+error to enable a configuration which is already enabled, or to disable one which is
+already disabled.
+.PP
+Note that many configuration file may have a dependency to specific modules.
+Unlike module dependencies, these are not resolved automatically. Configuration
+fragments stored in the conf-available directory are considered non-essential or
+being installed and manged by reverse dependencies (e.g. web scripts).
+.SH OPTIONS
+.TP
+.B \-q, \-\-quiet
+Don't show informative messages.
+.TP
+.B \-m, \-\-maintmode
+Enables the maintainer mode, that is the program invocation is effectuated
+automatically by a maintainer script. This switch should not be used by end
+users.
+.B \-p, \-\-purge
+When disabling a module, purge all traces of the module in the internal state
+data base.
+.SH "EXIT STATUS"
+.B a2enconf
+and
+.B a2disconf
+exit with status 0 if all
+.IR configuration s
+are processed successfully, 1 if errors occur, 2 if an invalid option was used.
+.SH EXAMPLES
+.RS
+.B "a2enconf security"
+.br
+.B "a2disconf charset"
+.RE
+.PP
+Enables Apache security directives stored in the
+.B security
+configuration files, and disables the
+.B charset
+configuration.
+.SH FILES
+.TP
+.B @FINKPREFIX@/etc/apache2/conf-available
+Directory with files giving information on available configuration files.
+.TP
+.B @FINKPREFIX@/etc/apache2/conf-enabled
+Directory with links to the files in
+.B conf-available
+for enabled configuration files.
+.SH "SEE ALSO"
+.BR apache2ctl (8),
+.BR a2enmod (8),
+.BR a2dismod (8).
+.SH AUTHOR
+This manual page was written by Arno Toell <debian@toell.net> for the Debian
+GNU/Linux distribution, as it is a Debian-specific script with the package.
diff -ruN httpd-2.4.6.orig/fink/manpages/a2enmod.8 httpd-2.4.6/fink/manpages/a2enmod.8
--- httpd-2.4.6.orig/fink/manpages/a2enmod.8	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/manpages/a2enmod.8	2013-08-06 14:10:46.000000000 -0600
@@ -0,0 +1,96 @@
+.\"                                      Hey, EMACS: -*- nroff -*-
+.\" First parameter, NAME, should be all caps
+.\" Second parameter, SECTION, should be 1-8, maybe w/ subsection
+.\" other parameters are allowed: see man(7), man(1)
+.TH A2ENMOD 8 "12 October 2006"
+.\" Please adjust this date whenever revising the manpage.
+.\"
+.\" Some roff macros, for reference:
+.\" .nh        disable hyphenation
+.\" .hy        enable hyphenation
+.\" .ad l      left justify
+.\" .ad b      justify to both left and right margins
+.\" .nf        disable filling
+.\" .fi        enable filling
+.\" .br        insert line break
+.\" .sp <n>    insert n+1 empty lines
+.\" for manpage-specific macros, see man(7)
+.SH NAME
+a2enmod, a2dismod \- enable or disable an apache2 module
+.SH SYNOPSIS
+.B a2enmod
+[ [\-q|\-\-quiet]
+.IR module ]
+.PP
+.B a2dismod
+[ [\-q|\-\-quiet]
+.IR module ]
+.SH DESCRIPTION
+This manual page documents briefly the
+.B a2enmod
+and
+.B a2dismod
+commands.
+.PP
+.B a2enmod
+is a script that enables the specified module within the
+.B apache2
+configuration.  It does this by creating symlinks within
+.BR @FINKPREFIX@/etc/apache2/mods-enabled .
+Likewise,
+.B a2dismod
+disables a module by removing those symlinks.  It is not an error to
+enable a module which is already enabled, or to disable one which is
+already disabled.
+.PP
+Note that many modules have, in addition to a .load file, an
+associated .conf file.  Enabling the module puts the configuration
+directives in the .conf file as directives into the main server context of
+.B apache2.
+.SH OPTIONS
+.TP
+.B \-q, \-\-quiet
+Don't show informative messages.
+.TP
+.B \-m, \-\-maintmode
+Enables the maintainer mode, that is the program invocation is effectuated
+automatically by a maintainer script. This switch should not be used by end
+users.
+.B \-p, \-\-purge
+When disabling a module, purge all traces of the module in the internal state
+data base.
+.SH "EXIT STATUS"
+.B a2enmod
+and
+.B a2dismod
+exit with status 0 if all
+.IR module s
+are processed successfully, 1 if errors occur, 2 if an invalid option was used.
+.SH EXAMPLES
+.RS
+.B "a2enmod imagemap"
+.br
+.B "a2dismod mime_magic"
+.RE
+.PP
+Enables the
+.B mod_imagemap
+module, and disables the
+.B mod_mime_magic
+module.
+.SH FILES
+.TP
+.B @FINKPREFIX@/etc/apache2/mods-available
+Directory with files giving information on available modules.
+.TP
+.B @FINKPREFIX@/etc/apache2/mods-enabled
+Directory with links to the files in
+.B mods-available
+for enabled modules.
+.SH "SEE ALSO"
+.BR apache2ctl (8),
+.BR a2enconf (8),
+.BR a2disconf (8).
+.SH AUTHOR
+This manual page was written by Daniel Stone <daniel@sfarc.net> for the Debian
+GNU/Linux distribution, as it is a Debian-specific script with the package.
diff -ruN httpd-2.4.6.orig/fink/manpages/a2ensite.8 httpd-2.4.6/fink/manpages/a2ensite.8
--- httpd-2.4.6.orig/fink/manpages/a2ensite.8	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/manpages/a2ensite.8	2013-08-06 14:10:56.000000000 -0600
@@ -0,0 +1,90 @@
+.\"                                      Hey, EMACS: -*- nroff -*-
+.\" First parameter, NAME, should be all caps
+.\" Second parameter, SECTION, should be 1-8, maybe w/ subsection
+.\" other parameters are allowed: see man(7), man(1)
+.TH A2ENSITE 8 "8 June 2007"
+.\" Please adjust this date whenever revising the manpage.
+.\"
+.\" Some roff macros, for reference:
+.\" .nh        disable hyphenation
+.\" .hy        enable hyphenation
+.\" .ad l      left justify
+.\" .ad b      justify to both left and right margins
+.\" .nf        disable filling
+.\" .fi        enable filling
+.\" .br        insert line break
+.\" .sp <n>    insert n+1 empty lines
+.\" for manpage-specific macros, see man(7)
+.SH NAME
+a2ensite, a2dissite \- enable or disable an apache2 site / virtual host
+.SH SYNOPSIS
+.B a2ensite
+[ [\-q|\-\-quiet]
+.IR site ]
+.PP
+.B a2dissite
+[ [\-q|\-\-quiet]
+.IR site ]
+.SH DESCRIPTION
+This manual page documents briefly the
+.B a2ensite
+and
+.B a2dissite
+commands.
+.PP
+.B a2ensite
+is a script that enables the specified site (which contains a <VirtualHost> block) within the
+.B apache2
+configuration.  It does this by creating symlinks within
+.BR @FINKPREFIX@/etc/apache2/sites-enabled .
+Likewise,
+.B a2dissite
+disables a site by removing those symlinks.  It is not an error to
+enable a site which is already enabled, or to disable one which is
+already disabled.
+.PP
+Apache treats the very first virtual host enabled specially as every request not
+matching any actual directive is being redirected there. Thus it should be called
+.B 000-default
+in order to sort before the remaining hosts to be loaded first.
+.SH OPTIONS
+.TP
+.B \-q, \-\-quiet
+Don't show informative messages.
+.TP
+.B \-m, \-\-maintmode
+Enables the maintainer mode, that is the program invocation is effectuated
+automatically by a maintainer script. This switch should not be used by end
+users.
+.B \-p, \-\-purge
+When disabling a module, purge all traces of the module in the internal state
+data base.
+.SH "EXIT STATUS"
+.B a2ensite
+and
+.B a2dissite
+exit with status 0 if all
+.IR site s
+are processed successfully, 1 if errors occur, 2 if an invalid option was used.
+.SH EXAMPLES
+.RS
+.B "a2dissite 000-default"
+.RE
+.PP
+Disables the
+.B default
+site.
+.SH FILES
+.TP
+.B @FINKPREFIX@/etc/apache2/sites-available
+Directory with files giving information on available sites.
+.TP
+.B @FINKPREFIX@/etc/apache2/sites-enabled
+Directory with links to the files in
+.B sites-available
+for enabled sites.
+.SH "SEE ALSO"
+.BR apache2ctl (8).
+.SH AUTHOR
+This manual page was written by Stefan Fritsch <sf@debian.org> (based on the a2enmod manual
+page by Daniel Stone <daniel@sfarc.net>) for the Debian GNU/Linux distribution.
diff -ruN httpd-2.4.6.orig/fink/manpages/apache2.8 httpd-2.4.6/fink/manpages/apache2.8
--- httpd-2.4.6.orig/fink/manpages/apache2.8	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/manpages/apache2.8	2013-08-06 14:13:07.000000000 -0600
@@ -0,0 +1,81 @@
+.TH "APACHE2" 8 "2008-04-05" "Apache HTTP Server" "apache2"
+
+.SH NAME
+apache2 \- Apache Hypertext Transfer Protocol Server
+.SH "SYNOPSIS"
+.PP
+\fBapache2\fR [ -\fBd\fR \fIserverroot\fR ] [ -\fBf\fR \fIconfig\fR ] [ -\fBC\fR \fIdirective\fR ] [ -\fBc\fR \fIdirective\fR ] [ -\fBD\fR \fIparameter\fR ] [ -\fBe\fR \fIlevel\fR ] [ -\fBE\fR \fIfile\fR ] [ \fB-k\fR start|restart|graceful|stop|graceful-stop ] [ -\fBR\fR \fIdirectory\fR ] [ -\fBh\fR ] [ -\fBl\fR ] [ -\fBL\fR ] [ -\fBS\fR ] [ -\fBt\fR ] [ -\fBv\fR ] [ -\fBV\fR ] [ -\fBX\fR ] [ -\fBM\fR ]
+.SH "SUMMARY"
+.PP
+apache2 is the Apache HyperText Transfer Protocol (HTTP) server program\&. It is designed to be run as a standalone daemon process\&. When used like this it will create a pool of child processes or threads to handle requests\&.
+.PP
+In general, apache2 should not be invoked directly, but rather should be
+invoked via apache2ctl\&. The default Fink
+configuration requires environment variables that are defined in
+@FINKPREFIX@/etc/apache2/envvars and are not available if apache2 is started directly.
+However, apache2ctl can be used to pass arbitrary arguments to apache2.
+.SH "DOCUMENTATION"
+.PP
+The full documentation is available in the apache2-doc package or at
+http://httpd.apache.org/docs/2.2/ . Information about Fink specific changes
+and configuration can be found in
+@FINKPREFIX@/share/doc/apache2/README .
+.SH "OPTIONS"
+.TP
+-d \fIserverroot\fR
+Set the initial value for the ServerRoot directive to \fIserverroot\fR\&. This can be overridden by the ServerRoot directive in the configuration file\&.
+.TP
+-f \fIconfig\fR
+Uses the directives in the file \fIconfig\fR on startup\&. If \fIconfig\fR does not begin with a /, then it is taken to be a path relative to the ServerRoot\&. The default is @FINKPREFIX@/etc/apache2/apache2\&.conf\&.  
+.TP
+-k start|restart|graceful|stop|graceful-stop
+Signals apache2 to start, restart, or stop\&. See Stopping Apache for more information\&.  
+.TP
+-C \fIdirective\fR
+Process the configuration \fIdirective\fR before reading config files\&.  
+.TP
+-c \fIdirective\fR
+Process the configuration \fIdirective\fR after reading config files\&.  
+.TP
+-D \fIparameter\fR
+Sets a configuration \fIparameter \fRwhich can be used with <IfDefine> sections in the configuration files to conditionally skip or process commands at server startup and restart\&.  
+.TP
+-e \fIlevel\fR
+Sets the LogLevel to \fIlevel\fR during server startup\&. This is useful for temporarily increasing the verbosity of the error messages to find problems during startup\&.  
+.TP
+-E \fIfile\fR
+Send error messages during server startup to \fIfile\fR\&.  
+.TP
+-R \fIdirectory\fR
+When the server is compiled using the SHARED_CORE rule, this specifies the \fIdirectory\fR for the shared object files\&.  
+.TP
+-h
+Output a short summary of available command line options\&.  
+.TP
+-l
+Output a list of modules compiled into the server\&. This will \fBnot\fR list dynamically loaded modules included using the LoadModule directive\&.  
+.TP
+-L
+Output a list of directives together with expected arguments and places where the directive is valid\&.  
+.TP
+-M
+Dump a list of loaded Static and Shared Modules\&.  
+.TP
+-S
+Show the settings as parsed from the config file (currently only shows the virtualhost settings)\&.  
+.TP
+-t
+Run syntax tests for configuration files only\&. The program immediately exits after these syntax parsing tests with either a return code of 0 (Syntax OK) or return code not equal to 0 (Syntax Error)\&. If -D \fIDUMP\fR_\fIVHOSTS \fRis also set, details of the virtual host configuration will be printed\&. If -D \fIDUMP\fR_\fIMODULES \fR is set, all loaded modules will be printed\&.  
+.TP
+-v
+Print the version of apache2, and then exit\&.  
+.TP
+-V
+Print the version and build parameters of apache2, and then exit\&.  
+.TP
+-X
+Run apache2 in debug mode\&. Only one worker will be started and the server will not detach from the console\&.  
+.SH SEE ALSO
+.BR apache2ctl (8),
+.BR @FINKPREFIX@/share/doc/apache2/README
+
diff -ruN httpd-2.4.6.orig/fink/manpages/apache2ctl.8 httpd-2.4.6/fink/manpages/apache2ctl.8
--- httpd-2.4.6.orig/fink/manpages/apache2ctl.8	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/manpages/apache2ctl.8	2013-08-06 14:13:22.000000000 -0600
@@ -0,0 +1,182 @@
+.TH apache2ctl 8 "April 2008"
+.\" The Apache Software License, Version 1.1
+.\"
+.\" Copyright (c) 2000-2002 The Apache Software Foundation.  All rights
+.\" reserved.
+.\"
+.\" Redistribution and use in source and binary forms, with or without
+.\" modification, are permitted provided that the following conditions
+.\" are met:
+.\"
+.\" 1. Redistributions of source code must retain the above copyright
+.\"    notice, this list of conditions and the following disclaimer.
+.\"
+.\" 2. Redistributions in binary form must reproduce the above copyright
+.\"    notice, this list of conditions and the following disclaimer in
+.\"    the documentation and/or other materials provided with the
+.\"    distribution.
+.\"
+.\" 3. The end-user documentation included with the redistribution,
+.\"    if any, must include the following acknowledgment:
+.\"       "This product includes software developed by the
+.\"        Apache Software Foundation (http://www.apache.org/)."
+.\"    Alternately, this acknowledgment may appear in the software itself,
+.\"    if and wherever such third-party acknowledgments normally appear.
+.\"
+.\" 4. The names "Apache" and "Apache Software Foundation" must
+.\"    not be used to endorse or promote products derived from this
+.\"    software without prior written permission. For written
+.\"    permission, please contact apache@apache.org.
+.\"
+.\" 5. Products derived from this software may not be called "Apache",
+.\"    nor may "Apache" appear in their name, without prior written
+.\"    permission of the Apache Software Foundation.
+.\"
+.\" THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED
+.\" WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
+.\" OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
+.\" DISCLAIMED.  IN NO EVENT SHALL THE APACHE SOFTWARE FOUNDATION OR
+.\" ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
+.\" SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
+.\" LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF
+.\" USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
+.\" ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
+.\" OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT
+.\" OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
+.\" SUCH DAMAGE.
+.\"
+.\" This software consists of voluntary contributions made by many
+.\" individuals on behalf of the Apache Software Foundation.  For more
+.\" information on the Apache Software Foundation, please see
+.\" <http://www.apache.org/>.
+.\"
+.SH NAME
+apache2ctl \- Apache HTTP server control interface
+.SH SYNOPSIS
+When acting in SysV init mode, apache2ctl takes simple, one-word commands,
+defined below.
+.PP
+.B apachectl 
+.I command
+.PP
+.B apache2ctl 
+.I command
+.PP
+When acting in pass-through mode, apache2ctl can take all the arguments available
+for the httpd binary.
+.PP
+.B apachectl 
+.RI [ httpd-argument ]
+.PP
+.B apache2ctl 
+.RI [ httpd-argument ]
+.PP
+.SH DESCRIPTION
+.B apache2ctl
+is a front end to the Apache HyperText Transfer Protocol (HTTP) 
+server.  It is designed to help the administrator control the 
+functioning of the Apache 
+.B apache2
+daemon.  
+.PP
+.B NOTE: 
+The default Fink configuration requires the environment variables
+.BR APACHE_RUN_USER ,
+.BR APACHE_RUN_GROUP ,
+and
+.B APACHE_PID_FILE
+to be set in 
+.BR @FINKPREFIX@/etc/apache2/envvars .
+.PP
+The 
+.B apache2ctl
+script returns a 0 exit value on success, and >0 if an error 
+occurs.  For more details, view the comments in the script.
+.PP
+.SH OPTIONS
+The \fIcommand\fP can be any one or more of the following options:
+.TP 14
+.BI start
+Start the Apache daemon.  Gives an error if it is already running.
+.TP
+.BI stop
+Stops the Apache daemon.
+.TP
+.BI restart
+Restarts the Apache daemon by sending it a SIGHUP.  If the daemon
+is not running, it is started.
+This command automatically checks the configuration files via 
+.BI configtest
+before initiating the restart to to catch  the  most obvious  errors.
+However, it is still possible for the daemon to die because of problems
+with the configuration.
+.TP
+.BI fullstatus
+Displays a full status report from 
+.B mod_status. 
+For this to work, you need to have mod_status enabled on your server 
+and a text-based browser such as \fIlynx\fP available on your system.  The
+URL used to access the status report can be set by setting the
+.B APACHE_STATUSURL
+variable in 
+.BR @FINKPREFIX@/etc/apache2/envvars .
+.TP
+.BI status
+Displays a brief status report. Similar to the fullstatus option,
+except that the list of requests currently being served is omitted.
+.TP
+.BI graceful
+Gracefully restarts the Apache daemon by sending it a SIGUSR1.  If
+the daemon is not running, it is started.  This differs from a
+normal restart in that currently open connections are not aborted.
+A side effect is that old log files will not be closed immediately.
+This means that if used in a log rotation script, a substantial delay may be
+necessary to ensure that the old log files are closed before processing them.
+This command automatically checks the configuration files via apache2ctl
+configtest before initiating the restart to to catch the most obvious errors.
+However, it is still possible for the daemon to die because of problems with
+the configuration.
+.TP
+.BI graceful-stop
+Gracefully stops the Apache httpd daemon.
+This differs from a normal stop in that currently open connections are not
+aborted.
+A side effect is that old log files will not be closed immediately.
+.TP
+.BI configtest
+Run a configuration file syntax test. It parses the configuration
+files and either reports 
+.B "Syntax Ok"
+or information about the particular syntax error. This test does not catch
+all errors.
+.TP
+.BI help
+Displays a short help message.
+.TP
+The following option was available in earlier versions but has been removed.
+.TP
+.BI startssl
+To start httpd with SSL support, you should edit your configuration file to
+include the relevant directives and then use the normal apache2ctl start.
+.SH ENVIRONMENT
+The behaviour of
+.B apache2ctl
+can be influenced with these environment variables:
+.BR APACHE_HTTPD ,
+.BR APACHE_LYNX ,
+.BR APACHE_STATUSURL ,
+.BR APACHE_ULIMIT_MAX_FILES ,
+.BR APACHE_RUN_DIR ,
+.BR APACHE_LOCK_DIR ,
+.BR APACHE_RUN_USER ,
+.BR APACHE_ARGUMENTS ,
+.BR APACHE_ENVVARS .
+See the comments in the script for details.
+These variables (except 
+.BR APACHE_ENVVARS )
+can be set in
+.BR @FINKPREFIX@/etc/apache2/envvars .
+.SH SEE ALSO
+.BR apache2(8) ,
+.BR @FINKPREFIX@/share/doc/apache2/README
+.
diff -ruN httpd-2.4.6.orig/fink/manpages/apachectl.8 httpd-2.4.6/fink/manpages/apachectl.8
--- httpd-2.4.6.orig/fink/manpages/apachectl.8	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/manpages/apachectl.8	2013-07-21 10:47:15.000000000 -0600
@@ -0,0 +1 @@
+.so man8/apache2ctl.8
diff -ruN httpd-2.4.6.orig/fink/manpages/apxs2.1 httpd-2.4.6/fink/manpages/apxs2.1
--- httpd-2.4.6.orig/fink/manpages/apxs2.1	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/manpages/apxs2.1	2013-07-21 10:47:15.000000000 -0600
@@ -0,0 +1 @@
+.so man1/apxs.1
diff -ruN httpd-2.4.6.orig/fink/manpages/check_forensic.8 httpd-2.4.6/fink/manpages/check_forensic.8
--- httpd-2.4.6.orig/fink/manpages/check_forensic.8	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/manpages/check_forensic.8	2013-07-21 10:47:15.000000000 -0600
@@ -0,0 +1,16 @@
+.TH check_forensic 8
+.SH NAME
+check_forensic \- tool to extract mod_log_forensic output from apache log files
+.SH SYNOPSIS
+.B check_forensic
+<log_file>
+.SH "DESCRIPTION"
+chech_forensic is a simple shell script designed to help apache administrators
+to extract mod_log_forensic output from apache2 log files.
+It checks the forensic log for requests that did not complete
+and outputs the request log for each one.
+.PP
+.SH AUTHOR
+This manual page was written by Fabio M. Di Nitto
+<fabbione@fabbione.net>, for the Debian GNU/Linux system
+(but may be used by others).
diff -ruN httpd-2.4.6.orig/fink/manpages/checkgid.8 httpd-2.4.6/fink/manpages/checkgid.8
--- httpd-2.4.6.orig/fink/manpages/checkgid.8	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/manpages/checkgid.8	2013-07-21 10:47:15.000000000 -0600
@@ -0,0 +1,36 @@
+.\"                                      Hey, EMACS: -*- nroff -*-
+.\" First parameter, NAME, should be all caps
+.\" Second parameter, SECTION, should be 1-8, maybe w/ subsection
+.\" other parameters are allowed: see man(7), man(1)
+.TH CHECKGID 8 "November 3rd, 2001"
+.\" Please adjust this date whenever revising the manpage.
+.\"
+.\" Some roff macros, for reference:
+.\" .nh        disable hyphenation
+.\" .hy        enable hyphenation
+.\" .ad l      left justify
+.\" .ad b      justify to both left and right margins
+.\" .nf        disable filling
+.\" .fi        enable filling
+.\" .br        insert line break
+.\" .sp <n>    insert n+1 empty lines
+.\" for manpage-specific macros, see man(7)
+.SH NAME
+checkgid \- checks the gid 
+.SH SYNOPSIS
+.B checkgid group 
+.SH DESCRIPTION
+This manual page documents briefly the
+.B checkgid 
+command.
+.PP
+.\" TeX users may be more comfortable with the \fB<whatever>\fP and
+.\" \fI<whatever>\fP escape sequences to invode bold face and italics, 
+.\" respectively.
+\fBcheckgid\fP is a program that checks whether it can setgid to the group
+specified. This is to see if it is a valid group for apache2 to use at runtime.
+If the user (should be run as superuser) is in that group, or can setgid to it,
+it will return 0.
+.SH AUTHOR
+This manual page was written by Daniel Stone <daniel@sfarc.net> for the Debian
+GNU/Linux distribution, as the original did not have a manpage.
diff -ruN httpd-2.4.6.orig/fink/manpages/split-logfile.8 httpd-2.4.6/fink/manpages/split-logfile.8
--- httpd-2.4.6.orig/fink/manpages/split-logfile.8	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/manpages/split-logfile.8	2013-08-06 14:09:18.000000000 -0600
@@ -0,0 +1,21 @@
+.TH "SPLIT-LOGFILE" 8 "2009-12-06" "Apache HTTP Server" "split-logfile"
+
+.SH NAME
+split-logfile - Split combined virtual hosts access log into one file per virtual host
+
+.SH "SYNOPSIS"
+ 
+.PP
+\fBsplit-logfile\fR < \fIlogfile\fR
+
+.SH "SUMMARY"
+ 
+.PP
+This script will take a combined Web server access log file and break its contents into separate files.
+It assumes that the first field of each line is the virtual host identity (put there by "%v"), and that the logfiles should be named that+".log" in the current directory.
+
+The combined log file is read from stdin.
+Records read will be appended to any existing log files.
+
+.SH "EXAMPLES"
+split-logfile < @FINKPREFIX@/var/log/apache2/other_vhosts_access.log
diff -ruN httpd-2.4.6.orig/fink/manpages/suexec-custom.8 httpd-2.4.6/fink/manpages/suexec-custom.8
--- httpd-2.4.6.orig/fink/manpages/suexec-custom.8	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/manpages/suexec-custom.8	2013-08-06 14:12:12.000000000 -0600
@@ -0,0 +1,68 @@
+.TH suexec-custom 8 "April 2008"
+.\" Copyright 1999-2004 The Apache Software Foundation
+.\" Copyright 2008 Stefan Fritsch
+.\"
+.\" Licensed under the Apache License, Version 2.0 (the "License");
+.\" you may not use this file except in compliance with the License.
+.\" You may obtain a copy of the License at
+.\"
+.\"     http://www.apache.org/licenses/LICENSE-2.0
+.\"
+.\" Unless required by applicable law or agreed to in writing, software
+.\" distributed under the License is distributed on an "AS IS" BASIS,
+.\" WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+.\" See the License for the specific language governing permissions and
+.\" limitations under the License.
+.\"
+.SH NAME
+suexec \- Switch User For Exec
+.SH SYNOPSIS
+.B suexec -V
+.PP
+This is a customized version that can be configured with
+config files in @FINKPREFIX@/etc/apache2/suexec.
+.PP
+No other synopsis for usage, because this program
+is otherwise only used internally by the Apache HTTP server.
+.PP
+.SH DESCRIPTION
+.B suexec
+is the "wrapper" support program for the suexec behaviour for the
+Apache HTTP server.  It is run from within the server automatically
+to switch the user when an external program has to be run under a
+different user. For more information about suexec in general, see the online
+document `Apache suexec Support' on the HTTP server project's
+Web site at  http://httpd.apache.org/docs/suexec.html .
+.PP
+This version of suexec reads a config file on every execution. Therefore
+it is a bit slower than the standard suexec version from the apache2-suexec
+package.
+.SH CONFIGURATION
+If suexec is called by a user with name 'username', it will look into
+@FINKPREFIX@/etc/apache2/suexec/username for configuration. If the file does not exist,
+suexec will abort. By creating several config files, you can allow several
+different apache run users to use suexec.
+.PP
+The first line in the file is used as the document root (@FINKPREFIX@/var/www in the
+standard suexec) and the second line in the file is used as the suffix that is
+appended to users' home directories (public_html in standard suexec).
+.PP
+If any of the lines is commented out (with #), suexec will refuse the
+corresponding type of request. It is recommended to comment out the 
+userdir suffix if you don't need it.
+.SH SECURITY
+Do not set the document root to a path that includes users' home directories
+(like /Users or @FINKPREFIX@/var) or directories where users can mount removable media.
+Doing so would create local security issues. Suexec does not allow to set the
+document root to the root directory / .
+.SH OPTIONS
+.IP -V
+Display the list of compile-time settings used when \fBsuexec\fP
+was built.  No other action is taken.
+.PD
+.SH FILES
+.BR @FINKPREFIX@/etc/apache2/suexec/www-data
+.SH SEE ALSO
+.BR apache2(8) ,
+.BR @FINKPREFIX@/share/doc/apache2/README ,
+.BR dpkg-statoverride(8)
diff -ruN httpd-2.4.6.orig/fink/patches/add-itk-to-build-system.patch httpd-2.4.6/fink/patches/add-itk-to-build-system.patch
--- httpd-2.4.6.orig/fink/patches/add-itk-to-build-system.patch	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/patches/add-itk-to-build-system.patch	2013-07-21 10:47:15.000000000 -0600
@@ -0,0 +1,34 @@
+Add the new MPM to the build system as an alternative to the other MPMs
+and add itk's dependency to libcap.
+
+--- a/server/mpm/config2.m4
++++ b/server/mpm/config2.m4
+@@ -1,7 +1,7 @@
+ AC_MSG_CHECKING(which MPM to use by default)
+ AC_ARG_WITH(mpm,
+ APACHE_HELP_STRING(--with-mpm=MPM,Choose the process model for Apache to use by default.
+-                          MPM={event|worker|prefork|winnt}
++                          MPM={event|worker|prefork|winnt|itk}
+                           This will be statically linked as the only available MPM unless
+                           --enable-mpms-shared is also specified.
+ ),[
+@@ -66,6 +66,9 @@
+     else
+         AC_MSG_ERROR([MPM $i is not supported on this platform.])
+     fi
++    if test "$i" = "itk" ; then
++        AC_CHECK_LIB(cap, cap_init)
++    fi
+ done
+ 
+ if test $mpm_build = "shared"; then
+--- a/modules/arch/unix/config5.m4
++++ b/modules/arch/unix/config5.m4
+@@ -3,6 +3,7 @@
+ 
+ if ap_mpm_is_enabled "worker" \
+    || ap_mpm_is_enabled "event" \
++   || ap_mpm_is_enabled "itk" \
+    || ap_mpm_is_enabled "prefork"; then
+     unixd_mods_enable=yes
+ else
diff -ruN httpd-2.4.6.orig/fink/patches/build_suexec-custom.patch httpd-2.4.6/fink/patches/build_suexec-custom.patch
--- httpd-2.4.6.orig/fink/patches/build_suexec-custom.patch	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/patches/build_suexec-custom.patch	2013-07-21 10:47:15.000000000 -0600
@@ -0,0 +1,55 @@
+Description: add suexec-custom to the build system
+Forwarded: not-needed
+Author: Stefan Fritsch <sf@debian.org>
+Last-Update: 2012-02-25
+--- a/Makefile.in
++++ b/Makefile.in
+@@ -239,14 +239,16 @@
+ 	fi
+ 
+ install-suexec:
+-	@if test -f $(builddir)/support/suexec; then \
++	@if test -f $(builddir)/support/suexec-pristine && test -f $(builddir)/support/suexec-custom; then \
+             test -d $(DESTDIR)$(sbindir) || $(MKINSTALLDIRS) $(DESTDIR)$(sbindir); \
+-            $(INSTALL_PROGRAM) $(top_builddir)/support/suexec $(DESTDIR)$(sbindir); \
+-            chmod 4755 $(DESTDIR)$(sbindir)/suexec; \
++            $(INSTALL_PROGRAM) $(top_builddir)/support/suexec-pristine $(DESTDIR)$(sbindir); \
++            chmod 4755 $(DESTDIR)$(sbindir)/suexec-pristine; \
++            $(INSTALL_PROGRAM) $(top_builddir)/support/suexec-custom $(DESTDIR)$(sbindir); \
++            chmod 4755 $(DESTDIR)$(sbindir)/suexec-custom; \
+ 	fi
+ 
+ suexec:
+-	cd support && $(MAKE) suexec
++	cd support && $(MAKE) suexec-pristine suexec-custom
+ 
+ x-local-distclean:
+ 	@rm -rf autom4te.cache
+--- a/support/Makefile.in
++++ b/support/Makefile.in
+@@ -1,7 +1,7 @@
+ DISTCLEAN_TARGETS = apxs apachectl dbmmanage log_server_status \
+ 	logresolve.pl phf_abuse_log.cgi split-logfile envvars-std
+ 
+-CLEAN_TARGETS = suexec
++CLEAN_TARGETS = suexec-pristine suexec-custom
+ 
+ bin_PROGRAMS = htpasswd htdigest htdbm ab logresolve httxt2dbm
+ sbin_PROGRAMS = htcacheclean rotatelogs $(NONPORTABLE_SUPPORT)
+@@ -72,9 +72,13 @@
+ checkgid: $(checkgid_OBJECTS)
+ 	$(LINK) $(checkgid_LTFLAGS) $(checkgid_OBJECTS) $(PROGRAM_LDADD)
+ 
+-suexec_OBJECTS = suexec.lo
+-suexec: $(suexec_OBJECTS)
+-	$(LINK) $(suexec_OBJECTS)
++suexec-pristine_OBJECTS = suexec.lo
++suexec-pristine: $(suexec-pristine_OBJECTS)
++	$(LINK) $(suexec-pristine_OBJECTS)
++
++suexec-custom_OBJECTS = suexec-custom.lo
++suexec-custom: $(suexec-custom_OBJECTS)
++	$(LINK) $(suexec-custom_OBJECTS)
+ 
+ htcacheclean_OBJECTS = htcacheclean.lo
+ htcacheclean: $(htcacheclean_OBJECTS)
diff -ruN httpd-2.4.6.orig/fink/patches/customize_apxs.patch httpd-2.4.6/fink/patches/customize_apxs.patch
--- httpd-2.4.6.orig/fink/patches/customize_apxs.patch	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/patches/customize_apxs.patch	2013-08-06 18:34:56.000000000 -0600
@@ -0,0 +1,211 @@
+Description: Adapt apxs to Debian specific changes
+ - Make apxs2 use a2enmod and @FINKPREFIX@/etc/apache2/mods-available
+ - Make libtool happier
+ - Use LDFLAGS from config_vars.mk, allow to override them
+Forwarded: not-needed
+Author: Stefan Fritsch <sf@debian.org>
+Last-Update: 2012-03-17
+
+--- a/support/apxs.in
++++ b/support/apxs.in
+@@ -38,7 +38,7 @@
+ my $CFG_TARGET     = get_vars("progname");
+ my $CFG_SYSCONFDIR = get_vars("sysconfdir");
+ my $CFG_CFLAGS     = join ' ', map { get_vars($_) }
+-  qw(SHLTCFLAGS CFLAGS NOTEST_CPPFLAGS EXTRA_CPPFLAGS EXTRA_CFLAGS);
++  qw(SHLTCFLAGS CFLAGS CPPFLAGS NOTEST_CPPFLAGS EXTRA_CPPFLAGS EXTRA_CFLAGS);
+ my $CFG_LDFLAGS    = join ' ', map { get_vars($_) }
+   qw(LDFLAGS NOTEST_LDFLAGS SH_LDFLAGS);
+ my $includedir     = get_vars("includedir");
+@@ -276,6 +276,7 @@
+     $data =~ s|%TARGET%|$CFG_TARGET|sg;
+     $data =~ s|%PREFIX%|$prefix|sg;
+     $data =~ s|%INSTALLBUILDDIR%|$installbuilddir|sg;
++    $data =~ s|%DATADIR%|$datadir|sg;
+ 
+     my ($mkf, $mods, $src) = ($data =~ m|^(.+)-=#=-\n(.+)-=#=-\n(.+)|s);
+ 
+@@ -428,7 +429,7 @@
+         $la =~ s|\.c$|.la|;
+         my $o = $s;
+         $o =~ s|\.c$|.o|;
+-        push(@cmds, "$libtool $ltflags --mode=compile $CFG_CC $cflags -I$CFG_INCLUDEDIR $apr_includedir $apu_includedir $opt -c -o $lo $s && touch $slo");
++        push(@cmds, "$libtool $ltflags --mode=compile --tag=disable-static $CFG_CC $cflags -I$CFG_INCLUDEDIR $apr_includedir $apu_includedir $opt -c -o $lo $s && touch $slo");
+         unshift(@objs, $lo);
+     }
+ 
+@@ -469,7 +470,7 @@
+         $opt .= " -rpath $CFG_LIBEXECDIR -module -avoid-version $apr_ldflags";
+     }
+ 
+-    push(@cmds, "$libtool $ltflags --mode=link $CFG_CC $ldflags -o $dso_file $opt $lo");
++    push(@cmds, "$libtool $ltflags --mode=link --tag=disable-static $CFG_CC $ldflags -o $dso_file $opt $lo");
+ 
+     #   execute the commands
+     &execute_cmds(@cmds);
+@@ -503,7 +504,7 @@
+         if ($opt_i) {
+ 	    push(@cmds, "$installbuilddir/instdso.sh SH_LIBTOOL='" .
+                  "$libtool' $f $CFG_LIBEXECDIR");
+-	    push(@cmds, "chmod 755 $CFG_LIBEXECDIR/$t");
++	    push(@cmds, "chmod 644 $CFG_LIBEXECDIR/$t");
+         }
+ 
+         #   determine module symbolname and filename
+@@ -539,10 +540,11 @@
+             $filename = "mod_${name}.c";
+         }
+         my $dir = $CFG_LIBEXECDIR;
+-        $dir =~ s|^$CFG_PREFIX/?||;
++        # Debian doesn't have a CFG_PREFIX, so this stuffs up:
++	# $dir =~ s|^$CFG_PREFIX/?||;
+         $dir =~ s|(.)$|$1/|;
+ 	$t =~ s|\.la$|.so|;
+-        push(@lmd, sprintf("LoadModule %-18s %s", "${name}_module", "$dir$t"));
++        push(@lmd, [ $name, sprintf("LoadModule %-18s %s", "${name}_module", "$dir$t") ] );
+     }
+ 
+     #   execute the commands
+@@ -550,108 +552,35 @@
+ 
+     #   activate module via LoadModule/AddModule directive
+     if ($opt_a or $opt_A) {
+-        if (not -f "$CFG_SYSCONFDIR/$CFG_TARGET.conf") {
+-            error("Config file $CFG_SYSCONFDIR/$CFG_TARGET.conf not found");
++        if (not -d "$CFG_SYSCONFDIR/mods-available") {
++            error("Config file $CFG_SYSCONFDIR/mods-available not found");
+             exit(1);
+         }
+ 
+-        open(FP, "<$CFG_SYSCONFDIR/$CFG_TARGET.conf") || die;
+-        my $content = join('', <FP>);
+-        close(FP);
+-
+-        if ($content !~ m|\n#?\s*LoadModule\s+|) {
+-            error("Activation failed for custom $CFG_SYSCONFDIR/$CFG_TARGET.conf file.");
+-            error("At least one `LoadModule' directive already has to exist.");
+-            exit(1);
+-        }
+-
+-        my $lmd;
+-        my $c = '';
+-        $c = '#' if ($opt_A);
+-        foreach $lmd (@lmd) {
+-            my $what = $opt_A ? "preparing" : "activating";
+-            my $lmd_re = $lmd;
+-            $lmd_re =~ s/\s+/\\s+/g;
+-
+-            if ($content !~ m|\n#?\s*$lmd_re|) {
+-                # check for open <containers>, so that the new LoadModule
+-                # directive always appears *outside* of an <container>.
+-
+-                my $before = ($content =~ m|^(.*\n)#?\s*LoadModule\s+[^\n]+\n|s)[0];
+-
+-                # the '()=' trick forces list context and the scalar
+-                # assignment counts the number of list members (aka number
+-                # of matches) then
+-                my $cntopen = () = ($before =~ m|^\s*<[^/].*$|mg);
+-                my $cntclose = () = ($before =~ m|^\s*</.*$|mg);
+-
+-                if ($cntopen == $cntclose) {
+-                    # fine. Last LoadModule is contextless.
+-                    $content =~ s|^(.*\n#?\s*LoadModule\s+[^\n]+\n)|$1$c$lmd\n|s;
++        my $entry;
++        foreach $entry (@lmd) {
++            my ($name, $lmd) = @{$entry};
++            my $filename = "$CFG_SYSCONFDIR/mods-available/$name.load";
++            if (-f $filename) {
++                my $cmd = "mv $filename $filename.bak~";
++                if (system($cmd) != 0) {
++                    die "'$cmd' failed\n";
+                 }
+-                elsif ($cntopen < $cntclose) {
+-                    error('Configuration file is not valid. There are sections'
+-                          . ' closed before opened.');
+-                    exit(1);
+-                }
+-                else {
+-                    # put our cmd after the section containing the last
+-                    # LoadModule.
+-                    my $found =
+-                    $content =~ s!\A (               # string and capture start
+-                                  (?:(?:
+-                                    ^\s*             # start of conf line with a
+-                                    (?:[^<]|<[^/])   # directive which does not
+-                                                     # start with '</'
+-
+-                                    .*(?:$)\n        # rest of the line.
+-                                                     # the '$' is in parentheses
+-                                                     # to avoid misinterpreting
+-                                                     # the string "$\" as
+-                                                     # perl variable.
+-
+-                                    )*               # catch as much as possible
+-                                                     # of such lines. (including
+-                                                     # zero)
+-
+-                                    ^\s*</.*(?:$)\n? # after the above, we
+-                                                     # expect a config line with
+-                                                     # a closing container (</)
+-
+-                                  ) {$cntopen}       # the whole pattern (bunch
+-                                                     # of lines that end up with
+-                                                     # a closing directive) must
+-                                                     # be repeated $cntopen
+-                                                     # times. That's it.
+-                                                     # Simple, eh? ;-)
+-
+-                                  )                  # capture end
+-                                 !$1$c$lmd\n!mx;
+-
+-                    unless ($found) {
+-                        error('Configuration file is not valid. There are '
+-                              . 'sections opened and not closed.');
+-                        exit(1);
+-                    }
++            }
++
++            notice("[preparing module `$name' in $filename]");
++            open(FP, ">$filename") || die;
++            print FP "$lmd\n";
++            close(FP);
++
++            if ($opt_a) {
++                my $cmd = "a2enmod $name";
++                if (system($cmd) != 0) {
++                    die "'$cmd' failed\n";
+                 }
+-            } else {
+-                # replace already existing LoadModule line
+-                $content =~ s|^(.*\n)#?\s*$lmd_re[^\n]*\n|$1$c$lmd\n|s;
+-            }
+-            $lmd =~ m|LoadModule\s+(.+?)_module.*|;
+-            notice("[$what module `$1' in $CFG_SYSCONFDIR/$CFG_TARGET.conf]");
+-        }
+-        if (@lmd) {
+-            if (open(FP, ">$CFG_SYSCONFDIR/$CFG_TARGET.conf.new")) {
+-                print FP $content;
+-                close(FP);
+-                system("cp $CFG_SYSCONFDIR/$CFG_TARGET.conf $CFG_SYSCONFDIR/$CFG_TARGET.conf.bak && " .
+-                       "cp $CFG_SYSCONFDIR/$CFG_TARGET.conf.new $CFG_SYSCONFDIR/$CFG_TARGET.conf && " .
+-                       "rm $CFG_SYSCONFDIR/$CFG_TARGET.conf.new");
+-            } else {
+-                notice("unable to open configuration file");
+             }
+-	}
++
++        }
+     }
+ }
+ 
+@@ -671,8 +600,8 @@
+ ##
+ 
+ builddir=.
+-top_srcdir=%PREFIX%
+-top_builddir=%PREFIX%
++top_srcdir=%DATADIR%
++top_builddir=%DATADIR%
+ include %INSTALLBUILDDIR%/special.mk
+ 
+ #   the used tools
diff -ruN httpd-2.4.6.orig/fink/patches/fhs_compliance.patch httpd-2.4.6/fink/patches/fhs_compliance.patch
--- httpd-2.4.6.orig/fink/patches/fhs_compliance.patch	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/patches/fhs_compliance.patch	2013-08-06 18:35:09.000000000 -0600
@@ -0,0 +1,64 @@
+Description: Fix up FHS file locations for apache2 droppings.
+Forwarded: not-needed
+Author: Adam Conrad <adconrad@0c3.net>
+Last-Update: 2012-02-25
+--- a/configure
++++ b/configure
+@@ -32709,17 +32709,17 @@
+ 
+ 
+ cat >>confdefs.h <<_ACEOF
+-#define HTTPD_ROOT "${ap_prefix}"
++#define HTTPD_ROOT "@FINKPREFIX@/etc/apache2"
+ _ACEOF
+ 
+ 
+ cat >>confdefs.h <<_ACEOF
+-#define SERVER_CONFIG_FILE "${rel_sysconfdir}/${progname}.conf"
++#define SERVER_CONFIG_FILE "${progname}.conf"
+ _ACEOF
+ 
+ 
+ cat >>confdefs.h <<_ACEOF
+-#define AP_TYPES_CONFIG_FILE "${rel_sysconfdir}/mime.types"
++#define AP_TYPES_CONFIG_FILE "mime.types"
+ _ACEOF
+ 
+ 
+--- a/configure.in
++++ b/configure.in
+@@ -819,11 +819,11 @@
+ echo $MODLIST | $AWK -f $srcdir/build/build-modules-c.awk > modules.c
+ 
+ APR_EXPAND_VAR(ap_prefix, $prefix)
+-AC_DEFINE_UNQUOTED(HTTPD_ROOT, "${ap_prefix}",
++AC_DEFINE_UNQUOTED(HTTPD_ROOT, "@FINKPREFIX@/etc/apache2",
+ 	[Root directory of the Apache install area])
+-AC_DEFINE_UNQUOTED(SERVER_CONFIG_FILE, "${rel_sysconfdir}/${progname}.conf",
++AC_DEFINE_UNQUOTED(SERVER_CONFIG_FILE, "${progname}.conf",
+ 	[Location of the config file, relative to the Apache root directory])
+-AC_DEFINE_UNQUOTED(AP_TYPES_CONFIG_FILE, "${rel_sysconfdir}/mime.types",
++AC_DEFINE_UNQUOTED(AP_TYPES_CONFIG_FILE, "mime.types",
+ 	[Location of the MIME types config file, relative to the Apache root directory])
+ 
+ perlbin=`$ac_aux_dir/PrintPath perl`
+--- a/include/ap_config_layout.h.in
++++ b/include/ap_config_layout.h.in
+@@ -60,5 +60,6 @@
+ #define DEFAULT_REL_LOGFILEDIR "@rel_logfiledir@"
+ #define DEFAULT_EXP_PROXYCACHEDIR "@exp_proxycachedir@"
+ #define DEFAULT_REL_PROXYCACHEDIR "@rel_proxycachedir@"
++#define DEFAULT_PIDLOG "@FINKPREFIX@/var/run/apache2.pid"
+ 
+ #endif /* AP_CONFIG_LAYOUT_H */
+--- a/include/httpd.h
++++ b/include/httpd.h
+@@ -109,7 +109,7 @@
+ #define DOCUMENT_LOCATION  HTTPD_ROOT "/docs"
+ #else
+ /* Set default for non OS/2 file system */
+-#define DOCUMENT_LOCATION  HTTPD_ROOT "/htdocs"
++#define DOCUMENT_LOCATION  "@FINKPREFIX@/var/www"
+ #endif
+ #endif /* DOCUMENT_LOCATION */
+ 
diff -ruN httpd-2.4.6.orig/fink/patches/fink_layout.patch httpd-2.4.6/fink/patches/fink_layout.patch
--- httpd-2.4.6.orig/fink/patches/fink_layout.patch	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/patches/fink_layout.patch	2013-08-07 10:28:13.000000000 -0600
@@ -0,0 +1,36 @@
+--- httpd-2.4.6.orig/config.layout	2012-04-17 08:01:41.000000000 -0600
++++ httpd-2.4.6/config.layout	2013-08-07 10:27:49.000000000 -0600
+@@ -274,10 +274,10 @@
+   proxycachedir: ${datadir}/proxy
+ </Layout>
+ 
+-# Debian layout
+-<Layout Debian>
++# Fink layout
++<Layout Fink>
+     prefix:        
+-    exec_prefix:   ${prefix}/usr
++    exec_prefix:   ${prefix}
+     bindir:        ${exec_prefix}/bin
+     sbindir:       ${exec_prefix}/sbin
+     libdir:        ${exec_prefix}/lib
+@@ -286,16 +286,16 @@
+     sysconfdir:    ${prefix}/etc/apache2
+     datadir:       ${exec_prefix}/share/apache2
+     iconsdir:      ${datadir}/icons
+-    htdocsdir:     ${prefix}/usr/share/apache2/default-site/htdocs
++    htdocsdir:     ${prefix}/share/apache2/default-site/htdocs
+     manualdir:     ${htdocsdir}/manual
+-    cgidir:        ${prefix}/usr/lib/cgi-bin
++    cgidir:        ${prefix}/lib/cgi-bin
+     includedir:    ${exec_prefix}/include/apache2
+     localstatedir: ${prefix}/var/lock/apache2
+     runtimedir:    ${prefix}/var/run/apache2
+     logfiledir:    ${prefix}/var/log/apache2
+     proxycachedir: ${prefix}/var/cache/apache2/proxy
+     infodir:       ${exec_prefix}/share/info
+-    installbuilddir: ${prefix}/usr/share/apache2/build
++    installbuilddir: ${prefix}/share/apache2/build
+     errordir:      ${datadir}/error
+ </Layout>
+ 
diff -ruN httpd-2.4.6.orig/fink/patches/fix_CHANGES httpd-2.4.6/fink/patches/fix_CHANGES
--- httpd-2.4.6.orig/fink/patches/fix_CHANGES	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/patches/fix_CHANGES	2013-07-21 10:47:15.000000000 -0600
@@ -0,0 +1,16 @@
+# Add missing CHANGES entry
+# upstream commit r1504151
+--- a/CHANGES
++++ b/CHANGES
+@@ -20,6 +20,11 @@
+      Existing configurations must be changed.
+      [Takashi Sato <takashi tks.st>, Graham Leggett]
+ 
++  *) mod_auth_basic: Add a generic mechanism to fake basic authentication
++     using the ap_expr parser. AuthBasicFake allows the administrator to 
++     construct their own username and password for basic authentication based 
++     on their needs. [Graham Leggett]
++
+   *) mpm_event: Check that AsyncRequestWorkerFactor is not negative. PR 54254.
+      [Jackie Zhang <jackie qq zhang gmail com>]
+ 
diff -ruN httpd-2.4.6.orig/fink/patches/itk/02-rename-prefork-to-itk.patch httpd-2.4.6/fink/patches/itk/02-rename-prefork-to-itk.patch
--- httpd-2.4.6.orig/fink/patches/itk/02-rename-prefork-to-itk.patch	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/patches/itk/02-rename-prefork-to-itk.patch	2013-07-21 10:47:15.000000000 -0600
@@ -0,0 +1,294 @@
+Rename prefork to itk in the copy that was created in 01-copy-prefork.patch.
+
+Index: httpd-2.4.1/server/mpm/itk/config.m4
+===================================================================
+--- httpd-2.4.1.orig/server/mpm/itk/config.m4
++++ httpd-2.4.1/server/mpm/itk/config.m4
+@@ -1,7 +1,7 @@
+-AC_MSG_CHECKING(if prefork MPM supports this platform)
++AC_MSG_CHECKING(if itk MPM supports this platform)
+ if test $forking_mpms_supported != yes; then
+     AC_MSG_RESULT(no - This is not a forking platform)
+ else
+     AC_MSG_RESULT(yes)
+-    APACHE_MPM_SUPPORTED(prefork, yes, no)
++    APACHE_MPM_SUPPORTED(itk, yes, no)
+ fi
+Index: httpd-2.4.1/server/mpm/itk/config3.m4
+===================================================================
+--- httpd-2.4.1.orig/server/mpm/itk/config3.m4
++++ httpd-2.4.1/server/mpm/itk/config3.m4
+@@ -1 +1 @@
+-APACHE_MPM_MODULE(prefork, $enable_mpm_prefork)
++APACHE_MPM_MODULE(itk, $enable_mpm_itk)
+Index: httpd-2.4.1/server/mpm/itk/itk.c
+===================================================================
+--- httpd-2.4.1.orig/server/mpm/itk/itk.c
++++ httpd-2.4.1/server/mpm/itk/itk.c
+@@ -95,11 +95,11 @@ static int server_limit = 0;
+ static int mpm_state = AP_MPMQ_STARTING;
+ static ap_pod_t *pod;
+ 
+-/* data retained by prefork across load/unload of the module
++/* data retained by itk across load/unload of the module
+  * allocated on first call to pre-config hook; located on
+  * subsequent calls to pre-config hook
+  */
+-typedef struct prefork_retained_data {
++typedef struct itk_retained_data {
+     int first_server_limit;
+     int module_loads;
+     ap_generation_t my_generation;
+@@ -122,8 +122,8 @@ typedef struct prefork_retained_data {
+ #define MAX_SPAWN_RATE  (32)
+ #endif
+     int hold_off_on_exponential_spawning;
+-} prefork_retained_data;
+-static prefork_retained_data *retained;
++} itk_retained_data;
++static itk_retained_data *retained;
+ 
+ #define MPM_CHILD_PID(i) (ap_scoreboard_image->parent[i].pid)
+ 
+@@ -189,7 +189,7 @@ static void chdir_for_gprof(void)
+ #define chdir_for_gprof()
+ #endif
+ 
+-static void prefork_note_child_killed(int childnum, pid_t pid,
++static void itk_note_child_killed(int childnum, pid_t pid,
+                                       ap_generation_t gen)
+ {
+     AP_DEBUG_ASSERT(childnum != -1); /* no scoreboard squatting with this MPM */
+@@ -200,7 +200,7 @@ static void prefork_note_child_killed(in
+     ap_scoreboard_image->parent[childnum].pid = 0;
+ }
+ 
+-static void prefork_note_child_started(int slot, pid_t pid)
++static void itk_note_child_started(int slot, pid_t pid)
+ {
+     ap_scoreboard_image->parent[slot].pid = pid;
+     ap_run_child_status(ap_server_conf,
+@@ -219,7 +219,7 @@ static void clean_child_exit(int code)
+     }
+ 
+     if (one_process) {
+-        prefork_note_child_killed(/* slot */ 0, 0, 0);
++        itk_note_child_killed(/* slot */ 0, 0, 0);
+     }
+ 
+     ap_mpm_pod_close(pod);
+@@ -277,7 +277,7 @@ static void accept_mutex_off(void)
+ #define SAFE_ACCEPT(stmt) do {stmt;} while(0)
+ #endif
+ 
+-static int prefork_query(int query_code, int *result, apr_status_t *rv)
++static int itk_query(int query_code, int *result, apr_status_t *rv)
+ {
+     *rv = APR_SUCCESS;
+     switch(query_code){
+@@ -330,9 +330,9 @@ static int prefork_query(int query_code,
+     return OK;
+ }
+ 
+-static const char *prefork_get_name(void)
++static const char *itk_get_name(void)
+ {
+-    return "prefork";
++    return "itk";
+ }
+ 
+ /*****************************************************************
+@@ -735,7 +735,7 @@ static int make_child(server_rec *s, int
+         apr_signal(SIGQUIT, SIG_DFL);
+ #endif
+         apr_signal(SIGTERM, sig_term);
+-        prefork_note_child_started(slot, getpid());
++        itk_note_child_started(slot, getpid());
+         child_main(slot);
+         /* NOTREACHED */
+     }
+@@ -793,7 +793,7 @@ static int make_child(server_rec *s, int
+         child_main(slot);
+     }
+ 
+-    prefork_note_child_started(slot, pid);
++    itk_note_child_started(slot, pid);
+ 
+     return 0;
+ }
+@@ -914,7 +914,7 @@ static void perform_idle_server_maintena
+  * Executive routines.
+  */
+ 
+-static int prefork_run(apr_pool_t *_pconf, apr_pool_t *plog, server_rec *s)
++static int itk_run(apr_pool_t *_pconf, apr_pool_t *plog, server_rec *s)
+ {
+     int index;
+     int remaining_children_to_start;
+@@ -1029,7 +1029,7 @@ static int prefork_run(apr_pool_t *_pcon
+             if (child_slot >= 0) {
+                 (void) ap_update_child_status_from_indexes(child_slot, 0, SERVER_DEAD,
+                                                            (request_rec *) NULL);
+-                prefork_note_child_killed(child_slot, 0, 0);
++                itk_note_child_killed(child_slot, 0, 0);
+                 if (processed_status == APEXIT_CHILDSICK) {
+                     /* child detected a resource shortage (E[NM]FILE, ENOBUFS, etc)
+                      * cut the fork rate to the minimum
+@@ -1094,7 +1094,7 @@ static int prefork_run(apr_pool_t *_pcon
+             ap_log_error(APLOG_MARK, APLOG_WARNING, errno, ap_server_conf, APLOGNO(00168) "killpg SIGTERM");
+         }
+         ap_reclaim_child_processes(1, /* Start with SIGTERM */
+-                                   prefork_note_child_killed);
++                                   itk_note_child_killed);
+ 
+         /* cleanup pid file on normal shutdown */
+         ap_remove_pid(pconf, ap_pid_fname);
+@@ -1128,7 +1128,7 @@ static int prefork_run(apr_pool_t *_pcon
+         }
+ 
+         /* Allow each child which actually finished to exit */
+-        ap_relieve_child_processes(prefork_note_child_killed);
++        ap_relieve_child_processes(itk_note_child_killed);
+ 
+         /* cleanup pid file */
+         ap_remove_pid(pconf, ap_pid_fname);
+@@ -1147,7 +1147,7 @@ static int prefork_run(apr_pool_t *_pcon
+             sleep(1);
+ 
+             /* Relieve any children which have now exited */
+-            ap_relieve_child_processes(prefork_note_child_killed);
++            ap_relieve_child_processes(itk_note_child_killed);
+ 
+             active_children = 0;
+             for (index = 0; index < ap_daemons_limit; ++index) {
+@@ -1216,7 +1216,7 @@ static int prefork_run(apr_pool_t *_pcon
+             ap_log_error(APLOG_MARK, APLOG_WARNING, errno, ap_server_conf, APLOGNO(00172) "killpg SIGHUP");
+         }
+         ap_reclaim_child_processes(0, /* Not when just starting up */
+-                                   prefork_note_child_killed);
++                                   itk_note_child_killed);
+         ap_log_error(APLOG_MARK, APLOG_NOTICE, 0, ap_server_conf, APLOGNO(00173)
+                     "SIGHUP received.  Attempting to restart");
+     }
+@@ -1227,7 +1227,7 @@ static int prefork_run(apr_pool_t *_pcon
+ /* This really should be a post_config hook, but the error log is already
+  * redirected by that point, so we need to do this in the open_logs phase.
+  */
+-static int prefork_open_logs(apr_pool_t *p, apr_pool_t *plog, apr_pool_t *ptemp, server_rec *s)
++static int itk_open_logs(apr_pool_t *p, apr_pool_t *plog, apr_pool_t *ptemp, server_rec *s)
+ {
+     int startup = 0;
+     int level_flags = 0;
+@@ -1257,11 +1257,11 @@ static int prefork_open_logs(apr_pool_t
+     return OK;
+ }
+ 
+-static int prefork_pre_config(apr_pool_t *p, apr_pool_t *plog, apr_pool_t *ptemp)
++static int itk_pre_config(apr_pool_t *p, apr_pool_t *plog, apr_pool_t *ptemp)
+ {
+     int no_detach, debug, foreground;
+     apr_status_t rv;
+-    const char *userdata_key = "mpm_prefork_module";
++    const char *userdata_key = "mpm_itk_module";
+ 
+     mpm_state = AP_MPMQ_STARTING;
+ 
+@@ -1315,7 +1315,7 @@ static int prefork_pre_config(apr_pool_t
+     return OK;
+ }
+ 
+-static int prefork_check_config(apr_pool_t *p, apr_pool_t *plog,
++static int itk_check_config(apr_pool_t *p, apr_pool_t *plog,
+                                 apr_pool_t *ptemp, server_rec *s)
+ {
+     int startup = 0;
+@@ -1401,7 +1401,7 @@ static int prefork_check_config(apr_pool
+         ap_daemons_limit = 1;
+     }
+ 
+-    /* ap_daemons_to_start > ap_daemons_limit checked in prefork_run() */
++    /* ap_daemons_to_start > ap_daemons_limit checked in itk_run() */
+     if (ap_daemons_to_start < 0) {
+         if (startup) {
+             ap_log_error(APLOG_MARK, APLOG_WARNING | APLOG_STARTUP, 0, NULL, APLOGNO(00184)
+@@ -1432,12 +1432,12 @@ static int prefork_check_config(apr_pool
+         ap_daemons_min_free = 1;
+     }
+ 
+-    /* ap_daemons_max_free < ap_daemons_min_free + 1 checked in prefork_run() */
++    /* ap_daemons_max_free < ap_daemons_min_free + 1 checked in itk_run() */
+ 
+     return OK;
+ }
+ 
+-static void prefork_hooks(apr_pool_t *p)
++static void itk_hooks(apr_pool_t *p)
+ {
+     /* Our open_logs hook function must run before the core's, or stderr
+      * will be redirected to a file, and the messages won't print to the
+@@ -1445,15 +1445,15 @@ static void prefork_hooks(apr_pool_t *p)
+      */
+     static const char *const aszSucc[] = {"core.c", NULL};
+ 
+-    ap_hook_open_logs(prefork_open_logs, NULL, aszSucc, APR_HOOK_REALLY_FIRST);
++    ap_hook_open_logs(itk_open_logs, NULL, aszSucc, APR_HOOK_REALLY_FIRST);
+     /* we need to set the MPM state before other pre-config hooks use MPM query
+      * to retrieve it, so register as REALLY_FIRST
+      */
+-    ap_hook_pre_config(prefork_pre_config, NULL, NULL, APR_HOOK_REALLY_FIRST);
+-    ap_hook_check_config(prefork_check_config, NULL, NULL, APR_HOOK_MIDDLE);
+-    ap_hook_mpm(prefork_run, NULL, NULL, APR_HOOK_MIDDLE);
+-    ap_hook_mpm_query(prefork_query, NULL, NULL, APR_HOOK_MIDDLE);
+-    ap_hook_mpm_get_name(prefork_get_name, NULL, NULL, APR_HOOK_MIDDLE);
++    ap_hook_pre_config(itk_pre_config, NULL, NULL, APR_HOOK_REALLY_FIRST);
++    ap_hook_check_config(itk_check_config, NULL, NULL, APR_HOOK_MIDDLE);
++    ap_hook_mpm(itk_run, NULL, NULL, APR_HOOK_MIDDLE);
++    ap_hook_mpm_query(itk_query, NULL, NULL, APR_HOOK_MIDDLE);
++    ap_hook_mpm_get_name(itk_get_name, NULL, NULL, APR_HOOK_MIDDLE);
+ }
+ 
+ static const char *set_daemons_to_start(cmd_parms *cmd, void *dummy, const char *arg)
+@@ -1515,7 +1515,7 @@ static const char *set_server_limit (cmd
+     return NULL;
+ }
+ 
+-static const command_rec prefork_cmds[] = {
++static const command_rec itk_cmds[] = {
+ LISTEN_COMMANDS,
+ AP_INIT_TAKE1("StartServers", set_daemons_to_start, NULL, RSRC_CONF,
+               "Number of child processes launched at server startup"),
+@@ -1533,13 +1533,13 @@ AP_GRACEFUL_SHUTDOWN_TIMEOUT_COMMAND,
+ { NULL }
+ };
+ 
+-AP_DECLARE_MODULE(mpm_prefork) = {
++AP_DECLARE_MODULE(mpm_itk) = {
+     MPM20_MODULE_STUFF,
+     NULL,                       /* hook to run before apache parses args */
+     NULL,                       /* create per-directory config structure */
+     NULL,                       /* merge per-directory config structures */
+     NULL,                       /* create per-server config structure */
+     NULL,                       /* merge per-server config structures */
+-    prefork_cmds,               /* command apr_table_t */
+-    prefork_hooks,              /* register hooks */
++    itk_cmds,                   /* command apr_table_t */
++    itk_hooks,                  /* register hooks */
+ };
+Index: httpd-2.4.1/server/mpm/itk/mpm_default.h
+===================================================================
+--- httpd-2.4.1.orig/server/mpm/itk/mpm_default.h
++++ httpd-2.4.1/server/mpm/itk/mpm_default.h
+@@ -15,10 +15,10 @@
+  */
+ 
+ /**
+- * @file  prefork/mpm_default.h
+- * @brief Prefork MPM defaults
++ * @file  itk/mpm_default.h
++ * @brief ITK MPM defaults
+  *
+- * @defgroup APACHE_MPM_PREFORK Prefork MPM
++ * @defgroup APACHE_MPM_ITK Apache ITK
+  * @ingroup APACHE_INTERNAL
+  * @{
+  */
diff -ruN httpd-2.4.6.orig/fink/patches/itk/05-add-copyright.patch httpd-2.4.6/fink/patches/itk/05-add-copyright.patch
--- httpd-2.4.6.orig/fink/patches/itk/05-add-copyright.patch	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/patches/itk/05-add-copyright.patch	2013-07-21 10:47:15.000000000 -0600
@@ -0,0 +1,36 @@
+Add copyright notices, as the next patches are going to add code.
+
+Index: httpd-2.4.1/server/mpm/itk/itk.c
+===================================================================
+--- httpd-2.4.1.orig/server/mpm/itk/itk.c
++++ httpd-2.4.1/server/mpm/itk/itk.c
+@@ -12,6 +12,12 @@
+  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  * See the License for the specific language governing permissions and
+  * limitations under the License.
++ * 
++ * Portions copyright 2005-2012 Steinar H. Gunderson <sgunderson@bigfoot.com>.
++ * Licensed under the same terms as the rest of Apache.
++ *
++ * Portions copyright 2008 Knut Auvor Grythe <knut@auvor.no>.
++ * Licensed under the same terms as the rest of Apache.
+  */
+ 
+ #include "apr.h"
+Index: httpd-2.4.1/server/mpm/itk/mpm_default.h
+===================================================================
+--- httpd-2.4.1.orig/server/mpm/itk/mpm_default.h
++++ httpd-2.4.1/server/mpm/itk/mpm_default.h
+@@ -12,6 +12,12 @@
+  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  * See the License for the specific language governing permissions and
+  * limitations under the License.
++ * 
++ * Portions copyright 2005-2012 Steinar H. Gunderson <sgunderson@bigfoot.com>.
++ * Licensed under the same terms as the rest of Apache.
++ *
++ * Portions copyright 2008 Knut Auvor Grythe <knut@auvor.no>.
++ * Licensed under the same terms as the rest of Apache.
+  */
+ 
+ /**
diff -ruN httpd-2.4.6.orig/fink/patches/itk/07-base-functionality.patch httpd-2.4.6/fink/patches/itk/07-base-functionality.patch
--- httpd-2.4.6.orig/fink/patches/itk/07-base-functionality.patch	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/patches/itk/07-base-functionality.patch	2013-07-21 10:47:15.000000000 -0600
@@ -0,0 +1,229 @@
+Add the base functionality of mpm_itk over prefork; parse the new configuration
+options, fork on each new connection, and setuid() as required.
+
+Index: httpd-2.4.1/server/mpm/itk/itk.c
+===================================================================
+--- httpd-2.4.1.orig/server/mpm/itk/itk.c
++++ httpd-2.4.1/server/mpm/itk/itk.c
+@@ -26,6 +26,11 @@
+ #include "apr_thread_proc.h"
+ #include "apr_signal.h"
+ 
++# define _DBG(text,par...) \
++    ap_log_error(APLOG_MARK, APLOG_WARNING, 0, NULL, \
++                "(itkmpm: pid=%d uid=%d, gid=%d) %s(): " text, \
++                getpid(), getuid(), getgid(), __FUNCTION__, par)
++
+ #define APR_WANT_STDIO
+ #define APR_WANT_STRFUNC
+ #include "apr_want.h"
+@@ -64,6 +69,9 @@
+ #include <signal.h>
+ #include <sys/times.h>
+ 
++/* Import our private hook. */
++AP_DECLARE_HOOK(int,post_perdir_config,(request_rec *r))
++
+ /* Limit on the total --- clients will be locked out if more servers than
+  * this are needed.  It is intended solely to keep the server from crashing
+  * when things get out of hand.
+@@ -153,6 +161,15 @@ static pid_t ap_my_pid; /* it seems sill
+ static pid_t parent_pid;
+ static int my_child_num;
+ 
++typedef struct
++{
++    uid_t uid;
++    gid_t gid;
++    char *username;
++} itk_per_dir_conf;
++
++module AP_MODULE_DECLARE_DATA mpm_itk_module;
++
+ #ifdef GPROF
+ /*
+  * change directory for gprof to plop the gmon.out file
+@@ -542,10 +559,6 @@ static void child_main(int child_num_arg
+         clean_child_exit(APEXIT_CHILDFATAL);
+     }
+ 
+-    if (ap_run_drop_privileges(pchild, ap_server_conf)) {
+-        clean_child_exit(APEXIT_CHILDFATAL);
+-    }
+-
+     ap_run_child_init(pchild, ap_server_conf);
+ 
+     ap_create_sb_handle(&sbh, pchild, my_child_num, 0);
+@@ -695,13 +708,40 @@ static void child_main(int child_num_arg
+          * socket options, file descriptors, and read/write buffers.
+          */
+ 
+-        current_conn = ap_run_create_connection(ptrans, ap_server_conf, csd, my_child_num, sbh, bucket_alloc);
+-        if (current_conn) {
++        {
++            pid_t pid = fork(), child_pid;
++            int status;
++            switch (pid) {
++            case -1:
++                ap_log_error(APLOG_MARK, APLOG_ERR, errno, NULL, "fork: Unable to fork new process");
++                break;
++            case 0: /* child */
++                current_conn = ap_run_create_connection(ptrans, ap_server_conf, csd, my_child_num, sbh, bucket_alloc);
++                if (current_conn) {
+ #if APR_HAS_THREADS
+-            current_conn->current_thread = thd;
++                    current_conn->current_thread = thd;
+ #endif
+-            ap_process_connection(current_conn, csd);
+-            ap_lingering_close(current_conn);
++                    ap_process_connection(current_conn, csd);
++                    ap_lingering_close(current_conn);
++                }
++                exit(0);
++            default: /* parent; just wait for child to be done */
++                do {
++                    child_pid = waitpid(pid, &status, 0);
++                } while (child_pid == -1 && errno == EINTR);
++
++                if (child_pid != pid || !WIFEXITED(status)) {
++                    if (WIFSIGNALED(status)) {
++                        ap_log_error(APLOG_MARK, APLOG_ERR, 0, ap_server_conf, "child died with signal %u", WTERMSIG(status));
++                    } else if (WEXITSTATUS(status) != 0) {
++                        ap_log_error(APLOG_MARK, APLOG_ERR, 0, ap_server_conf, "child exited with non-zero exit status %u", WEXITSTATUS(status));
++                    } else {
++                        ap_log_error(APLOG_MARK, APLOG_ERR, errno, NULL, "waitpid() failed");
++                    }
++                    clean_child_exit(1);
++                }
++                break;
++            }
+         }
+ 
+         /* Check the pod and the generation number after processing a
+@@ -719,6 +759,10 @@ static void child_main(int child_num_arg
+              */
+             die_now = 1;
+         }
++
++        /* if we have already setuid(), die (we can't be used anyhow) */
++        if (getuid())
++            die_now = 1;
+     }
+     apr_pool_clear(ptrans); /* kludge to avoid crash in APR reslist cleanup code */
+     clean_child_exit(0);
+@@ -1443,6 +1487,56 @@ static int itk_check_config(apr_pool_t *
+     return OK;
+ }
+ 
++static int itk_post_perdir_config(request_rec *r)
++{
++    uid_t wanted_uid;
++    gid_t wanted_gid;
++    const char *wanted_username;
++    int err = 0;
++
++    itk_per_dir_conf *dconf =
++        (itk_per_dir_conf *) ap_get_module_config(r->per_dir_config, &mpm_itk_module);
++
++    strncpy(ap_scoreboard_image->servers[my_child_num][0].vhost, r->server->server_hostname, 31);
++    ap_scoreboard_image->servers[my_child_num][0].vhost[31] = 0;
++
++    wanted_uid = dconf->uid;
++    wanted_gid = dconf->gid;
++    wanted_username = dconf->username;
++
++    if (wanted_uid == -1 || wanted_gid == -1) {
++        wanted_uid = ap_unixd_config.user_id;
++        wanted_gid = ap_unixd_config.group_id;
++        wanted_username = ap_unixd_config.user_name;
++    }
++
++    if (wanted_uid != -1 && wanted_gid != -1 && (getuid() != wanted_uid || getgid() != wanted_gid)) {
++        if (setgid(wanted_gid)) {
++            _DBG("setgid(%d): %s", wanted_gid, strerror(errno));
++            err = 1;
++        } else if (initgroups(wanted_username, wanted_gid)) {
++            _DBG("initgroups(%s, %d): %s", wanted_username, wanted_gid, strerror(errno));
++            err = 1;
++        } else if (setuid(wanted_uid)) {
++            _DBG("setuid(%d): %s", wanted_uid, strerror(errno));
++            err = 1;
++        }
++    }
++
++    /*
++     * Most likely a case of switching uid/gid within a persistent
++     * connection; the RFCs allow us to just close the connection
++     * at anytime, so we excercise our right. :-)
++     */
++    if (err) {
++        ap_log_error(APLOG_MARK, APLOG_WARNING, 0, NULL, \
++            "Couldn't set uid/gid, closing connection.");
++        ap_lingering_close(r->connection);
++        exit(0);
++    }
++    return OK;
++}
++
+ static void itk_hooks(apr_pool_t *p)
+ {
+     /* Our open_logs hook function must run before the core's, or stderr
+@@ -1460,6 +1554,9 @@ static void itk_hooks(apr_pool_t *p)
+     ap_hook_mpm(itk_run, NULL, NULL, APR_HOOK_MIDDLE);
+     ap_hook_mpm_query(itk_query, NULL, NULL, APR_HOOK_MIDDLE);
+     ap_hook_mpm_get_name(itk_get_name, NULL, NULL, APR_HOOK_MIDDLE);
++
++    /* set the uid as fast as possible, but not before merging per-dit config */
++    ap_hook_header_parser(itk_post_perdir_config, NULL, NULL, APR_HOOK_REALLY_FIRST);
+ }
+ 
+ static const char *set_daemons_to_start(cmd_parms *cmd, void *dummy, const char *arg)
+@@ -1521,6 +1618,21 @@ static const char *set_server_limit (cmd
+     return NULL;
+ }
+ 
++static const char *assign_user_id (cmd_parms *cmd, void *ptr, const char *user_name, const char *group_name)
++{
++    itk_per_dir_conf *dconf = (itk_per_dir_conf *) ptr;
++
++    const char *err = ap_check_cmd_context(cmd, NOT_IN_HTACCESS);
++    if (err) {
++        return err;
++    }
++
++    dconf->username = apr_pstrdup(cmd->pool, user_name);
++    dconf->uid = ap_uname2id(user_name);
++    dconf->gid = ap_gname2id(group_name);
++    return NULL;
++}
++
+ static const command_rec itk_cmds[] = {
+ LISTEN_COMMANDS,
+ AP_INIT_TAKE1("StartServers", set_daemons_to_start, NULL, RSRC_CONF,
+@@ -1535,14 +1647,25 @@ AP_INIT_TAKE1("MaxRequestWorkers", set_m
+               "Maximum number of children alive at the same time"),
+ AP_INIT_TAKE1("ServerLimit", set_server_limit, NULL, RSRC_CONF,
+               "Maximum value of MaxRequestWorkers for this run of Apache"),
++AP_INIT_TAKE2("AssignUserID", assign_user_id, NULL, RSRC_CONF|ACCESS_CONF,
++              "Tie a virtual host to a specific child process."),
+ AP_GRACEFUL_SHUTDOWN_TIMEOUT_COMMAND,
+ { NULL }
+ };
+ 
++/* == allocate a private per-dir config structure == */
++static void *itk_create_dir_config(apr_pool_t *p, char *dummy)
++{
++    itk_per_dir_conf *c = (itk_per_dir_conf *)
++        apr_pcalloc(p, sizeof(itk_per_dir_conf));
++    c->uid = c->gid = -1;
++    return c;
++}
++
+ AP_DECLARE_MODULE(mpm_itk) = {
+     MPM20_MODULE_STUFF,
+     NULL,                       /* hook to run before apache parses args */
+-    NULL,                       /* create per-directory config structure */
++    itk_create_dir_config,      /* create per-directory config structure */
+     NULL,                       /* merge per-directory config structures */
+     NULL,                       /* create per-server config structure */
+     NULL,                       /* merge per-server config structures */
diff -ruN httpd-2.4.6.orig/fink/patches/itk/08-max-clients-per-vhost.patch httpd-2.4.6/fink/patches/itk/08-max-clients-per-vhost.patch
--- httpd-2.4.6.orig/fink/patches/itk/08-max-clients-per-vhost.patch	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/patches/itk/08-max-clients-per-vhost.patch	2013-07-21 10:47:15.000000000 -0600
@@ -0,0 +1,99 @@
+Enforce the per-vhost server limit. Note that this is per-vhost, not
+per-directory (since it works by reading the scoreboard), so we need to add
+per-server configuration data.
+
+Index: httpd-2.4.1/server/mpm/itk/itk.c
+===================================================================
+--- httpd-2.4.1.orig/server/mpm/itk/itk.c
++++ httpd-2.4.1/server/mpm/itk/itk.c
+@@ -168,6 +168,11 @@ typedef struct
+     char *username;
+ } itk_per_dir_conf;
+ 
++typedef struct
++{
++    int max_clients_vhost;
++} itk_server_conf;
++
+ module AP_MODULE_DECLARE_DATA mpm_itk_module;
+ 
+ #ifdef GPROF
+@@ -1493,9 +1498,29 @@ static int itk_post_perdir_config(reques
+     gid_t wanted_gid;
+     const char *wanted_username;
+     int err = 0;
++    
++    itk_server_conf *sconf =
++        (itk_server_conf *) ap_get_module_config(r->server->module_config, &mpm_itk_module);
++    itk_per_dir_conf *dconf;
++
++    /* Enforce MaxClientsVhost. */
++    if (sconf->max_clients_vhost > 0) {
++        int i, num_other_servers = 0;
++        for (i = 0; i < ap_daemons_limit; ++i) {
++            worker_score *ws = &ap_scoreboard_image->servers[i][0];
++            if (ws->status >= SERVER_BUSY_READ && strncmp(ws->vhost, r->server->server_hostname, 31) == 0)
++                ++num_other_servers;
++        }
+ 
+-    itk_per_dir_conf *dconf =
+-        (itk_per_dir_conf *) ap_get_module_config(r->per_dir_config, &mpm_itk_module);
++        if (num_other_servers > sconf->max_clients_vhost) {
++            ap_log_error(APLOG_MARK, APLOG_WARNING, 0, NULL, \
++                "MaxClientsVhost reached for %s, refusing client.",
++                r->server->server_hostname);
++            return HTTP_SERVICE_UNAVAILABLE;
++        }
++    }
++
++    dconf = (itk_per_dir_conf *) ap_get_module_config(r->per_dir_config, &mpm_itk_module);
+ 
+     strncpy(ap_scoreboard_image->servers[my_child_num][0].vhost, r->server->server_hostname, 31);
+     ap_scoreboard_image->servers[my_child_num][0].vhost[31] = 0;
+@@ -1633,6 +1658,14 @@ static const char *assign_user_id (cmd_p
+     return NULL;
+ }
+ 
++static const char *set_max_clients_vhost (cmd_parms *cmd, void *dummy, const char *arg)   
++{
++    itk_server_conf *sconf =
++        (itk_server_conf *) ap_get_module_config(cmd->server->module_config, &mpm_itk_module);
++    sconf->max_clients_vhost = atoi(arg);
++    return NULL;
++}
++
+ static const command_rec itk_cmds[] = {
+ LISTEN_COMMANDS,
+ AP_INIT_TAKE1("StartServers", set_daemons_to_start, NULL, RSRC_CONF,
+@@ -1649,6 +1682,8 @@ AP_INIT_TAKE1("ServerLimit", set_server_
+               "Maximum value of MaxRequestWorkers for this run of Apache"),
+ AP_INIT_TAKE2("AssignUserID", assign_user_id, NULL, RSRC_CONF|ACCESS_CONF,
+               "Tie a virtual host to a specific child process."),
++AP_INIT_TAKE1("MaxClientsVHost", set_max_clients_vhost, NULL, RSRC_CONF,
++              "Maximum number of children alive at the same time for this virtual host."),
+ AP_GRACEFUL_SHUTDOWN_TIMEOUT_COMMAND,
+ { NULL }
+ };
+@@ -1662,12 +1697,21 @@ static void *itk_create_dir_config(apr_p
+     return c;
+ }
+ 
++/* == allocate a private server config structure == */
++static void *itk_create_server_config(apr_pool_t *p, server_rec *s)
++{
++    itk_server_conf *c = (itk_server_conf *)
++        apr_pcalloc(p, sizeof(itk_server_conf));
++    c->max_clients_vhost = -1;
++    return c;
++}
++
+ AP_DECLARE_MODULE(mpm_itk) = {
+     MPM20_MODULE_STUFF,
+     NULL,                       /* hook to run before apache parses args */
+     itk_create_dir_config,      /* create per-directory config structure */
+     NULL,                       /* merge per-directory config structures */
+-    NULL,                       /* create per-server config structure */
++    itk_create_server_config,   /* create per-server config structure */
+     NULL,                       /* merge per-server config structures */
+     itk_cmds,                   /* command apr_table_t */
+     itk_hooks,                  /* register hooks */
diff -ruN httpd-2.4.6.orig/fink/patches/itk/09-capabilities.patch httpd-2.4.6/fink/patches/itk/09-capabilities.patch
--- httpd-2.4.6.orig/fink/patches/itk/09-capabilities.patch	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/patches/itk/09-capabilities.patch	2013-07-21 10:47:15.000000000 -0600
@@ -0,0 +1,59 @@
+Use Linux' capability system to run as a sort of "lesser root"; we drop nearly
+all root privilegies except the ability to setuid. An attacker capable of injecting
+code will still be able to run as any (normal) user on the system, but at least
+he/she cannot directly load kernel code etc.
+
+Index: httpd-2.4.1/server/mpm/itk/itk.c
+===================================================================
+--- httpd-2.4.1.orig/server/mpm/itk/itk.c
++++ httpd-2.4.1/server/mpm/itk/itk.c
+@@ -66,6 +66,10 @@
+ #include <sys/processor.h> /* for bindprocessor() */
+ #endif
+ 
++#if HAVE_LIBCAP
++#include <sys/capability.h>
++#endif
++
+ #include <signal.h>
+ #include <sys/times.h>
+ 
+@@ -522,6 +526,15 @@ static void child_main(int child_num_arg
+     int last_poll_idx = 0;
+     const char *lockfile;
+ 
++#if HAVE_LIBCAP
++    cap_t caps;
++    cap_value_t suidcaps[] = {
++        CAP_SETUID,
++        CAP_SETGID,
++        CAP_DAC_READ_SEARCH,
++    };
++#endif    
++
+     mpm_state = AP_MPMQ_STARTING; /* for benefit of any hooks that run as this
+                                    * child initializes
+                                    */
+@@ -596,6 +609,22 @@ static void child_main(int child_num_arg
+         lr->accept_func = ap_unixd_accept;
+     }
+ 
++#if HAVE_LIBCAP
++    /* Drop as many privileges as we can. We'll still
++     * access files with uid=0, and we can setuid() to anything, but
++     * at least there's tons of other evilness (like loading kernel
++     * modules) we can't do directly.  (The setuid() capability will
++     * go away automatically when we setuid() or exec() -- the former
++     * is likely to come first.)
++     */
++    caps = cap_init();
++    cap_clear(caps);
++    cap_set_flag(caps, CAP_PERMITTED, sizeof(suidcaps)/sizeof(cap_value_t), suidcaps, CAP_SET);
++    cap_set_flag(caps, CAP_EFFECTIVE, sizeof(suidcaps)/sizeof(cap_value_t), suidcaps, CAP_SET);
++    cap_set_proc(caps);
++    cap_free(caps);
++#endif    
++
+     mpm_state = AP_MPMQ_RUNNING;
+ 
+     bucket_alloc = apr_bucket_alloc_create(pchild);
diff -ruN httpd-2.4.6.orig/fink/patches/itk/10-nice.patch httpd-2.4.6/fink/patches/itk/10-nice.patch
--- httpd-2.4.6.orig/fink/patches/itk/10-nice.patch	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/patches/itk/10-nice.patch	2013-07-21 10:47:15.000000000 -0600
@@ -0,0 +1,140 @@
+Support a per-location nice value. Note that since we now have two different settings
+in the per-dir configuration, we need to introduce a merge function.
+
+Index: httpd-2.4.1/server/mpm/itk/itk.c
+===================================================================
+--- httpd-2.4.1.orig/server/mpm/itk/itk.c
++++ httpd-2.4.1/server/mpm/itk/itk.c
+@@ -165,11 +165,14 @@ static pid_t ap_my_pid; /* it seems sill
+ static pid_t parent_pid;
+ static int my_child_num;
+ 
++#define UNSET_NICE_VALUE 100
++
+ typedef struct
+ {
+     uid_t uid;
+     gid_t gid;
+     char *username;
++    int nice_value;
+ } itk_per_dir_conf;
+ 
+ typedef struct
+@@ -532,6 +535,7 @@ static void child_main(int child_num_arg
+         CAP_SETUID,
+         CAP_SETGID,
+         CAP_DAC_READ_SEARCH,
++        CAP_SYS_NICE,
+     };
+ #endif    
+ 
+@@ -1554,6 +1558,12 @@ static int itk_post_perdir_config(reques
+     strncpy(ap_scoreboard_image->servers[my_child_num][0].vhost, r->server->server_hostname, 31);
+     ap_scoreboard_image->servers[my_child_num][0].vhost[31] = 0;
+ 
++    if (dconf->nice_value != UNSET_NICE_VALUE &&
++        setpriority(PRIO_PROCESS, 0, dconf->nice_value)) {
++        _DBG("setpriority(): %s", strerror(errno));
++        err = 1;
++    }
++
+     wanted_uid = dconf->uid;
+     wanted_gid = dconf->gid;
+     wanted_username = dconf->username;
+@@ -1564,7 +1574,7 @@ static int itk_post_perdir_config(reques
+         wanted_username = ap_unixd_config.user_name;
+     }
+ 
+-    if (wanted_uid != -1 && wanted_gid != -1 && (getuid() != wanted_uid || getgid() != wanted_gid)) {
++    if (!err && wanted_uid != -1 && wanted_gid != -1 && (getuid() != wanted_uid || getgid() != wanted_gid)) {
+         if (setgid(wanted_gid)) {
+             _DBG("setgid(%d): %s", wanted_gid, strerror(errno));
+             err = 1;
+@@ -1584,7 +1594,7 @@ static int itk_post_perdir_config(reques
+      */
+     if (err) {
+         ap_log_error(APLOG_MARK, APLOG_WARNING, 0, NULL, \
+-            "Couldn't set uid/gid, closing connection.");
++            "Couldn't set uid/gid/priority, closing connection.");
+         ap_lingering_close(r->connection);
+         exit(0);
+     }
+@@ -1695,6 +1705,27 @@ static const char *set_max_clients_vhost
+     return NULL;
+ }
+ 
++static const char *set_nice_value (cmd_parms *cmd, void *ptr, const char *arg)
++{
++    itk_per_dir_conf *dconf = (itk_per_dir_conf *) ptr;
++    int nice_value = atoi(arg);
++
++    if (nice_value < -20) {
++        ap_log_error(APLOG_MARK, APLOG_STARTUP, 0, NULL,
++                     "WARNING: NiceValue of %d is below -20, increasing NiceValue to -20.",
++                     nice_value);
++        nice_value = -20;
++    }
++    else if (nice_value > 19) {
++        ap_log_error(APLOG_MARK, APLOG_STARTUP, 0, NULL,
++                     "WARNING: NiceValue of %d is above 19, lowering NiceValue to 19.",
++                     nice_value);
++        nice_value = 19;
++    }
++    dconf->nice_value = nice_value;
++    return NULL;
++}
++
+ static const command_rec itk_cmds[] = {
+ LISTEN_COMMANDS,
+ AP_INIT_TAKE1("StartServers", set_daemons_to_start, NULL, RSRC_CONF,
+@@ -1713,6 +1744,8 @@ AP_INIT_TAKE2("AssignUserID", assign_use
+               "Tie a virtual host to a specific child process."),
+ AP_INIT_TAKE1("MaxClientsVHost", set_max_clients_vhost, NULL, RSRC_CONF,
+               "Maximum number of children alive at the same time for this virtual host."),
++AP_INIT_TAKE1("NiceValue", set_nice_value, NULL, RSRC_CONF|ACCESS_CONF,
++              "Set nice value for the given vhost, from -20 (highest priority) to 19 (lowest priority)."),
+ AP_GRACEFUL_SHUTDOWN_TIMEOUT_COMMAND,
+ { NULL }
+ };
+@@ -1723,6 +1756,32 @@ static void *itk_create_dir_config(apr_p
+     itk_per_dir_conf *c = (itk_per_dir_conf *)
+         apr_pcalloc(p, sizeof(itk_per_dir_conf));
+     c->uid = c->gid = -1;
++    c->nice_value = UNSET_NICE_VALUE;
++    return c;
++}
++
++/* == merge the parent per-dir config structure into ours == */
++static void *itk_merge_dir_config(apr_pool_t *p, void *parent_ptr, void *child_ptr)
++{
++    itk_per_dir_conf *c = (itk_per_dir_conf *)
++        itk_create_dir_config(p, NULL);
++    itk_per_dir_conf *parent = (itk_per_dir_conf *) parent_ptr;
++    itk_per_dir_conf *child = (itk_per_dir_conf *) child_ptr;
++
++    if (child->username != NULL) {
++      c->username = child->username;
++      c->uid = child->uid;
++      c->gid = child->gid;
++    } else {
++      c->username = parent->username;
++      c->uid = parent->uid;
++      c->gid = parent->gid;
++    }
++    if (child->nice_value != UNSET_NICE_VALUE) {
++      c->nice_value = child->nice_value;
++    } else {
++      c->nice_value = parent->nice_value;
++    }
+     return c;
+ }
+ 
+@@ -1739,7 +1798,7 @@ AP_DECLARE_MODULE(mpm_itk) = {
+     MPM20_MODULE_STUFF,
+     NULL,                       /* hook to run before apache parses args */
+     itk_create_dir_config,      /* create per-directory config structure */
+-    NULL,                       /* merge per-directory config structures */
++    itk_merge_dir_config,       /* merge per-directory config structures */
+     itk_create_server_config,   /* create per-server config structure */
+     NULL,                       /* merge per-server config structures */
+     itk_cmds,                   /* command apr_table_t */
diff -ruN httpd-2.4.6.orig/fink/patches/itk/11-fix-htaccess-reads-for-persistent-connections.patch httpd-2.4.6/fink/patches/itk/11-fix-htaccess-reads-for-persistent-connections.patch
--- httpd-2.4.6.orig/fink/patches/itk/11-fix-htaccess-reads-for-persistent-connections.patch	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/patches/itk/11-fix-htaccess-reads-for-persistent-connections.patch	2013-07-21 10:47:15.000000000 -0600
@@ -0,0 +1,23 @@
+To work around an issue where users can sometimes get spurious 403s on
+persistent connections the server needs to know it is running itk:
+
+Index: httpd-2.4.1/server/mpm/itk/itk.c
+===================================================================
+--- httpd-2.4.1.orig/server/mpm/itk/itk.c
++++ httpd-2.4.1/server/mpm/itk/itk.c
+@@ -181,6 +181,7 @@ typedef struct
+ } itk_server_conf;
+ 
+ module AP_MODULE_DECLARE_DATA mpm_itk_module;
++extern AP_DECLARE_DATA int ap_running_under_mpm_itk;
+ 
+ #ifdef GPROF
+ /*
+@@ -543,6 +544,7 @@ static void child_main(int child_num_arg
+                                    * child initializes
+                                    */
+ 
++    ap_running_under_mpm_itk = 1;
+     my_child_num = child_num_arg;
+     ap_my_pid = getpid();
+     requests_this_child = 0;
diff -ruN httpd-2.4.6.orig/fink/patches/itk/README httpd-2.4.6/fink/patches/itk/README
--- httpd-2.4.6.orig/fink/patches/itk/README	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/patches/itk/README	2013-07-21 10:47:15.000000000 -0600
@@ -0,0 +1,5 @@
+This is a prerelease version of mpm-itk against Apache 2.4.1.
+It is barely tested at all; use with caution.
+
+Follow the mpm-itk mailing list (http://lists.err.no/mailman/listinfo/mpm-itk)
+for a production 2.4 release.
diff -ruN httpd-2.4.6.orig/fink/patches/itk/series httpd-2.4.6/fink/patches/itk/series
--- httpd-2.4.6.orig/fink/patches/itk/series	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/patches/itk/series	2013-08-06 18:31:48.000000000 -0600
@@ -0,0 +1,12 @@
+#00-fix-bug-52904.patch
+#01-copy-prefork.patch
+02-rename-prefork-to-itk.patch
+#03-add-mpm-to-build-system.patch
+05-add-copyright.patch
+#06-hook-just-after-merging-perdir-config.patch
+07-base-functionality.patch
+08-max-clients-per-vhost.patch
+09-capabilities.patch
+10-nice.patch
+11-fix-htaccess-reads-for-persistent-connections.patch
+#99-rerun-configure.patch
diff -ruN httpd-2.4.6.orig/fink/patches/itk-fix-htaccess-reads-for-persistent-connections.patch httpd-2.4.6/fink/patches/itk-fix-htaccess-reads-for-persistent-connections.patch
--- httpd-2.4.6.orig/fink/patches/itk-fix-htaccess-reads-for-persistent-connections.patch	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/patches/itk-fix-htaccess-reads-for-persistent-connections.patch	2013-08-23 09:22:57.000000000 -0600
@@ -0,0 +1,61 @@
+Fix an itk issue where users can sometimes get spurious 403s on persistent
+connections (the description in the comments explains the logic).
+This would particularly hit people with reverse proxies, since these
+have a higher tendency of accessing things from different vhosts in
+the same connection.
+
+--- a/server/config.c
++++ b/server/config.c
+@@ -52,6 +52,10 @@
+ #include "util_varbuf.h"
+ #include "mpm_common.h"
+ 
++#include "http_connection.h"
++#include <unistd.h>
++#include <sys/types.h>
++
+ #define APLOG_UNSET   (APLOG_NO_MODULE - 1)
+ /* we know core's module_index is 0 */
+ #undef APLOG_MODULE_INDEX
+@@ -69,6 +73,8 @@
+ 
+ AP_DECLARE_DATA ap_directive_t *ap_conftree = NULL;
+ 
++AP_DECLARE_DATA int ap_running_under_mpm_itk = 0;
++
+ APR_HOOK_STRUCT(
+            APR_HOOK_LINK(header_parser)
+            APR_HOOK_LINK(pre_config)
+@@ -2138,6 +2144,32 @@
+         else {
+             if (!APR_STATUS_IS_ENOENT(status)
+                 && !APR_STATUS_IS_ENOTDIR(status)) {
++                /*
++                 * If we are in a persistent connection, we might end up in a state
++                 * where we can no longer read .htaccess files because we have already
++                 * setuid(). This can either be because the previous request was for
++                 * another vhost (basically the same problem as when setuid() fails in
++                 * itk.c), or it can be because a .htaccess file is readable only by
++                 * root.
++                 *
++                 * In any case, we don't want to give out a 403, since the request has
++                 * a very real chance of succeeding on a fresh connection (where
++                 * presumably uid=0). Thus, we give up serving the request on this
++                 * TCP connection, and do a hard close of the socket. As long as we're
++                 * in a persistent connection (and there _should_ not be a way this
++                 * would happen on the first request in a connection, save for subrequests,
++                 * which we special-case), this is allowed, as it is what happens on
++                 * a timeout. The browser will simply open a new connection and try
++                 * again (there's of course a performance hit, though, both due to
++                 * the new connection setup and the fork() of a new server child).
++                 */
++                if (ap_running_under_mpm_itk && r->main == NULL && getuid() != 0) {
++                    ap_log_rerror(APLOG_MARK, APLOG_WARNING, status, r,
++                                  "Couldn't read %s, closing connection.",
++                                  filename);
++                    ap_lingering_close(r->connection);
++                    exit(0);
++                }
+                 ap_log_rerror(APLOG_MARK, APLOG_CRIT, status, r, APLOGNO(00529)
+                               "%s pcfg_openfile: unable to check htaccess file, "
+                               "ensure it is readable and that '%s' "
diff -ruN httpd-2.4.6.orig/fink/patches/itk-rerun-configure.patch httpd-2.4.6/fink/patches/itk-rerun-configure.patch
--- httpd-2.4.6.orig/fink/patches/itk-rerun-configure.patch	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/patches/itk-rerun-configure.patch	2013-07-21 10:47:15.000000000 -0600
@@ -0,0 +1,784 @@
+# the analogon of running autoheader; autoconf, which is a pain to clean up
+#
+# To refresh this,
+# - unpack apr+apr-util in srclib/apr{,-util}
+# - run 'fakeroot debian/rules server/mpm/itk/.stamp'
+# - run 'buildconf'
+--- a/configure
++++ b/configure
+@@ -1983,6 +1983,10 @@
+                           default. MPM={event|worker|prefork|winnt} This will
+                           be statically linked as the only available MPM
+                           unless --enable-mpms-shared is also specified.
++  --with-mpm=MPM          Choose the process model for Apache to use by
++                          default. MPM={event|worker|prefork|winnt|itk} This
++                          will be statically linked as the only available MPM
++                          unless --enable-mpms-shared is also specified.
+   --with-module=module-type:module-file
+                           Enable module-file in the modules/<module-type>
+                           directory.
+@@ -25865,6 +25869,27 @@
+ 
+ fi
+ 
++{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if itk MPM supports this platform" >&5
++$as_echo_n "checking if itk MPM supports this platform... " >&6; }
++if test $forking_mpms_supported != yes; then
++    { $as_echo "$as_me:${as_lineno-$LINENO}: result: no - This is not a forking platform" >&5
++$as_echo "no - This is not a forking platform" >&6; }
++else
++    { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
++$as_echo "yes" >&6; }
++
++    if test "yes" = "yes"; then
++        eval "ap_supported_mpm_itk=shared"
++        ap_supported_shared_mpms="$ap_supported_shared_mpms itk "
++    else
++        eval "ap_supported_mpm_itk=static"
++    fi
++    if test "no" = "yes"; then
++        eval "ap_threaded_mpm_itk=yes"
++    fi
++
++fi
++
+ { $as_echo "$as_me:${as_lineno-$LINENO}: checking if mpmt_os2 MPM supports this platform" >&5
+ $as_echo_n "checking if mpmt_os2 MPM supports this platform... " >&6; }
+ case $host in
+@@ -27480,6 +27505,182 @@
+ 
+ 
+ 
++{ $as_echo "$as_me:${as_lineno-$LINENO}: checking which MPM to use by default" >&5
++$as_echo_n "checking which MPM to use by default... " >&6; }
++
++# Check whether --with-mpm was given.
++if test "${with_mpm+set}" = set; then :
++  withval=$with_mpm;
++    default_mpm=$withval
++    { $as_echo "$as_me:${as_lineno-$LINENO}: result: $withval" >&5
++$as_echo "$withval" >&6; };
++
++else
++
++                if ap_mpm_is_supported "winnt"; then
++        default_mpm=winnt
++        { $as_echo "$as_me:${as_lineno-$LINENO}: result: winnt" >&5
++$as_echo "winnt" >&6; }
++    elif ap_mpm_is_supported "mpmt_os2"; then
++        default_mpm=mpmt_os2
++        { $as_echo "$as_me:${as_lineno-$LINENO}: result: mpmt_os2" >&5
++$as_echo "mpmt_os2" >&6; }
++    elif ap_mpm_is_supported "event"; then
++        default_mpm=event
++        { $as_echo "$as_me:${as_lineno-$LINENO}: result: event" >&5
++$as_echo "event" >&6; }
++    elif ap_mpm_is_supported "worker"; then
++        default_mpm=worker
++        { $as_echo "$as_me:${as_lineno-$LINENO}: result: worker - event is not supported" >&5
++$as_echo "worker - event is not supported" >&6; }
++    else
++        default_mpm=prefork
++        { $as_echo "$as_me:${as_lineno-$LINENO}: result: prefork - event and worker are not supported" >&5
++$as_echo "prefork - event and worker are not supported" >&6; }
++    fi
++
++fi
++
++
++
++    if ap_mpm_is_enabled $default_mpm; then
++        :
++    else
++        eval "ap_enabled_mpm_$default_mpm=yes"
++        ap_enabled_mpms="$ap_enabled_mpms $default_mpm "
++    fi
++
++
++# Check whether --enable-mpms-shared was given.
++if test "${enable_mpms_shared+set}" = set; then :
++  enableval=$enable_mpms_shared;
++    if test "$enableval" = "no"; then
++        mpm_build=static
++    else
++        mpm_build=shared
++        if test "$enableval" = "yes"; then
++            enableval=$default_mpm
++        fi
++        for i in $enableval; do
++            if test "$i" = "all"; then
++                for j in $ap_supported_shared_mpms; do
++                    eval "enable_mpm_$j=shared"
++
++    if ap_mpm_is_enabled $j; then
++        :
++    else
++        eval "ap_enabled_mpm_$j=yes"
++        ap_enabled_mpms="$ap_enabled_mpms $j "
++    fi
++
++                done
++            else
++                i=`echo $i | sed 's/-/_/g'`
++                if ap_mpm_supports_shared $i; then
++                    eval "enable_mpm_$i=shared"
++
++    if ap_mpm_is_enabled $i; then
++        :
++    else
++        eval "ap_enabled_mpm_$i=yes"
++        ap_enabled_mpms="$ap_enabled_mpms $i "
++    fi
++
++                else
++                    as_fn_error $? "MPM $i does not support dynamic loading." "$LINENO" 5
++                fi
++            fi
++        done
++    fi
++
++else
++  mpm_build=static
++fi
++
++
++for i in $ap_enabled_mpms; do
++    if ap_mpm_is_supported $i; then
++        :
++    else
++        as_fn_error $? "MPM $i is not supported on this platform." "$LINENO" 5
++    fi
++    if test "$i" = "itk" ; then
++        { $as_echo "$as_me:${as_lineno-$LINENO}: checking for cap_init in -lcap" >&5
++$as_echo_n "checking for cap_init in -lcap... " >&6; }
++if ${ac_cv_lib_cap_cap_init+:} false; then :
++  $as_echo_n "(cached) " >&6
++else
++  ac_check_lib_save_LIBS=$LIBS
++LIBS="-lcap  $LIBS"
++cat confdefs.h - <<_ACEOF >conftest.$ac_ext
++/* end confdefs.h.  */
++
++/* Override any GCC internal prototype to avoid an error.
++   Use char because int might match the return type of a GCC
++   builtin and then its argument prototype would still apply.  */
++#ifdef __cplusplus
++extern "C"
++#endif
++char cap_init ();
++int
++main ()
++{
++return cap_init ();
++  ;
++  return 0;
++}
++_ACEOF
++if ac_fn_c_try_link "$LINENO"; then :
++  ac_cv_lib_cap_cap_init=yes
++else
++  ac_cv_lib_cap_cap_init=no
++fi
++rm -f core conftest.err conftest.$ac_objext \
++    conftest$ac_exeext conftest.$ac_ext
++LIBS=$ac_check_lib_save_LIBS
++fi
++{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_cap_cap_init" >&5
++$as_echo "$ac_cv_lib_cap_cap_init" >&6; }
++if test "x$ac_cv_lib_cap_cap_init" = xyes; then :
++  cat >>confdefs.h <<_ACEOF
++#define HAVE_LIBCAP 1
++_ACEOF
++
++  LIBS="-lcap $LIBS"
++
++fi
++
++    fi
++done
++
++if test $mpm_build = "shared"; then
++    eval "tmp=\$enable_mpm_$default_mpm"
++    if test "$tmp" != "shared"; then
++        as_fn_error $? "The default MPM ($default_mpm) must be included in --enable-mpms-shared.  Use --with-mpm to change the default MPM." "$LINENO" 5
++    fi
++fi
++
++
++  APACHE_FAST_OUTPUT_FILES="$APACHE_FAST_OUTPUT_FILES server/mpm/Makefile"
++
++
++if test $mpm_build = "shared"; then
++    MPM_LIB=""
++else
++    MPM_LIB=server/mpm/$default_mpm/lib${default_mpm}.la
++    MODLIST="$MODLIST mpm_${default_mpm}"
++fi
++
++MPM_SUBDIRS=$ap_enabled_mpms
++
++  APACHE_VAR_SUBST="$APACHE_VAR_SUBST MPM_SUBDIRS"
++
++
++
++  APACHE_VAR_SUBST="$APACHE_VAR_SUBST MPM_LIB"
++
++
++
+ 
+ 
+   APACHE_VAR_SUBST="$APACHE_VAR_SUBST MOD_MPM_EVENT_LDADD"
+@@ -27570,6 +27771,77 @@
+ 
+ 
+ 
++    if ap_mpm_is_enabled itk; then
++        if test -z ""; then
++            objects="itk.lo"
++        else
++            objects=""
++        fi
++
++        if test -z ""; then
++            mpmpath="server/mpm/itk"
++        else
++            mpmpath=
++        fi
++
++                test -d $mpmpath || $srcdir/build/mkdir.sh $mpmpath
++
++
++  APACHE_FAST_OUTPUT_FILES="$APACHE_FAST_OUTPUT_FILES $mpmpath/Makefile"
++
++
++        if test -z "$enable_mpm_itk"; then
++
++  if test "x$AP_LIBS" = "x"; then
++    test "x$silent" != "xyes" && echo "  setting AP_LIBS to \"\""
++    AP_LIBS=""
++  else
++    apr_addto_bugger=""
++    for i in $apr_addto_bugger; do
++      apr_addto_duplicate="0"
++      for j in $AP_LIBS; do
++        if test "x$i" = "x$j"; then
++          apr_addto_duplicate="1"
++          break
++        fi
++      done
++      if test $apr_addto_duplicate = "0"; then
++        test "x$silent" != "xyes" && echo "  adding \"$i\" to AP_LIBS"
++        AP_LIBS="$AP_LIBS $i"
++      fi
++    done
++  fi
++
++            libname="libitk.la"
++            cat >$mpmpath/modules.mk<<EOF
++$libname: $objects
++	\$(MOD_LINK) $objects
++DISTCLEAN_TARGETS = modules.mk
++static = $libname
++shared =
++EOF
++        else
++            apache_need_shared=yes
++            libname="mod_mpm_itk.la"
++            shobjects=`echo $objects | sed 's/\.lo/.slo/g'`
++            cat >$mpmpath/modules.mk<<EOF
++$libname: $shobjects
++	\$(SH_LINK) -rpath \$(libexecdir) -module -avoid-version $objects
++DISTCLEAN_TARGETS = modules.mk
++static =
++shared = $libname
++EOF
++            # add default MPM to LoadModule list
++            if test itk = $default_mpm; then
++                DSO_MODULES="$DSO_MODULES mpm_itk"
++                ENABLED_DSO_MODULES="${ENABLED_DSO_MODULES},mpm_itk"
++            fi
++        fi
++
++    fi
++
++
++
+     if ap_mpm_is_enabled prefork; then
+         if test -z ""; then
+             objects="prefork.lo"
+@@ -27811,6 +28083,7 @@
+ 
+ if ap_mpm_is_enabled "worker" \
+    || ap_mpm_is_enabled "event" \
++   || ap_mpm_is_enabled "itk" \
+    || ap_mpm_is_enabled "prefork"; then
+     unixd_mods_enable=yes
+ else
+@@ -30038,6 +30311,371 @@
+ 
+ 
+ 
++
++
++  current_dir=arch/unix
++  modpath_current=modules/arch/unix
++  modpath_static=
++  modpath_shared=
++  for var in CFLAGS CXXFLAGS CPPFLAGS LDFLAGS LIBS INCLUDES; do
++    eval MOD_$var=
++  done
++  test -d arch/unix || $srcdir/build/mkdir.sh $modpath_current
++  > $modpath_current/modules.mk
++
++
++if ap_mpm_is_enabled "worker" \
++   || ap_mpm_is_enabled "event" \
++   || ap_mpm_is_enabled "prefork"; then
++    unixd_mods_enable=yes
++else
++    unixd_mods_enable=no
++fi
++
++
++  { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether to enable mod_unixd" >&5
++$as_echo_n "checking whether to enable mod_unixd... " >&6; }
++    # Check whether --enable-unixd was given.
++if test "${enable_unixd+set}" = set; then :
++  enableval=$enable_unixd; force_unixd=$enableval
++else
++  enable_unixd=$unixd_mods_enable
++fi
++
++    _apmod_extra_msg=""
++        case "$enable_unixd" in
++    yes|static|shared)
++      _apmod_required="yes"
++      ;;
++    *)
++      case "$module_selection" in
++      reallyall|all|most)
++        _apmod_required="no"
++        ;;
++      *)
++        _apmod_required="yes"
++        ;;
++      esac
++  esac
++  if test "$enable_unixd" = "static"; then
++    enable_unixd=static
++  elif test "$enable_unixd" = "yes"; then
++    enable_unixd=$module_default
++  elif test "$enable_unixd" = "most"; then
++    if test "$module_selection" = "most" -o "$module_selection" = "all" -o \
++            "$module_selection" = "reallyall"
++    then
++      enable_unixd=$module_default
++    elif test "$module_selection" = "few" -o "$module_selection" = "none"; then
++      enable_unixd=no
++    fi
++    _apmod_extra_msg=" ($module_selection)"
++  elif test "$enable_unixd" = "maybe-all"; then
++    if test "$module_selection" = "all" -o "$module_selection" = "reallyall"
++    then
++      enable_unixd=$module_default
++      _apmod_extra_msg=" ($module_selection)"
++    else
++      enable_unixd=no
++    fi
++  elif test "$enable_unixd" = "no" -a "$module_selection" = "reallyall" -a \
++            "$force_unixd" != "no" ; then
++      enable_unixd=$module_default
++      _apmod_extra_msg=" ($module_selection)"
++  fi
++  if test "$enable_unixd" != "no"; then
++            :
++  fi
++  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $enable_unixd$_apmod_extra_msg" >&5
++$as_echo "$enable_unixd$_apmod_extra_msg" >&6; }
++  if test "$enable_unixd" != "no"; then
++    case "$enable_unixd" in
++    static*)
++      MODLIST="$MODLIST unixd"
++      if test "unixd" = "so"; then
++          sharedobjs=yes
++      fi
++      shared="";;
++    *)
++      enable_unixd=`echo $enable_unixd|sed 's/shared,*//'`
++      sharedobjs=yes
++      shared=yes
++      DSO_MODULES="$DSO_MODULES unixd"
++      if test "$unixd_mods_enable" = "yes" ; then
++        ENABLED_DSO_MODULES="${ENABLED_DSO_MODULES},unixd"
++      fi
++      ;;
++    esac
++
++
++  if test -z ""; then
++    objects="mod_unixd.lo"
++  else
++    objects=""
++  fi
++
++  if test -z "$module_standalone"; then
++    if test -z "$shared"; then
++      # The filename of a convenience library must have a "lib" prefix:
++      libname="libmod_unixd.la"
++      BUILTIN_LIBS="$BUILTIN_LIBS $modpath_current/$libname"
++      modpath_static="$modpath_static $libname"
++      cat >>$modpath_current/modules.mk<<EOF
++$libname: $objects
++	\$(MOD_LINK) $objects \$(MOD_UNIXD_LDADD)
++EOF
++      if test ! -z "\$(MOD_UNIXD_LDADD)"; then
++
++  if test "x$AP_LIBS" = "x"; then
++    test "x$silent" != "xyes" && echo "  setting AP_LIBS to \"\$(MOD_UNIXD_LDADD)\""
++    AP_LIBS="\$(MOD_UNIXD_LDADD)"
++  else
++    apr_addto_bugger="\$(MOD_UNIXD_LDADD)"
++    for i in $apr_addto_bugger; do
++      apr_addto_duplicate="0"
++      for j in $AP_LIBS; do
++        if test "x$i" = "x$j"; then
++          apr_addto_duplicate="1"
++          break
++        fi
++      done
++      if test $apr_addto_duplicate = "0"; then
++        test "x$silent" != "xyes" && echo "  adding \"$i\" to AP_LIBS"
++        AP_LIBS="$AP_LIBS $i"
++      fi
++    done
++  fi
++
++      fi
++    else
++      apache_need_shared=yes
++      libname="mod_unixd.la"
++      shobjects=`echo $objects | sed 's/\.lo/.slo/g'`
++      modpath_shared="$modpath_shared $libname"
++      cat >>$modpath_current/modules.mk<<EOF
++$libname: $shobjects
++	\$(SH_LINK) -rpath \$(libexecdir) -module -avoid-version  $objects \$(MOD_UNIXD_LDADD)
++EOF
++    fi
++  fi
++
++
++  APACHE_VAR_SUBST="$APACHE_VAR_SUBST MOD_UNIXD_LDADD"
++
++
++
++  fi
++
++
++  { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether to enable mod_privileges" >&5
++$as_echo_n "checking whether to enable mod_privileges... " >&6; }
++    # Check whether --enable-privileges was given.
++if test "${enable_privileges+set}" = set; then :
++  enableval=$enable_privileges; force_privileges=$enableval
++else
++  enable_privileges=no
++fi
++
++    _apmod_extra_msg=""
++        case "$enable_privileges" in
++    yes|static|shared)
++      _apmod_required="yes"
++      ;;
++    *)
++      case "$module_selection" in
++      reallyall|all|most)
++        _apmod_required="no"
++        ;;
++      *)
++        _apmod_required="yes"
++        ;;
++      esac
++  esac
++  if test "$enable_privileges" = "static"; then
++    enable_privileges=static
++  elif test "$enable_privileges" = "yes"; then
++    enable_privileges=$module_default
++  elif test "$enable_privileges" = "most"; then
++    if test "$module_selection" = "most" -o "$module_selection" = "all" -o \
++            "$module_selection" = "reallyall"
++    then
++      enable_privileges=$module_default
++    elif test "$module_selection" = "few" -o "$module_selection" = "none"; then
++      enable_privileges=no
++    fi
++    _apmod_extra_msg=" ($module_selection)"
++  elif test "$enable_privileges" = "maybe-all"; then
++    if test "$module_selection" = "all" -o "$module_selection" = "reallyall"
++    then
++      enable_privileges=$module_default
++      _apmod_extra_msg=" ($module_selection)"
++    else
++      enable_privileges=no
++    fi
++  elif test "$enable_privileges" = "no" -a "$module_selection" = "reallyall" -a \
++            "$force_privileges" != "no" ; then
++      enable_privileges=$module_default
++      _apmod_extra_msg=" ($module_selection)"
++  fi
++  if test "$enable_privileges" != "no"; then
++            { $as_echo "$as_me:${as_lineno-$LINENO}: result: checking dependencies" >&5
++$as_echo "checking dependencies" >&6; }
++            :
++
++  for ac_header in priv.h
++do :
++  ac_fn_c_check_header_mongrel "$LINENO" "priv.h" "ac_cv_header_priv_h" "$ac_includes_default"
++if test "x$ac_cv_header_priv_h" = xyes; then :
++  cat >>confdefs.h <<_ACEOF
++#define HAVE_PRIV_H 1
++_ACEOF
++ ap_HAVE_PRIV_H="yes"
++else
++  ap_HAVE_PRIV_H="no"
++fi
++
++done
++
++  if test $ap_HAVE_PRIV_H = "no"; then
++    { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: Your system does not support privileges." >&5
++$as_echo "$as_me: WARNING: Your system does not support privileges." >&2;}
++    enable_privileges="no"
++  fi
++
++            :
++            { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether to enable mod_privileges" >&5
++$as_echo_n "checking whether to enable mod_privileges... " >&6; }
++            if test "$enable_privileges" = "no"; then
++              if test "$_apmod_required" = "no"; then
++                _apmod_extra_msg=" (disabled)"
++              else
++                as_fn_error $? "mod_privileges has been requested but can not be built due to prerequisite failures" "$LINENO" 5
++              fi
++            fi
++  fi
++  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $enable_privileges$_apmod_extra_msg" >&5
++$as_echo "$enable_privileges$_apmod_extra_msg" >&6; }
++  if test "$enable_privileges" != "no"; then
++    case "$enable_privileges" in
++    static*)
++      MODLIST="$MODLIST privileges"
++      if test "privileges" = "so"; then
++          sharedobjs=yes
++      fi
++      shared="";;
++    *)
++      enable_privileges=`echo $enable_privileges|sed 's/shared,*//'`
++      sharedobjs=yes
++      shared=yes
++      DSO_MODULES="$DSO_MODULES privileges"
++      if test "no" = "yes" ; then
++        ENABLED_DSO_MODULES="${ENABLED_DSO_MODULES},privileges"
++      fi
++      ;;
++    esac
++
++
++  if test -z ""; then
++    objects="mod_privileges.lo"
++  else
++    objects=""
++  fi
++
++  if test -z "$module_standalone"; then
++    if test -z "$shared"; then
++      # The filename of a convenience library must have a "lib" prefix:
++      libname="libmod_privileges.la"
++      BUILTIN_LIBS="$BUILTIN_LIBS $modpath_current/$libname"
++      modpath_static="$modpath_static $libname"
++      cat >>$modpath_current/modules.mk<<EOF
++$libname: $objects
++	\$(MOD_LINK) $objects \$(MOD_PRIVILEGES_LDADD)
++EOF
++      if test ! -z "\$(MOD_PRIVILEGES_LDADD)"; then
++
++  if test "x$AP_LIBS" = "x"; then
++    test "x$silent" != "xyes" && echo "  setting AP_LIBS to \"\$(MOD_PRIVILEGES_LDADD)\""
++    AP_LIBS="\$(MOD_PRIVILEGES_LDADD)"
++  else
++    apr_addto_bugger="\$(MOD_PRIVILEGES_LDADD)"
++    for i in $apr_addto_bugger; do
++      apr_addto_duplicate="0"
++      for j in $AP_LIBS; do
++        if test "x$i" = "x$j"; then
++          apr_addto_duplicate="1"
++          break
++        fi
++      done
++      if test $apr_addto_duplicate = "0"; then
++        test "x$silent" != "xyes" && echo "  adding \"$i\" to AP_LIBS"
++        AP_LIBS="$AP_LIBS $i"
++      fi
++    done
++  fi
++
++      fi
++    else
++      apache_need_shared=yes
++      libname="mod_privileges.la"
++      shobjects=`echo $objects | sed 's/\.lo/.slo/g'`
++      modpath_shared="$modpath_shared $libname"
++      cat >>$modpath_current/modules.mk<<EOF
++$libname: $shobjects
++	\$(SH_LINK) -rpath \$(libexecdir) -module -avoid-version  $objects \$(MOD_PRIVILEGES_LDADD)
++EOF
++    fi
++  fi
++
++
++  APACHE_VAR_SUBST="$APACHE_VAR_SUBST MOD_PRIVILEGES_LDADD"
++
++
++
++  fi
++
++
++
++  if test "x$INCLUDES" = "x"; then
++    test "x$silent" != "xyes" && echo "  setting INCLUDES to \"-I\$(top_srcdir)/$modpath_current\""
++    INCLUDES="-I\$(top_srcdir)/$modpath_current"
++  else
++    apr_addto_bugger="-I\$(top_srcdir)/$modpath_current"
++    for i in $apr_addto_bugger; do
++      apr_addto_duplicate="0"
++      for j in $INCLUDES; do
++        if test "x$i" = "x$j"; then
++          apr_addto_duplicate="1"
++          break
++        fi
++      done
++      if test $apr_addto_duplicate = "0"; then
++        test "x$silent" != "xyes" && echo "  adding \"$i\" to INCLUDES"
++        INCLUDES="$INCLUDES $i"
++      fi
++    done
++  fi
++
++
++
++  echo "DISTCLEAN_TARGETS = modules.mk" >> $modpath_current/modules.mk
++  echo "static = $modpath_static" >> $modpath_current/modules.mk
++  echo "shared = $modpath_shared" >> $modpath_current/modules.mk
++  for var in CFLAGS CXXFLAGS CPPFLAGS LDFLAGS LIBS INCLUDES; do
++    if eval val=\"\$MOD_$var\"; test -n "$val"; then
++      echo "MOD_$var = $val" >> $modpath_current/modules.mk
++    fi
++  done
++  if test ! -z "$modpath_static" -o ! -z "$modpath_shared"; then
++    MODULE_DIRS="$MODULE_DIRS $current_dir"
++  else
++    MODULE_CLEANDIRS="$MODULE_CLEANDIRS $current_dir"
++  fi
++
++  APACHE_FAST_OUTPUT_FILES="$APACHE_FAST_OUTPUT_FILES $modpath_current/Makefile"
++
++
++
++
+ 
+     if ap_mpm_is_enabled mpmt_os2; then
+         if test -z "mpmt_os2.lo mpmt_os2_child.lo"; then
+--- a/include/ap_config_auto.h.in
++++ b/include/ap_config_auto.h.in
+@@ -103,6 +103,9 @@
+ /* Define to 1 if you have the `kqueue' function. */
+ #undef HAVE_KQUEUE
+ 
++/* Define to 1 if you have the `cap' library (-lcap). */
++#undef HAVE_LIBCAP
++
+ /* Define to 1 if you have the <limits.h> header file. */
+ #undef HAVE_LIMITS_H
+ 
+--- a/build/ltmain.sh
++++ b/build/ltmain.sh
+@@ -70,7 +70,7 @@
+ #         compiler:		$LTCC
+ #         compiler flags:		$LTCFLAGS
+ #         linker:		$LD (gnu? $with_gnu_ld)
+-#         $progname:	(GNU libtool) 2.4.2
++#         $progname:	(GNU libtool) 2.4.2 Debian-2.4.2-1.3
+ #         automake:	$automake_version
+ #         autoconf:	$autoconf_version
+ #
+@@ -80,7 +80,7 @@
+ 
+ PROGRAM=libtool
+ PACKAGE=libtool
+-VERSION=2.4.2
++VERSION="2.4.2 Debian-2.4.2-1.3"
+ TIMESTAMP=""
+ package_revision=1.3337
+ 
+@@ -5851,10 +5851,9 @@
+       # -tp=*                Portland pgcc target processor selection
+       # --sysroot=*          for sysroot support
+       # -O*, -flto*, -fwhopr*, -fuse-linker-plugin GCC link-time optimization
+-      # -stdlib=*            select c++ std lib with clang
+       -64|-mips[0-9]|-r[0-9][0-9]*|-xarch=*|-xtarget=*|+DA*|+DD*|-q*|-m*| \
+       -t[45]*|-txscale*|-p|-pg|--coverage|-fprofile-*|-F*|@*|-tp=*|--sysroot=*| \
+-      -O*|-flto*|-fwhopr*|-fuse-linker-plugin|-stdlib=*)
++      -O*|-flto*|-fwhopr*|-fuse-linker-plugin)
+         func_quote_for_eval "$arg"
+ 	arg="$func_quote_for_eval_result"
+         func_append compile_command " $arg"
+@@ -6125,7 +6124,10 @@
+ 	case $pass in
+ 	dlopen) libs="$dlfiles" ;;
+ 	dlpreopen) libs="$dlprefiles" ;;
+-	link) libs="$deplibs %DEPLIBS% $dependency_libs" ;;
++	link)
++	  libs="$deplibs %DEPLIBS%"
++	  test "X$link_all_deplibs" != Xno && libs="$libs $dependency_libs"
++	  ;;
+ 	esac
+       fi
+       if test "$linkmode,$pass" = "lib,dlpreopen"; then
+@@ -6445,19 +6447,19 @@
+ 	    # It is a libtool convenience library, so add in its objects.
+ 	    func_append convenience " $ladir/$objdir/$old_library"
+ 	    func_append old_convenience " $ladir/$objdir/$old_library"
++	    tmp_libs=
++	    for deplib in $dependency_libs; do
++	      deplibs="$deplib $deplibs"
++	      if $opt_preserve_dup_deps ; then
++		case "$tmp_libs " in
++		*" $deplib "*) func_append specialdeplibs " $deplib" ;;
++		esac
++	      fi
++	      func_append tmp_libs " $deplib"
++	    done
+ 	  elif test "$linkmode" != prog && test "$linkmode" != lib; then
+ 	    func_fatal_error "\`$lib' is not a convenience library"
+ 	  fi
+-	  tmp_libs=
+-	  for deplib in $dependency_libs; do
+-	    deplibs="$deplib $deplibs"
+-	    if $opt_preserve_dup_deps ; then
+-	      case "$tmp_libs " in
+-	      *" $deplib "*) func_append specialdeplibs " $deplib" ;;
+-	      esac
+-	    fi
+-	    func_append tmp_libs " $deplib"
+-	  done
+ 	  continue
+ 	fi # $pass = conv
+ 
+@@ -7350,6 +7352,9 @@
+ 	    revision="$number_minor"
+ 	    lt_irix_increment=no
+ 	    ;;
++	  *)
++	    func_fatal_configuration "$modename: unknown library version type \`$version_type'"
++	    ;;
+ 	  esac
+ 	  ;;
+ 	no)
diff -ruN httpd-2.4.6.orig/fink/patches/make_include_safe.patch httpd-2.4.6/fink/patches/make_include_safe.patch
--- httpd-2.4.6.orig/fink/patches/make_include_safe.patch	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/patches/make_include_safe.patch	2013-07-21 10:47:15.000000000 -0600
@@ -0,0 +1,67 @@
+Description: Avoid including dpkg droppings in globbed includes.
+ Include /dir/* will ignore /dir/*.dpkg* files
+Forwarded: not-needed
+Author: Adam Conrad <adconrad@0c3.net>
+Last-Update: 2012-02-25
+Index: apache2/server/config.c
+===================================================================
+--- apache2.orig/server/config.c
++++ apache2/server/config.c
+@@ -34,6 +34,7 @@
+ #include "apr_portable.h"
+ #include "apr_file_io.h"
+ #include "apr_fnmatch.h"
++#include "apr_lib.h"
+ 
+ #define APR_WANT_STDIO
+ #define APR_WANT_STRFUNC
+@@ -1787,6 +1788,29 @@
+     return NULL;
+ }
+ 
++static int fname_valid(const char *fname) {
++    const unsigned char *c = fname;
++    unsigned char bad_dpkg[] = "*.dpkg*";
++
++    if (!apr_isalnum(*c)) {
++        return 0;
++    }
++    ++c;
++
++    while (*c) {
++        if (!apr_isalnum(*c) && *c!='_' && *c!='-' && *c!='.') {
++            return 0;
++        }
++        ++c;
++    }
++
++    if (!apr_fnmatch(bad_dpkg, fname, 0)) {
++        return 0;
++    }
++
++    return 1;
++}
++
+ static const char *process_resource_config_nofnmatch(server_rec *s,
+                                                      const char *fname,
+                                                      ap_directive_t **conftree,
+@@ -1829,7 +1853,8 @@
+         while (apr_dir_read(&dirent, APR_FINFO_DIRENT, dirp) == APR_SUCCESS) {
+             /* strip out '.' and '..' */
+             if (strcmp(dirent.name, ".")
+-                && strcmp(dirent.name, "..")) {
++                && strcmp(dirent.name, "..")
++                && fname_valid(dirent.name)) {
+                 fnew = (fnames *) apr_array_push(candidates);
+                 fnew->fname = ap_make_full_path(ptemp, path, dirent.name);
+             }
+@@ -1918,7 +1943,8 @@
+         if (strcmp(dirent.name, ".")
+             && strcmp(dirent.name, "..")
+             && (apr_fnmatch(fname, dirent.name,
+-                            APR_FNM_PERIOD) == APR_SUCCESS)) {
++                            APR_FNM_PERIOD) == APR_SUCCESS)
++            && fname_valid(dirent.name)) {
+             const char *full_path = ap_make_full_path(ptemp, path, dirent.name);
+             /* If matching internal to path, and we happen to match something
+              * other than a directory, skip it
diff -ruN httpd-2.4.6.orig/fink/patches/no_LD_LIBRARY_PATH.patch httpd-2.4.6/fink/patches/no_LD_LIBRARY_PATH.patch
--- httpd-2.4.6.orig/fink/patches/no_LD_LIBRARY_PATH.patch	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/patches/no_LD_LIBRARY_PATH.patch	2013-07-21 10:47:15.000000000 -0600
@@ -0,0 +1,18 @@
+Description: Remove LD_LIBRARY_PATH from envvars-std
+Forwarded: no
+Author: Adam Conrad <adconrad@0c3.net>
+Last-Update: 2012-04-15
+--- a/support/envvars-std.in
++++ b/support/envvars-std.in
+@@ -18,11 +18,4 @@
+ #
+ # This file is generated from envvars-std.in
+ #
+-if test "x$@SHLIBPATH_VAR@" != "x" ; then
+-  @SHLIBPATH_VAR@="@exp_libdir@:$@SHLIBPATH_VAR@"
+-else
+-  @SHLIBPATH_VAR@="@exp_libdir@"
+-fi
+-export @SHLIBPATH_VAR@
+-#
+ @OS_SPECIFIC_VARS@
diff -ruN httpd-2.4.6.orig/fink/patches/open_htaccess_hook.patch httpd-2.4.6/fink/patches/open_htaccess_hook.patch
--- httpd-2.4.6.orig/fink/patches/open_htaccess_hook.patch	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/patches/open_htaccess_hook.patch	2013-08-23 09:24:24.000000000 -0600
@@ -0,0 +1,150 @@
+# Commit r1507680 from upstream branches/2.4.x
+# 
+# Author: Jim Jagielski <jim@apache.org>
+# Date:   Sat Jul 27 16:15:28 2013 +0000
+# 
+#     Merge r1389339, r1498880 from trunk:
+#     
+#     add pre_htaccess hook; in conjunction with earlier dirwalk_stat
+#     and post_perdir_config hooks, this should allow mpm-itk to be
+#     used without patches to httpd core
+#     
+#     
+#     
+#     Replace pre_htaccess hook with more flexible open_htaccess hook
+#     
+#     Submitted by: trawick, sf
+#     Reviewed/backported by: jim
+# 
+--- a/include/ap_mmn.h
++++ b/include/ap_mmn.h
+@@ -418,6 +418,7 @@
+  *                         ap_proxy_pass_brigade()
+  * 20120211.22 (2.4.5-dev) No longer prevent usage of strtoul()
+  * 20120211.23 (2.4.5-dev) Add ap_proxy_clear_connection()
++ * 20120211.24 (2.4.7-dev) add open_htaccess hook.
+  */
+ 
+ #define MODULE_MAGIC_COOKIE 0x41503234UL /* "AP24" */
+@@ -425,7 +426,7 @@
+ #ifndef MODULE_MAGIC_NUMBER_MAJOR
+ #define MODULE_MAGIC_NUMBER_MAJOR 20120211
+ #endif
+-#define MODULE_MAGIC_NUMBER_MINOR 23                   /* 0...n */
++#define MODULE_MAGIC_NUMBER_MINOR 24                   /* 0...n */
+ 
+ /**
+  * Determine if the server's current MODULE_MAGIC_NUMBER is at least a
+--- a/include/http_config.h
++++ b/include/http_config.h
+@@ -1322,6 +1322,31 @@
+ AP_DECLARE_HOOK(void,optional_fn_retrieve,(void))
+ 
+ /**
++ * Allow modules to open htaccess files or perform operations before doing so
++ * @param r The current request
++ * @param dir_name The directory for which the htaccess file should be opened
++ * @param access_name The filename  for which the htaccess file should be opened
++ * @param conffile Where the pointer to the opened ap_configfile_t must be
++ *        stored
++ * @param full_name Where the full file name of the htaccess file must be
++ *        stored.
++ * @return APR_SUCCESS on success,
++ *         APR_ENOENT or APR_ENOTDIR if no htaccess file exists,
++ *         AP_DECLINED to let later modules do the opening,
++ *         any other error code on error.
++ */
++AP_DECLARE_HOOK(apr_status_t,open_htaccess,
++                (request_rec *r, const char *dir_name, const char *access_name,
++                 ap_configfile_t **conffile, const char **full_name))
++
++/**
++ * Core internal function, use ap_run_open_htaccess() instead.
++ */
++apr_status_t ap_open_htaccess(request_rec *r, const char *dir_name,
++        const char *access_name, ap_configfile_t **conffile,
++        const char **full_name);
++
++/**
+  * A generic pool cleanup that will reset a pointer to NULL. For use with
+  * apr_pool_cleanup_register.
+  * @param data The address of the pointer
+--- a/server/config.c
++++ b/server/config.c
+@@ -80,6 +80,7 @@
+            APR_HOOK_LINK(quick_handler)
+            APR_HOOK_LINK(optional_fn_retrieve)
+            APR_HOOK_LINK(test_config)
++           APR_HOOK_LINK(open_htaccess)
+ )
+ 
+ AP_IMPLEMENT_HOOK_RUN_ALL(int, header_parser,
+@@ -171,6 +172,12 @@
+ AP_IMPLEMENT_HOOK_RUN_FIRST(int, quick_handler, (request_rec *r, int lookup),
+                             (r, lookup), DECLINED)
+ 
++AP_IMPLEMENT_HOOK_RUN_FIRST(apr_status_t, open_htaccess,
++                            (request_rec *r, const char *dir_name, const char *access_name,
++                             ap_configfile_t **conffile, const char **full_name),
++                            (r, dir_name, access_name, conffile, full_name),
++                            AP_DECLINED)
++
+ /* hooks with no args are implemented last, after disabling APR hook probes */
+ #if defined(APR_HOOK_PROBES_ENABLED)
+ #undef APR_HOOK_PROBES_ENABLED
+@@ -2073,14 +2080,23 @@
+     return OK;
+ }
+ 
++apr_status_t ap_open_htaccess(request_rec *r, const char *dir_name,
++                              const char *access_name,
++                              ap_configfile_t **conffile,
++                              const char **full_name)
++{
++    *full_name = ap_make_full_path(r->pool, dir_name, access_name);
++    return ap_pcfg_openfile(conffile, r->pool, *full_name);
++}
++
+ AP_CORE_DECLARE(int) ap_parse_htaccess(ap_conf_vector_t **result,
+                                        request_rec *r, int override,
+                                        int override_opts, apr_table_t *override_list,
+-                                       const char *d, const char *access_name)
++                                       const char *d, const char *access_names)
+ {
+     ap_configfile_t *f = NULL;
+     cmd_parms parms;
+-    char *filename = NULL;
++    const char *filename;
+     const struct htaccess_result *cache;
+     struct htaccess_result *new;
+     ap_conf_vector_t *dc = NULL;
+@@ -2104,15 +2120,11 @@
+     parms.path = apr_pstrdup(r->pool, d);
+ 
+     /* loop through the access names and find the first one */
+-    while (access_name[0]) {
+-        /* AFAICT; there is no use of the actual 'filename' against
+-         * any canonicalization, so we will simply take the given
+-         * name, ignoring case sensitivity and aliases
+-         */
+-        filename = ap_make_full_path(r->pool, d,
+-                                     ap_getword_conf(r->pool, &access_name));
+-        status = ap_pcfg_openfile(&f, r->pool, filename);
++    while (access_names[0]) {
++        const char *access_name = ap_getword_conf(r->pool, &access_names);
+ 
++        filename = NULL;
++        status = ap_run_open_htaccess(r, d, access_name, &f, &filename);
+         if (status == APR_SUCCESS) {
+             const char *errmsg;
+             ap_directive_t *temptree = NULL;
+--- a/server/core.c
++++ b/server/core.c
+@@ -4878,6 +4878,7 @@
+     ap_hook_insert_network_bucket(core_insert_network_bucket, NULL, NULL,
+                                   APR_HOOK_REALLY_LAST);
+     ap_hook_dirwalk_stat(core_dirwalk_stat, NULL, NULL, APR_HOOK_REALLY_LAST);
++    ap_hook_open_htaccess(ap_open_htaccess, NULL, NULL, APR_HOOK_REALLY_LAST);
+     
+     /* register the core's insert_filter hook and register core-provided
+      * filters
diff -ruN httpd-2.4.6.orig/fink/patches/suexec-CVE-2007-1742.patch httpd-2.4.6/fink/patches/suexec-CVE-2007-1742.patch
--- httpd-2.4.6.orig/fink/patches/suexec-CVE-2007-1742.patch	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/patches/suexec-CVE-2007-1742.patch	2013-07-21 10:47:15.000000000 -0600
@@ -0,0 +1,62 @@
+Description: Fix race condition with chdir
+ Fix /var/www* being accepted as docroot instead of /var/www/*
+ (the same for public_html* instead of public_html/* )
+Author: Stefan Fritsch <sf@debian.org>
+Last-Update: 2012-02-25
+Bug: https://issues.apache.org/bugzilla/show_bug.cgi?id=44752
+--- a/support/suexec.c
++++ b/support/suexec.c
+@@ -42,6 +42,7 @@
+ #if APR_HAVE_UNISTD_H
+ #include <unistd.h>
+ #endif
++#include <fcntl.h>
+ 
+ #include <stdio.h>
+ #include <stdarg.h>
+@@ -261,6 +262,7 @@
+     struct group *gr;       /* group entry holder        */
+     struct stat dir_info;   /* directory info holder     */
+     struct stat prg_info;   /* program info holder       */
++    int cwdh;               /* handle to cwd             */
+ 
+     /*
+      * Start with a "clean" environment
+@@ -502,11 +504,16 @@
+         exit(111);
+     }
+ 
++    if ( (cwdh = open(".", O_RDONLY)) == -1 ) {
++        log_err("cannot open current working directory\n");
++        exit(111);
++    }
++
+     if (userdir) {
+         if (((chdir(target_homedir)) != 0) ||
+             ((chdir(AP_USERDIR_SUFFIX)) != 0) ||
+             ((getcwd(dwd, AP_MAXPATH)) == NULL) ||
+-            ((chdir(cwd)) != 0)) {
++            ((fchdir(cwdh)) != 0)) {
+             log_err("cannot get docroot information (%s)\n", target_homedir);
+             exit(112);
+         }
+@@ -514,12 +521,18 @@
+     else {
+         if (((chdir(AP_DOC_ROOT)) != 0) ||
+             ((getcwd(dwd, AP_MAXPATH)) == NULL) ||
+-            ((chdir(cwd)) != 0)) {
++            ((fchdir(cwdh)) != 0)) {
+             log_err("cannot get docroot information (%s)\n", AP_DOC_ROOT);
+             exit(113);
+         }
+     }
+ 
++    close(cwdh);
++
++    if (strlen(cwd) > strlen(dwd)) {
++        strncat(dwd, "/", AP_MAXPATH);
++        dwd[AP_MAXPATH-1] = '\0';
++    }
+     if ((strncmp(cwd, dwd, strlen(dwd))) != 0) {
+         log_err("command not in docroot (%s/%s)\n", cwd, cmd);
+         exit(114);
diff -ruN httpd-2.4.6.orig/fink/patches/suexec-custom.patch httpd-2.4.6/fink/patches/suexec-custom.patch
--- httpd-2.4.6.orig/fink/patches/suexec-custom.patch	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/patches/suexec-custom.patch	2013-08-06 18:35:22.000000000 -0600
@@ -0,0 +1,196 @@
+Description: the actual patch to make suexec-custom read a config file
+Forwarded: not-needed
+Author: Stefan Fritsch <sf@debian.org>
+Last-Update: 2012-02-25
+Index: apache2/support/suexec-custom.c
+===================================================================
+--- apache2.orig/support/suexec-custom.c
++++ apache2/support/suexec-custom.c
+@@ -29,6 +29,7 @@
+  *
+  *
+  */
++#define SUEXEC_CONFIG_DIR "@FINKPREFIX@/etc/apache2/suexec/"
+ 
+ #include "apr.h"
+ #include "ap_config.h"
+@@ -39,6 +40,7 @@
+ #include <sys/types.h>
+ #include <string.h>
+ #include <time.h>
++#include <ctype.h>
+ #if APR_HAVE_UNISTD_H
+ #include <unistd.h>
+ #endif
+@@ -191,6 +193,26 @@
+     return;
+ }
+ 
++static int read_line(char *buf, FILE *file) {
++    char *p;
++    p = fgets(buf, AP_MAXPATH+1, file);
++    if (!p) return 0;
++    if (*p == '\0') return 1;
++
++    p = buf;
++    while (*p)
++        p++;
++    p--;
++
++    /* remove trailing space and slash */
++    while ( isspace(*p) && p >= buf )
++        *p-- = '\0';
++    while ( *p == '/' && p >= buf )
++        *p-- = '\0';
++
++    return 1;
++}
++
+ static void clean_env(void)
+ {
+     char pathbuf[512];
+@@ -253,6 +275,11 @@
+     struct stat dir_info;   /* directory info holder     */
+     struct stat prg_info;   /* program info holder       */
+     int cwdh;               /* handle to cwd             */
++    char *suexec_docroot        = NULL;
++    char *suexec_userdir_suffix = NULL;
++    char *filename              = NULL;
++    FILE *configfile;
++
+ 
+     /*
+      * Start with a "clean" environment
+@@ -282,15 +309,10 @@
+             || (! strcmp(AP_HTTPD_USER, pw->pw_name)))
+ #endif /* _OSD_POSIX */
+         ) {
+-#ifdef AP_DOC_ROOT
+-        fprintf(stderr, " -D AP_DOC_ROOT=\"%s\"\n", AP_DOC_ROOT);
+-#endif
++        fprintf(stderr, " -D SUEXEC_CONFIG_DIR=%s\n", SUEXEC_CONFIG_DIR);
+ #ifdef AP_GID_MIN
+         fprintf(stderr, " -D AP_GID_MIN=%d\n", AP_GID_MIN);
+ #endif
+-#ifdef AP_HTTPD_USER
+-        fprintf(stderr, " -D AP_HTTPD_USER=\"%s\"\n", AP_HTTPD_USER);
+-#endif
+ #ifdef AP_LOG_EXEC
+         fprintf(stderr, " -D AP_LOG_EXEC=\"%s\"\n", AP_LOG_EXEC);
+ #endif
+@@ -303,9 +325,6 @@
+ #ifdef AP_UID_MIN
+         fprintf(stderr, " -D AP_UID_MIN=%d\n", AP_UID_MIN);
+ #endif
+-#ifdef AP_USERDIR_SUFFIX
+-        fprintf(stderr, " -D AP_USERDIR_SUFFIX=\"%s\"\n", AP_USERDIR_SUFFIX);
+-#endif
+         exit(0);
+     }
+     /*
+@@ -320,23 +339,6 @@
+     target_gname = argv[2];
+     cmd = argv[3];
+ 
+-    /*
+-     * Check to see if the user running this program
+-     * is the user allowed to do so as defined in
+-     * suexec.h.  If not the allowed user, error out.
+-     */
+-#ifdef _OSD_POSIX
+-    /* User name comparisons are case insensitive on BS2000/OSD */
+-    if (strcasecmp(AP_HTTPD_USER, pw->pw_name)) {
+-        log_err("user mismatch (%s instead of %s)\n", pw->pw_name, AP_HTTPD_USER);
+-        exit(103);
+-    }
+-#else  /*_OSD_POSIX*/
+-    if (strcmp(AP_HTTPD_USER, pw->pw_name)) {
+-        log_err("user mismatch (%s instead of %s)\n", pw->pw_name, AP_HTTPD_USER);
+-        exit(103);
+-    }
+-#endif /*_OSD_POSIX*/
+ 
+     /*
+      * Check for a leading '/' (absolute path) in the command to be executed,
+@@ -361,6 +363,63 @@
+     }
+ 
+     /*
++     * Check to see if the user running this program
++     * is the user allowed to do so as defined in
++     * SUEXEC_CONFIG_DIR/username
++     * If not, error out.
++     */
++    filename = malloc(AP_MAXPATH+1);
++    suexec_docroot = malloc(AP_MAXPATH+1);
++    suexec_userdir_suffix = malloc(AP_MAXPATH+1);
++    if (!filename || !suexec_docroot || !suexec_userdir_suffix) {
++        log_err("malloc failed\n");
++        exit(120);
++    }
++
++    strncpy(filename, SUEXEC_CONFIG_DIR, AP_MAXPATH);
++    strncat(filename, pw->pw_name, AP_MAXPATH);
++    filename[AP_MAXPATH] = '\0';
++
++    configfile = fopen(filename, "r");
++    if (!configfile) {
++        log_err("User %s not allowed: Could not open config file %s\n", pw->pw_name, filename);
++        exit(123);
++    }
++
++    if (!read_line(suexec_docroot, configfile)) {
++        log_err("Could not read docroot from %s\n", filename);
++        exit(124);
++    }
++
++    if (!read_line(suexec_userdir_suffix, configfile)) {
++        log_err("Could not read userdir suffix from %s\n", filename);
++        exit(125);
++    }
++
++    fclose(configfile);
++
++    if (userdir) {
++        if ( !isalnum(*suexec_userdir_suffix) && suexec_userdir_suffix[0] != '.') {
++            log_err("userdir suffix disabled in %s\n", filename);
++            exit(126);
++        }
++    }
++    else {
++            if (suexec_docroot[0] != '/') {
++                log_err("docroot disabled in %s\n", filename);
++                exit(127);
++            }
++
++            if (suexec_docroot[1] == '/' ||
++            suexec_docroot[1] == '.' ||
++            suexec_docroot[1] == '\0' )
++            {
++                log_err("invalid docroot %s in %s\n", suexec_docroot, filename);
++                exit(128);
++            }
++    }
++
++    /*
+      * Error out if the target username is invalid.
+      */
+     if (strspn(target_uname, "1234567890") != strlen(target_uname)) {
+@@ -494,7 +553,7 @@
+ 
+     if (userdir) {
+         if (((chdir(target_homedir)) != 0) ||
+-            ((chdir(AP_USERDIR_SUFFIX)) != 0) ||
++            ((chdir(suexec_userdir_suffix)) != 0) ||
+             ((getcwd(dwd, AP_MAXPATH)) == NULL) ||
+             ((fchdir(cwdh)) != 0)) {
+             log_err("cannot get docroot information (%s)\n", target_homedir);
+@@ -502,7 +561,7 @@
+         }
+     }
+     else {
+-        if (((chdir(AP_DOC_ROOT)) != 0) ||
++        if (((chdir(suexec_docroot)) != 0) ||
+             ((getcwd(dwd, AP_MAXPATH)) == NULL) ||
+             ((fchdir(cwdh)) != 0)) {
+             log_err("cannot get docroot information (%s)\n", AP_DOC_ROOT);
diff -ruN httpd-2.4.6.orig/fink/patches/suexec_is_shared.patch httpd-2.4.6/fink/patches/suexec_is_shared.patch
--- httpd-2.4.6.orig/fink/patches/suexec_is_shared.patch	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/patches/suexec_is_shared.patch	2013-07-21 10:47:15.000000000 -0600
@@ -0,0 +1,20 @@
+#! /bin/sh /usr/share/dpatch/dpatch-run
+## 032_suexec_is_shared by Adam Conrad <adconrad@0c3.net>
+##
+## All lines beginning with `## DP:' are a description of the patch.
+## DP: Patch to allow suEXEC as shared.
+
+@DPATCH@
+--- a/os/unix/unixd.c
++++ b/os/unix/unixd.c
+@@ -266,6 +266,10 @@
+ 
+     /* Check for suexec */
+     unixd_config.suexec_enabled = 0;
++    /* If mod_suexec isn't linked in, we shouldn't test for the binary */
++    if (ap_find_linked_module("mod_suexec.c") == NULL) {
++	return;
++    }
+     if ((apr_stat(&wrapper, SUEXEC_BIN,
+                   APR_FINFO_NORM, ptemp)) != APR_SUCCESS) {
+         return;
diff -ruN httpd-2.4.6.orig/fink/secondary-daemonic-script httpd-2.4.6/fink/secondary-daemonic-script
--- httpd-2.4.6.orig/fink/secondary-daemonic-script	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/secondary-daemonic-script	2013-08-08 08:49:40.000000000 -0600
@@ -0,0 +1,9 @@
+ <service>
+  <description>Apache2-XXX web server</description>
+  <message>Apache2-XXX web server</message>
+
+  <daemon name="apache2-XXX">
+    <executable background="yes">@FINKPREFIX@/sbin/apache2ctl-XXX</executable>
+    <parameters> -k start</parameters>
+  </daemon>
+ </service>
diff -ruN httpd-2.4.6.orig/fink/setup-instance httpd-2.4.6/fink/setup-instance
--- httpd-2.4.6.orig/fink/setup-instance	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/setup-instance	2013-08-08 08:47:46.000000000 -0600
@@ -0,0 +1,39 @@
+#!/bin/sh
+
+set -eu
+
+if [ $# != 1 ] ; then
+	echo usage: $0 '<suffix>'
+	exit 1
+fi
+
+# the SUFFIX must not contain spaces or shell meta characters
+SUFFIX=$1
+
+if [ -e @FINKPREFIX@/etc/apache2-$SUFFIX ] ; then
+	echo ERROR: @FINKPREFIX@/etc/apache2-$SUFFIX already exists
+	exit 2
+fi
+
+echo Setting up @FINKPREFIX@/etc/apache2-$SUFFIX ...
+cp -a @FINKPREFIX@/etc/apache2 @FINKPREFIX@/etc/apache2-$SUFFIX
+
+echo Setting up apache2-$SUFFIX ...
+cp @FINKPREFIX@/share/doc/apache2/examples/secondary-daemonic-script @FINKPREFIX@/etc/daemons/apache2-$SUFFIX
+# adjust service name (this prevents us from using a simple symlink)
+perl -p -i -e s,XXX,$SUFFIX, @FINKPREFIX@/etc/daemons/apache2-$SUFFIX/daemonic-apache2-$SUFFIX
+
+echo -n Setting up symlinks: 
+for a in a2enmod a2dismod a2ensite a2dissite apache2ctl ; do
+	echo -n " $a-$SUFFIX"
+	ln -s @FINKPREFIX@/sbin/$a @FINKPREFIX@/sbin/$a-$SUFFIX
+done
+echo
+
+echo Setting up @FINKPREFIX@/etc/logrotate.d/apache2-$SUFFIX and @FINKPREFIX@/var/log/apache2-$SUFFIX ...
+cp -a @FINKPREFIX@/etc/logrotate.d/apache2 @FINKPREFIX@/etc/logrotate.d/apache2-$SUFFIX
+perl -p -i -e s,apache2,apache2-$SUFFIX,g @FINKPREFIX@/etc/logrotate.d/apache2-$SUFFIX
+mkdir @FINKPREFIX@/var/log/apache2-$SUFFIX
+chmod 750 @FINKPREFIX@/var/log/apache2-$SUFFIX
+chown root:admin @FINKPREFIX@/var/log/apache2-$SUFFIX
+daemonic install apache2-$SUFFIX
diff -ruN httpd-2.4.6.orig/fink/suexec-config-dir/www httpd-2.4.6/fink/suexec-config-dir/www
--- httpd-2.4.6.orig/fink/suexec-config-dir/www	1969-12-31 17:00:00.000000000 -0700
+++ httpd-2.4.6/fink/suexec-config-dir/www	2013-08-06 19:17:44.000000000 -0600
@@ -0,0 +1,7 @@
+@FINKPREFIX@/var/www
+Sites/cgi-bin
+# The first two lines contain the suexec document root and the suexec userdir
+# suffix. If one of them is disabled by prepending a # character, suexec will
+# refuse the corresponding type of request. 
+# This config file is only used by the apache2-suexec-custom package. See the
+# suexec man page included in the package for more details.
