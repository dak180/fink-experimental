Package: php5-adodb
Version: 5.04
Revision: 1
###
BuildDepends: php5-dev
Depends: phpapi-20100525
###
Source: http://phplens.com/lens/dl/adodb-ext-504.zip
Source-MD5: 4efb3fc1f5a347f20be9222885779688
SourceDirectory: adodb-504
###
PatchFile: %n.patch
PatchFile-MD5: 62299baa0958cf38ac90675ad4f9dd26
PatchScript: <<
sed -e 's,@FINKPREFIX@,%p,g' %{PatchFile} | patch -p1

patch -p1 < fink/patches/5.3_support.patch
patch -p1 < fink/patches/fix_phpinfo_url.patch
patch -p1 < fink/patches/5.4_support.patch
<<
###
SetCFLAGS: -D_FORTIFY_SOURCE=2 -Wformat -Wformat-security
ConfigureParams: --with-php-config=%p/bin/php-config5 --enable-adodb --enable-shared --disable-static
CompileScript: <<
phpize5
./configure %c
make
<<
InfoTest: <<
  TestScript: make test || exit 2
<<
InstallScript: <<
PHP_EX=$(%p/bin/php-config5 --extension-dir); \
install -d -m 0755 %d/${PHP_EX}; \
install -m 0644 modules/adodb.so %d/${PHP_EX}/adodb.so
install -d -m 0755 %i/etc/php5/conf.d
install -m 0644 fink/adodb.ini %i/etc/php5/conf.d/adodb.ini
<<
###
ConfFiles: %p/etc/php5/conf.d/adodb.ini
DocFiles: CREDITS README.txt
###
Description: Extension optimising the ADOdb library
DescDetail: <<
It provides up to 100% speedup on some drivers by replacing parts of ADOdb
with C code. Some of the drivers taking advantage of the extension are:
 * mysql
 * oci8
 * postgres7
ADOdb will auto-detect if this extension is installed and use it automatically.
<<
###
License: BSD
Maintainer: Justin F. Halett <thesin@lists.sourceforge.net>
Homepage: http://adodb.sourceforge.net/
