Package: php5-xdebug
Version: 2.2.5
Revision: 1.1
###
BuildDepends: <<
	fink (>= 0.32),
	debhelper (>= 9),
	php5-dev (>= 5.1),
	libtool2,
	dh-php5
<<
Depends: <<
	ucf,
	phpapi-20121212
<<
###
Source: mirror:debian:pool/main/x/xdebug/xdebug_%v.orig.tar.gz
Source-MD5: 7e571ce8eb6fa969fd8263969019849d
NoSourceDirectory: true
Source2: mirror:debian:pool/main/x/xdebug/xdebug_%v-1.debian.tar.xz
Source2-MD5: 467a26da0248e537603eeb1004771c92
###
PatchScript: <<
#!/bin/sh -ev
BASE=$(echo %p | perl -pi -e 's,/,,'); \
for i in `find debian -type f`; do perl -pi -e "s,usr,${BASE},g" $i; done; \
for i in `find debian -type f`; do perl -pi -e "s,etc,${BASE}\/etc,g" $i; done; \
for i in `find debian -type f`; do perl -pi -e "s,var\/lib,${BASE}\/var\/lib,g" $i; done

### Leave these things to fink
perl -pi -e 's,dh_gencontrol,#dh_gencontrol,g' debian/rules
perl -pi -e 's,dh_md5sums,#dh_md5sum,g' debian/rules
perl -pi -e 's,dh_builddeb,#dh_builddeb,g' debian/rules
<<
CompileScript: <<
debian/rules build
<<
InfoTest: <<
	TestScript: <<
dh_auto_test || exit 2
	<<
<<
InstallScript: <<
debian/rules binary

cp -R debian/%N%p/* %i/
cp debian/%N/DEBIAN/* %d/DEBIAN/
<<
###
Description: Xdebug Module for PHP 5
DescDetail: <<
The Xdebug extension helps you debugging your script by providing a lot of
valuable debug information. The debug information that Xdebug can provide
includes the following:
.
   * stack traces and function traces in error messages with:
      - full parameter display for user defined functions
      - function name, file name and line indications
      - support for member functions
   * memory allocation
   * protection for infinite recursions
.
Xdebug also provides:
.
   * profiling information for PHP scripts
   * script execution analysis
   * capabilities to debug your scripts interactively with a debug client
<<
###
License: GPL
Maintainer: Justin F. Halett <thesin@lists.sourceforge.net>
Homepage: http://xdebug.org/
